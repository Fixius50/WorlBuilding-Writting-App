<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Documentación WorldbuildingApp</title>
    <style>
        body {
            font-family: sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        h1,
        h2 {
            color: #333;
        }

        pre {
            background: #f4f4f4;
            padding: 10px;
            overflow-x: auto;
        }

        code {
            font-family: monospace;
        }

        .error {
            color: red;
        }

        .success {
            color: green;
        }
    </style>
</head>

<body>
    <h1>Estado del Proyecto WorldbuildingApp</h1>
    <p><strong>Última Actualización:</strong> 2026-01-26</p>

    <h2>Visión General</h2>
    <p>Aplicación de gestión de mundos (Worldbuilding) con soporte para líneas de tiempo, mapas mentales (grafos) y
        escritura de novelas. Arquitectura estricta multi-tenant basada en SQLite.</p>

    <h2>Incidencias Recientes</h2>
    <h3>Error 500 en Vista de Escritura</h3>
    <p class="error">Estado: Parcialmente Resuelto / Pendiente Verificación</p>
    <p>El endpoint <code>GET /escritura/cuaderno/{id}</code> fallaba debido a que la tabla <code>hoja</code> en SQLite
        carecía de la columna <code>deleted</code> (soft-delete), requerida por la entidad JPA.</p>
    <p><strong>Acción Tomada:</strong> Se modificó <code>MigrationService</code> para inyectar las columnas faltantes
        mediante SQL directo.</p>

    <h2>Logs del Sistema</h2>
    <ul>
        <li><a href="log_prompts.md">Registro de Prompts (Debugging Session)</a></li>
        <li><a href="log_errores.md">Registro de Errores (Detalle Técnico)</a></li>
    </ul>

    <h2>Próximos Pasos</h2>
    <ol>
        <li>Reiniciar servidor para asegurar liberación de locks en DB.</li>
        <li>Verificar persistencia de columnas <code>deleted</code> en <code>FavTestFinal.db</code>.</li>
        <li>Validar carga de editor de escritura.</li>
    </ol>
</body>

</html>