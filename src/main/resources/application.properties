spring.application.name=WorldbuildingAppV2

# ===============================================
# --- CONFIGURACIÓN DE BASE DE DATOS SQLITE ---
# ===============================================

# BD en archivo (SQLite)
spring.datasource.url=jdbc:sqlite:./src/main/resources/data/worldbuilding.db
spring.datasource.driver-class-name=org.sqlite.JDBC
spring.datasource.username=
spring.datasource.password=

# JPA/Hibernate
# Usamos el dialecto comunitario para SQLite (Hibernate 6+)
spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect
# 'update' intentará actualizar el esquema automáticamente
spring.jpa.hibernate.ddl-auto=none
# Support regex in URL mappings for SPA routing
spring.mvc.pathmatch.matching-strategy=ant_path_matcher

# Consola H2 (No disponible en SQLite)
spring.h2.console.enabled=false

# DevTools Exclusion
spring.devtools.restart.exclude=static/**,public/**,**/*.db,**/*.db-journal

# Deshabilitar Open In View
spring.jpa.open-in-view=true

# ===============================================
# --- LOGGING ---
# ===============================================
logging.level.org.hibernate.SQL=INFO
logging.level.com.worldbuilding.app=DEBUG
logging.level.com.zaxxer.hikari=WARN

# ===============================================
# --- RECURSOS ESTÁTICOS ---
# ===============================================
spring.web.resources.static-locations=classpath:/static/
spring.mvc.static-path-pattern=/**
spring.web.resources.add-mappings=true

# Carpeta de datos de proyectos

# ===============================================
# --- SESIÓN & COOKIES (LOCALHOST FIX) ---
# ===============================================
# Permite cookies en HTTP (no requiere HTTPS)
server.servlet.session.cookie.secure=false
# Permite cookies en contexto SameSite flexible para desarrollo
server.servlet.session.cookie.same-site=Lax
# Previene acceso via JS (seguridad estándar)
server.servlet.session.cookie.http-only=true

# ===============================================
# --- TIEMPO DE SESIÓN ---
# ===============================================
# 24 Horas para evitar desconexiones rápidas
server.servlet.session.timeout=86400s
