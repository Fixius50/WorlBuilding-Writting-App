function u0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Cp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zp={exports:{}},aa={},Tp={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),d0=Symbol.for("react.portal"),f0=Symbol.for("react.fragment"),p0=Symbol.for("react.strict_mode"),h0=Symbol.for("react.profiler"),m0=Symbol.for("react.provider"),x0=Symbol.for("react.context"),g0=Symbol.for("react.forward_ref"),y0=Symbol.for("react.suspense"),v0=Symbol.for("react.memo"),b0=Symbol.for("react.lazy"),dd=Symbol.iterator;function w0(e){return e===null||typeof e!="object"?null:(e=dd&&e[dd]||e["@@iterator"],typeof e=="function"?e:null)}var Pp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mp=Object.assign,$p={};function ss(e,t,n){this.props=e,this.context=t,this.refs=$p,this.updater=n||Pp}ss.prototype.isReactComponent={};ss.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ss.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rp(){}Rp.prototype=ss.prototype;function Uc(e,t,n){this.props=e,this.context=t,this.refs=$p,this.updater=n||Pp}var Hc=Uc.prototype=new Rp;Hc.constructor=Uc;Mp(Hc,ss.prototype);Hc.isPureReactComponent=!0;var fd=Array.isArray,Ip=Object.prototype.hasOwnProperty,Wc={current:null},Ap={key:!0,ref:!0,__self:!0,__source:!0};function Lp(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Ip.call(t,r)&&!Ap.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:bl,type:e,key:i,ref:a,props:s,_owner:Wc.current}}function N0(e,t){return{$$typeof:bl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gc(e){return typeof e=="object"&&e!==null&&e.$$typeof===bl}function j0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pd=/\/+/g;function La(e,t){return typeof e=="object"&&e!==null&&e.key!=null?j0(""+e.key):t.toString(36)}function oi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case bl:case d0:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+La(a,0):r,fd(s)?(n="",e!=null&&(n=e.replace(pd,"$&/")+"/"),oi(s,t,n,"",function(u){return u})):s!=null&&(Gc(s)&&(s=N0(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(pd,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",fd(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+La(i,o);a+=oi(i,t,n,c,s)}else if(c=w0(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+La(i,o++),a+=oi(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ml(e,t,n){if(e==null)return e;var r=[],s=0;return oi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function k0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ye={current:null},ci={transition:null},S0={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:ci,ReactCurrentOwner:Wc};function Dp(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Ml,forEach:function(e,t,n){Ml(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ml(e,function(){t++}),t},toArray:function(e){return Ml(e,function(t){return t})||[]},only:function(e){if(!Gc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=ss;le.Fragment=f0;le.Profiler=h0;le.PureComponent=Uc;le.StrictMode=p0;le.Suspense=y0;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S0;le.act=Dp;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Mp({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Wc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Ip.call(t,c)&&!Ap.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:bl,type:e.type,key:s,ref:i,props:r,_owner:a}};le.createContext=function(e){return e={$$typeof:x0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:m0,_context:e},e.Consumer=e};le.createElement=Lp;le.createFactory=function(e){var t=Lp.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:g0,render:e}};le.isValidElement=Gc;le.lazy=function(e){return{$$typeof:b0,_payload:{_status:-1,_result:e},_init:k0}};le.memo=function(e,t){return{$$typeof:v0,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=ci.transition;ci.transition={};try{e()}finally{ci.transition=t}};le.unstable_act=Dp;le.useCallback=function(e,t){return Ye.current.useCallback(e,t)};le.useContext=function(e){return Ye.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return Ye.current.useDeferredValue(e)};le.useEffect=function(e,t){return Ye.current.useEffect(e,t)};le.useId=function(){return Ye.current.useId()};le.useImperativeHandle=function(e,t,n){return Ye.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return Ye.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return Ye.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return Ye.current.useMemo(e,t)};le.useReducer=function(e,t,n){return Ye.current.useReducer(e,t,n)};le.useRef=function(e){return Ye.current.useRef(e)};le.useState=function(e){return Ye.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return Ye.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return Ye.current.useTransition()};le.version="18.3.1";Tp.exports=le;var y=Tp.exports;const D=Cp(y),E0=u0({__proto__:null,default:D},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0=y,C0=Symbol.for("react.element"),z0=Symbol.for("react.fragment"),T0=Object.prototype.hasOwnProperty,P0=_0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M0={key:!0,ref:!0,__self:!0,__source:!0};function Fp(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)T0.call(t,r)&&!M0.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:C0,type:e,key:i,ref:a,props:s,_owner:P0.current}}aa.Fragment=z0;aa.jsx=Fp;aa.jsxs=Fp;zp.exports=aa;var l=zp.exports,zo={},Op={exports:{}},at={},Bp={exports:{}},Vp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,S){var M=_.length;_.push(S);e:for(;0<M;){var L=M-1>>>1,F=_[L];if(0<s(F,S))_[L]=S,_[M]=F,M=L;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var S=_[0],M=_.pop();if(M!==S){_[0]=M;e:for(var L=0,F=_.length,W=F>>>1;L<W;){var U=2*(L+1)-1,q=_[U],te=U+1,ne=_[te];if(0>s(q,M))te<F&&0>s(ne,q)?(_[L]=ne,_[te]=M,L=te):(_[L]=q,_[U]=M,L=U);else if(te<F&&0>s(ne,M))_[L]=ne,_[te]=M,L=te;else break e}}return S}function s(_,S){var M=_.sortIndex-S.sortIndex;return M!==0?M:_.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,p=3,m=!1,w=!1,g=!1,N=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(_){for(var S=n(u);S!==null;){if(S.callback===null)r(u);else if(S.startTime<=_)r(u),S.sortIndex=S.expirationTime,t(c,S);else break;S=n(u)}}function b(_){if(g=!1,v(_),!w)if(n(c)!==null)w=!0,$(k);else{var S=n(u);S!==null&&T(b,S.startTime-_)}}function k(_,S){w=!1,g&&(g=!1,h(C),C=-1),m=!0;var M=p;try{for(v(S),f=n(c);f!==null&&(!(f.expirationTime>S)||_&&!I());){var L=f.callback;if(typeof L=="function"){f.callback=null,p=f.priorityLevel;var F=L(f.expirationTime<=S);S=e.unstable_now(),typeof F=="function"?f.callback=F:f===n(c)&&r(c),v(S)}else r(c);f=n(c)}if(f!==null)var W=!0;else{var U=n(u);U!==null&&T(b,U.startTime-S),W=!1}return W}finally{f=null,p=M,m=!1}}var z=!1,E=null,C=-1,A=5,P=-1;function I(){return!(e.unstable_now()-P<A)}function O(){if(E!==null){var _=e.unstable_now();P=_;var S=!0;try{S=E(!0,_)}finally{S?B():(z=!1,E=null)}}else z=!1}var B;if(typeof x=="function")B=function(){x(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,R=j.port2;j.port1.onmessage=O,B=function(){R.postMessage(null)}}else B=function(){N(O,0)};function $(_){E=_,z||(z=!0,B())}function T(_,S){C=N(function(){_(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,$(k))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(p){case 1:case 2:case 3:var S=3;break;default:S=p}var M=p;p=S;try{return _()}finally{p=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,S){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var M=p;p=_;try{return S()}finally{p=M}},e.unstable_scheduleCallback=function(_,S,M){var L=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?L+M:L):M=L,_){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=M+F,_={id:d++,callback:S,priorityLevel:_,startTime:M,expirationTime:F,sortIndex:-1},M>L?(_.sortIndex=M,t(u,_),n(c)===null&&_===n(u)&&(g?(h(C),C=-1):g=!0,T(b,M-L))):(_.sortIndex=F,t(c,_),w||m||(w=!0,$(k))),_},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(_){var S=p;return function(){var M=p;p=S;try{return _.apply(this,arguments)}finally{p=M}}}})(Vp);Bp.exports=Vp;var $0=Bp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0=y,lt=$0;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Up=new Set,Xs={};function or(e,t){Wr(e,t),Wr(e+"Capture",t)}function Wr(e,t){for(Xs[e]=t,e=0;e<t.length;e++)Up.add(t[e])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),To=Object.prototype.hasOwnProperty,I0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hd={},md={};function A0(e){return To.call(md,e)?!0:To.call(hd,e)?!1:I0.test(e)?md[e]=!0:(hd[e]=!0,!1)}function L0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D0(e,t,n,r){if(t===null||typeof t>"u"||L0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xe(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new Xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yc=/[\-:]([a-z])/g;function Xc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yc,Xc);Le[t]=new Xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yc,Xc);Le[t]=new Xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yc,Xc);Le[t]=new Xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Xe(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kc(e,t,n,r){var s=Le.hasOwnProperty(t)?Le[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D0(t,n,s,r)&&(n=null),r||s===null?A0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nn=R0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$l=Symbol.for("react.element"),wr=Symbol.for("react.portal"),Nr=Symbol.for("react.fragment"),Qc=Symbol.for("react.strict_mode"),Po=Symbol.for("react.profiler"),Hp=Symbol.for("react.provider"),Wp=Symbol.for("react.context"),Zc=Symbol.for("react.forward_ref"),Mo=Symbol.for("react.suspense"),$o=Symbol.for("react.suspense_list"),qc=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),Gp=Symbol.for("react.offscreen"),xd=Symbol.iterator;function ps(e){return e===null||typeof e!="object"?null:(e=xd&&e[xd]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,Da;function Ps(e){if(Da===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Da=t&&t[1]||""}return`
`+Da+e}var Fa=!1;function Oa(e,t){if(!e||Fa)return"";Fa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{Fa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ps(e):""}function F0(e){switch(e.tag){case 5:return Ps(e.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Ro(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nr:return"Fragment";case wr:return"Portal";case Po:return"Profiler";case Qc:return"StrictMode";case Mo:return"Suspense";case $o:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wp:return(e.displayName||"Context")+".Consumer";case Hp:return(e._context.displayName||"Context")+".Provider";case Zc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qc:return t=e.displayName||null,t!==null?t:Ro(e.type)||"Memo";case cn:t=e._payload,e=e._init;try{return Ro(e(t))}catch{}}return null}function O0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ro(t);case 8:return t===Qc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function B0(e){var t=Yp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rl(e){e._valueTracker||(e._valueTracker=B0(e))}function Xp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ki(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Io(e,t){var n=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kp(e,t){t=t.checked,t!=null&&Kc(e,"checked",t,!1)}function Ao(e,t){Kp(e,t);var n=Tn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lo(e,t.type,Tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lo(e,t,n){(t!=="number"||ki(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ms=Array.isArray;function Rr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Do(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(Ms(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tn(n)}}function Qp(e,t){var n=Tn(t.value),r=Tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Il,qp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Il=Il||document.createElement("div"),Il.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Il.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ks(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V0=["Webkit","ms","Moz","O"];Object.keys(Fs).forEach(function(e){V0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fs[t]=Fs[e]})});function Jp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fs.hasOwnProperty(e)&&Fs[e]?(""+t).trim():t+"px"}function eh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Jp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var U0=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oo(e,t){if(t){if(U0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Bo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vo=null;function Jc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uo=null,Ir=null,Ar=null;function wd(e){if(e=jl(e)){if(typeof Uo!="function")throw Error(V(280));var t=e.stateNode;t&&(t=fa(t),Uo(e.stateNode,e.type,t))}}function th(e){Ir?Ar?Ar.push(e):Ar=[e]:Ir=e}function nh(){if(Ir){var e=Ir,t=Ar;if(Ar=Ir=null,wd(e),t)for(e=0;e<t.length;e++)wd(t[e])}}function rh(e,t){return e(t)}function sh(){}var Ba=!1;function lh(e,t,n){if(Ba)return e(t,n);Ba=!0;try{return rh(e,t,n)}finally{Ba=!1,(Ir!==null||Ar!==null)&&(sh(),nh())}}function Qs(e,t){var n=e.stateNode;if(n===null)return null;var r=fa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Ho=!1;if(Qt)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{Ho=!1}function H0(e,t,n,r,s,i,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Os=!1,Si=null,Ei=!1,Wo=null,W0={onError:function(e){Os=!0,Si=e}};function G0(e,t,n,r,s,i,a,o,c){Os=!1,Si=null,H0.apply(W0,arguments)}function Y0(e,t,n,r,s,i,a,o,c){if(G0.apply(this,arguments),Os){if(Os){var u=Si;Os=!1,Si=null}else throw Error(V(198));Ei||(Ei=!0,Wo=u)}}function cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ih(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nd(e){if(cr(e)!==e)throw Error(V(188))}function X0(e){var t=e.alternate;if(!t){if(t=cr(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nd(s),e;if(i===r)return Nd(s),t;i=i.sibling}throw Error(V(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function ah(e){return e=X0(e),e!==null?oh(e):null}function oh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oh(e);if(t!==null)return t;e=e.sibling}return null}var ch=lt.unstable_scheduleCallback,jd=lt.unstable_cancelCallback,K0=lt.unstable_shouldYield,Q0=lt.unstable_requestPaint,Ce=lt.unstable_now,Z0=lt.unstable_getCurrentPriorityLevel,eu=lt.unstable_ImmediatePriority,uh=lt.unstable_UserBlockingPriority,_i=lt.unstable_NormalPriority,q0=lt.unstable_LowPriority,dh=lt.unstable_IdlePriority,oa=null,It=null;function J0(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(oa,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:ny,ey=Math.log,ty=Math.LN2;function ny(e){return e>>>=0,e===0?32:31-(ey(e)/ty|0)|0}var Al=64,Ll=4194304;function $s(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ci(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=$s(o):(i&=a,i!==0&&(r=$s(i)))}else a=n&~s,a!==0?r=$s(a):i!==0&&(r=$s(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),s=1<<n,r|=e[n],t&=~s;return r}function ry(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-jt(i),o=1<<a,c=s[a];c===-1?(!(o&n)||o&r)&&(s[a]=ry(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Go(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fh(){var e=Al;return Al<<=1,!(Al&4194240)&&(Al=64),e}function Va(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function ly(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-jt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function tu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var de=0;function ph(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hh,nu,mh,xh,gh,Yo=!1,Dl=[],vn=null,bn=null,wn=null,Zs=new Map,qs=new Map,pn=[],iy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kd(e,t){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(t.pointerId)}}function ms(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=jl(t),t!==null&&nu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ay(e,t,n,r,s){switch(t){case"focusin":return vn=ms(vn,e,t,n,r,s),!0;case"dragenter":return bn=ms(bn,e,t,n,r,s),!0;case"mouseover":return wn=ms(wn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Zs.set(i,ms(Zs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,qs.set(i,ms(qs.get(i)||null,e,t,n,r,s)),!0}return!1}function yh(e){var t=Gn(e.target);if(t!==null){var n=cr(t);if(n!==null){if(t=n.tag,t===13){if(t=ih(n),t!==null){e.blockedOn=t,gh(e.priority,function(){mh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vo=r,n.target.dispatchEvent(r),Vo=null}else return t=jl(n),t!==null&&nu(t),e.blockedOn=n,!1;t.shift()}return!0}function Sd(e,t,n){ui(e)&&n.delete(t)}function oy(){Yo=!1,vn!==null&&ui(vn)&&(vn=null),bn!==null&&ui(bn)&&(bn=null),wn!==null&&ui(wn)&&(wn=null),Zs.forEach(Sd),qs.forEach(Sd)}function xs(e,t){e.blockedOn===t&&(e.blockedOn=null,Yo||(Yo=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,oy)))}function Js(e){function t(s){return xs(s,e)}if(0<Dl.length){xs(Dl[0],e);for(var n=1;n<Dl.length;n++){var r=Dl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vn!==null&&xs(vn,e),bn!==null&&xs(bn,e),wn!==null&&xs(wn,e),Zs.forEach(t),qs.forEach(t),n=0;n<pn.length;n++)r=pn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pn.length&&(n=pn[0],n.blockedOn===null);)yh(n),n.blockedOn===null&&pn.shift()}var Lr=nn.ReactCurrentBatchConfig,zi=!0;function cy(e,t,n,r){var s=de,i=Lr.transition;Lr.transition=null;try{de=1,ru(e,t,n,r)}finally{de=s,Lr.transition=i}}function uy(e,t,n,r){var s=de,i=Lr.transition;Lr.transition=null;try{de=4,ru(e,t,n,r)}finally{de=s,Lr.transition=i}}function ru(e,t,n,r){if(zi){var s=Xo(e,t,n,r);if(s===null)qa(e,t,r,Ti,n),kd(e,r);else if(ay(s,e,t,n,r))r.stopPropagation();else if(kd(e,r),t&4&&-1<iy.indexOf(e)){for(;s!==null;){var i=jl(s);if(i!==null&&hh(i),i=Xo(e,t,n,r),i===null&&qa(e,t,r,Ti,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else qa(e,t,r,null,n)}}var Ti=null;function Xo(e,t,n,r){if(Ti=null,e=Jc(r),e=Gn(e),e!==null)if(t=cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ih(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ti=e,null}function vh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Z0()){case eu:return 1;case uh:return 4;case _i:case q0:return 16;case dh:return 536870912;default:return 16}default:return 16}}var xn=null,su=null,di=null;function bh(){if(di)return di;var e,t=su,n=t.length,r,s="value"in xn?xn.value:xn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return di=s.slice(e,1<r?1-r:void 0)}function fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fl(){return!0}function Ed(){return!1}function ot(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fl:Ed,this.isPropagationStopped=Ed,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),t}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lu=ot(ls),Nl=je({},ls,{view:0,detail:0}),dy=ot(Nl),Ua,Ha,gs,ca=je({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gs&&(gs&&e.type==="mousemove"?(Ua=e.screenX-gs.screenX,Ha=e.screenY-gs.screenY):Ha=Ua=0,gs=e),Ua)},movementY:function(e){return"movementY"in e?e.movementY:Ha}}),_d=ot(ca),fy=je({},ca,{dataTransfer:0}),py=ot(fy),hy=je({},Nl,{relatedTarget:0}),Wa=ot(hy),my=je({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),xy=ot(my),gy=je({},ls,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yy=ot(gy),vy=je({},ls,{data:0}),Cd=ot(vy),by={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ny[e])?!!t[e]:!1}function iu(){return jy}var ky=je({},Nl,{key:function(e){if(e.key){var t=by[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(e){return e.type==="keypress"?fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sy=ot(ky),Ey=je({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zd=ot(Ey),_y=je({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),Cy=ot(_y),zy=je({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ty=ot(zy),Py=je({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),My=ot(Py),$y=[9,13,27,32],au=Qt&&"CompositionEvent"in window,Bs=null;Qt&&"documentMode"in document&&(Bs=document.documentMode);var Ry=Qt&&"TextEvent"in window&&!Bs,wh=Qt&&(!au||Bs&&8<Bs&&11>=Bs),Td=String.fromCharCode(32),Pd=!1;function Nh(e,t){switch(e){case"keyup":return $y.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jr=!1;function Iy(e,t){switch(e){case"compositionend":return jh(t);case"keypress":return t.which!==32?null:(Pd=!0,Td);case"textInput":return e=t.data,e===Td&&Pd?null:e;default:return null}}function Ay(e,t){if(jr)return e==="compositionend"||!au&&Nh(e,t)?(e=bh(),di=su=xn=null,jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wh&&t.locale!=="ko"?null:t.data;default:return null}}var Ly={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ly[e.type]:t==="textarea"}function kh(e,t,n,r){th(r),t=Pi(t,"onChange"),0<t.length&&(n=new lu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vs=null,el=null;function Dy(e){Ih(e,0)}function ua(e){var t=Er(e);if(Xp(t))return e}function Fy(e,t){if(e==="change")return t}var Sh=!1;if(Qt){var Ga;if(Qt){var Ya="oninput"in document;if(!Ya){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),Ya=typeof $d.oninput=="function"}Ga=Ya}else Ga=!1;Sh=Ga&&(!document.documentMode||9<document.documentMode)}function Rd(){Vs&&(Vs.detachEvent("onpropertychange",Eh),el=Vs=null)}function Eh(e){if(e.propertyName==="value"&&ua(el)){var t=[];kh(t,el,e,Jc(e)),lh(Dy,t)}}function Oy(e,t,n){e==="focusin"?(Rd(),Vs=t,el=n,Vs.attachEvent("onpropertychange",Eh)):e==="focusout"&&Rd()}function By(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ua(el)}function Vy(e,t){if(e==="click")return ua(t)}function Uy(e,t){if(e==="input"||e==="change")return ua(t)}function Hy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Hy;function tl(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!To.call(t,s)||!Et(e[s],t[s]))return!1}return!0}function Id(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ad(e,t){var n=Id(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Id(n)}}function _h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ch(){for(var e=window,t=ki();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ki(e.document)}return t}function ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wy(e){var t=Ch(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_h(n.ownerDocument.documentElement,n)){if(r!==null&&ou(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ad(n,i);var a=Ad(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gy=Qt&&"documentMode"in document&&11>=document.documentMode,kr=null,Ko=null,Us=null,Qo=!1;function Ld(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qo||kr==null||kr!==ki(r)||(r=kr,"selectionStart"in r&&ou(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Us&&tl(Us,r)||(Us=r,r=Pi(Ko,"onSelect"),0<r.length&&(t=new lu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}function Ol(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionend:Ol("Transition","TransitionEnd")},Xa={},zh={};Qt&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function da(e){if(Xa[e])return Xa[e];if(!Sr[e])return e;var t=Sr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zh)return Xa[e]=t[n];return e}var Th=da("animationend"),Ph=da("animationiteration"),Mh=da("animationstart"),$h=da("transitionend"),Rh=new Map,Dd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(e,t){Rh.set(e,t),or(t,[e])}for(var Ka=0;Ka<Dd.length;Ka++){var Qa=Dd[Ka],Yy=Qa.toLowerCase(),Xy=Qa[0].toUpperCase()+Qa.slice(1);Mn(Yy,"on"+Xy)}Mn(Th,"onAnimationEnd");Mn(Ph,"onAnimationIteration");Mn(Mh,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn($h,"onTransitionEnd");Wr("onMouseEnter",["mouseout","mouseover"]);Wr("onMouseLeave",["mouseout","mouseover"]);Wr("onPointerEnter",["pointerout","pointerover"]);Wr("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ky=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rs));function Fd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Y0(r,t,void 0,e),e.currentTarget=null}function Ih(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Fd(s,o,u),i=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Fd(s,o,u),i=c}}}if(Ei)throw e=Wo,Ei=!1,Wo=null,e}function xe(e,t){var n=t[tc];n===void 0&&(n=t[tc]=new Set);var r=e+"__bubble";n.has(r)||(Ah(t,e,2,!1),n.add(r))}function Za(e,t,n){var r=0;t&&(r|=4),Ah(n,e,r,t)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function nl(e){if(!e[Bl]){e[Bl]=!0,Up.forEach(function(n){n!=="selectionchange"&&(Ky.has(n)||Za(n,!1,e),Za(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bl]||(t[Bl]=!0,Za("selectionchange",!1,t))}}function Ah(e,t,n,r){switch(vh(t)){case 1:var s=cy;break;case 4:s=uy;break;default:s=ru}n=s.bind(null,t,n,e),s=void 0,!Ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function qa(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Gn(o),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}o=o.parentNode}}r=r.return}lh(function(){var u=i,d=Jc(n),f=[];e:{var p=Rh.get(e);if(p!==void 0){var m=lu,w=e;switch(e){case"keypress":if(fi(n)===0)break e;case"keydown":case"keyup":m=Sy;break;case"focusin":w="focus",m=Wa;break;case"focusout":w="blur",m=Wa;break;case"beforeblur":case"afterblur":m=Wa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=py;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Cy;break;case Th:case Ph:case Mh:m=xy;break;case $h:m=Ty;break;case"scroll":m=dy;break;case"wheel":m=My;break;case"copy":case"cut":case"paste":m=yy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=zd}var g=(t&4)!==0,N=!g&&e==="scroll",h=g?p!==null?p+"Capture":null:p;g=[];for(var x=u,v;x!==null;){v=x;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,h!==null&&(b=Qs(x,h),b!=null&&g.push(rl(x,b,v)))),N)break;x=x.return}0<g.length&&(p=new m(p,w,null,n,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==Vo&&(w=n.relatedTarget||n.fromElement)&&(Gn(w)||w[Zt]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Gn(w):null,w!==null&&(N=cr(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(g=_d,b="onMouseLeave",h="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=zd,b="onPointerLeave",h="onPointerEnter",x="pointer"),N=m==null?p:Er(m),v=w==null?p:Er(w),p=new g(b,x+"leave",m,n,d),p.target=N,p.relatedTarget=v,b=null,Gn(d)===u&&(g=new g(h,x+"enter",w,n,d),g.target=v,g.relatedTarget=N,b=g),N=b,m&&w)t:{for(g=m,h=w,x=0,v=g;v;v=mr(v))x++;for(v=0,b=h;b;b=mr(b))v++;for(;0<x-v;)g=mr(g),x--;for(;0<v-x;)h=mr(h),v--;for(;x--;){if(g===h||h!==null&&g===h.alternate)break t;g=mr(g),h=mr(h)}g=null}else g=null;m!==null&&Od(f,p,m,g,!1),w!==null&&N!==null&&Od(f,N,w,g,!0)}}e:{if(p=u?Er(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var k=Fy;else if(Md(p))if(Sh)k=Uy;else{k=By;var z=Oy}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=Vy);if(k&&(k=k(e,u))){kh(f,k,n,d);break e}z&&z(e,p,u),e==="focusout"&&(z=p._wrapperState)&&z.controlled&&p.type==="number"&&Lo(p,"number",p.value)}switch(z=u?Er(u):window,e){case"focusin":(Md(z)||z.contentEditable==="true")&&(kr=z,Ko=u,Us=null);break;case"focusout":Us=Ko=kr=null;break;case"mousedown":Qo=!0;break;case"contextmenu":case"mouseup":case"dragend":Qo=!1,Ld(f,n,d);break;case"selectionchange":if(Gy)break;case"keydown":case"keyup":Ld(f,n,d)}var E;if(au)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else jr?Nh(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(wh&&n.locale!=="ko"&&(jr||C!=="onCompositionStart"?C==="onCompositionEnd"&&jr&&(E=bh()):(xn=d,su="value"in xn?xn.value:xn.textContent,jr=!0)),z=Pi(u,C),0<z.length&&(C=new Cd(C,e,null,n,d),f.push({event:C,listeners:z}),E?C.data=E:(E=jh(n),E!==null&&(C.data=E)))),(E=Ry?Iy(e,n):Ay(e,n))&&(u=Pi(u,"onBeforeInput"),0<u.length&&(d=new Cd("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}Ih(f,t)})}function rl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qs(e,n),i!=null&&r.unshift(rl(e,i,s)),i=Qs(e,t),i!=null&&r.push(rl(e,i,s))),e=e.return}return r}function mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Od(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,s?(c=Qs(n,i),c!=null&&a.unshift(rl(n,c,o))):s||(c=Qs(n,i),c!=null&&a.push(rl(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Qy=/\r\n?/g,Zy=/\u0000|\uFFFD/g;function Bd(e){return(typeof e=="string"?e:""+e).replace(Qy,`
`).replace(Zy,"")}function Vl(e,t,n){if(t=Bd(t),Bd(e)!==t&&n)throw Error(V(425))}function Mi(){}var Zo=null,qo=null;function Jo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ec=typeof setTimeout=="function"?setTimeout:void 0,qy=typeof clearTimeout=="function"?clearTimeout:void 0,Vd=typeof Promise=="function"?Promise:void 0,Jy=typeof queueMicrotask=="function"?queueMicrotask:typeof Vd<"u"?function(e){return Vd.resolve(null).then(e).catch(ev)}:ec;function ev(e){setTimeout(function(){throw e})}function Ja(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Js(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Js(t)}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ud(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var is=Math.random().toString(36).slice(2),Rt="__reactFiber$"+is,sl="__reactProps$"+is,Zt="__reactContainer$"+is,tc="__reactEvents$"+is,tv="__reactListeners$"+is,nv="__reactHandles$"+is;function Gn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ud(e);e!==null;){if(n=e[Rt])return n;e=Ud(e)}return t}e=n,n=e.parentNode}return null}function jl(e){return e=e[Rt]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function fa(e){return e[sl]||null}var nc=[],_r=-1;function $n(e){return{current:e}}function ge(e){0>_r||(e.current=nc[_r],nc[_r]=null,_r--)}function pe(e,t){_r++,nc[_r]=e.current,e.current=t}var Pn={},Ve=$n(Pn),Je=$n(!1),tr=Pn;function Gr(e,t){var n=e.type.contextTypes;if(!n)return Pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function et(e){return e=e.childContextTypes,e!=null}function $i(){ge(Je),ge(Ve)}function Hd(e,t,n){if(Ve.current!==Pn)throw Error(V(168));pe(Ve,t),pe(Je,n)}function Lh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(V(108,O0(e)||"Unknown",s));return je({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pn,tr=Ve.current,pe(Ve,e),pe(Je,Je.current),!0}function Wd(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=Lh(e,t,tr),r.__reactInternalMemoizedMergedChildContext=e,ge(Je),ge(Ve),pe(Ve,e)):ge(Je),pe(Je,n)}var Wt=null,pa=!1,eo=!1;function Dh(e){Wt===null?Wt=[e]:Wt.push(e)}function rv(e){pa=!0,Dh(e)}function Rn(){if(!eo&&Wt!==null){eo=!0;var e=0,t=de;try{var n=Wt;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wt=null,pa=!1}catch(s){throw Wt!==null&&(Wt=Wt.slice(e+1)),ch(eu,Rn),s}finally{de=t,eo=!1}}return null}var Cr=[],zr=0,Ii=null,Ai=0,ct=[],ut=0,nr=null,Gt=1,Yt="";function Un(e,t){Cr[zr++]=Ai,Cr[zr++]=Ii,Ii=e,Ai=t}function Fh(e,t,n){ct[ut++]=Gt,ct[ut++]=Yt,ct[ut++]=nr,nr=e;var r=Gt;e=Yt;var s=32-jt(r)-1;r&=~(1<<s),n+=1;var i=32-jt(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Gt=1<<32-jt(t)+s|n<<s|r,Yt=i+e}else Gt=1<<i|n<<s|r,Yt=e}function cu(e){e.return!==null&&(Un(e,1),Fh(e,1,0))}function uu(e){for(;e===Ii;)Ii=Cr[--zr],Cr[zr]=null,Ai=Cr[--zr],Cr[zr]=null;for(;e===nr;)nr=ct[--ut],ct[ut]=null,Yt=ct[--ut],ct[ut]=null,Gt=ct[--ut],ct[ut]=null}var st=null,rt=null,ye=!1,bt=null;function Oh(e,t){var n=dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,rt=Nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nr!==null?{id:Gt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,rt=null,!0):!1;default:return!1}}function rc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sc(e){if(ye){var t=rt;if(t){var n=t;if(!Gd(e,t)){if(rc(e))throw Error(V(418));t=Nn(n.nextSibling);var r=st;t&&Gd(e,t)?Oh(r,n):(e.flags=e.flags&-4097|2,ye=!1,st=e)}}else{if(rc(e))throw Error(V(418));e.flags=e.flags&-4097|2,ye=!1,st=e}}}function Yd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function Ul(e){if(e!==st)return!1;if(!ye)return Yd(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jo(e.type,e.memoizedProps)),t&&(t=rt)){if(rc(e))throw Bh(),Error(V(418));for(;t;)Oh(e,t),t=Nn(t.nextSibling)}if(Yd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=Nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=st?Nn(e.stateNode.nextSibling):null;return!0}function Bh(){for(var e=rt;e;)e=Nn(e.nextSibling)}function Yr(){rt=st=null,ye=!1}function du(e){bt===null?bt=[e]:bt.push(e)}var sv=nn.ReactCurrentBatchConfig;function ys(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Hl(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xd(e){var t=e._init;return t(e._payload)}function Vh(e){function t(h,x){if(e){var v=h.deletions;v===null?(h.deletions=[x],h.flags|=16):v.push(x)}}function n(h,x){if(!e)return null;for(;x!==null;)t(h,x),x=x.sibling;return null}function r(h,x){for(h=new Map;x!==null;)x.key!==null?h.set(x.key,x):h.set(x.index,x),x=x.sibling;return h}function s(h,x){return h=En(h,x),h.index=0,h.sibling=null,h}function i(h,x,v){return h.index=v,e?(v=h.alternate,v!==null?(v=v.index,v<x?(h.flags|=2,x):v):(h.flags|=2,x)):(h.flags|=1048576,x)}function a(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,x,v,b){return x===null||x.tag!==6?(x=ao(v,h.mode,b),x.return=h,x):(x=s(x,v),x.return=h,x)}function c(h,x,v,b){var k=v.type;return k===Nr?d(h,x,v.props.children,b,v.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===cn&&Xd(k)===x.type)?(b=s(x,v.props),b.ref=ys(h,x,v),b.return=h,b):(b=vi(v.type,v.key,v.props,null,h.mode,b),b.ref=ys(h,x,v),b.return=h,b)}function u(h,x,v,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=oo(v,h.mode,b),x.return=h,x):(x=s(x,v.children||[]),x.return=h,x)}function d(h,x,v,b,k){return x===null||x.tag!==7?(x=Jn(v,h.mode,b,k),x.return=h,x):(x=s(x,v),x.return=h,x)}function f(h,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ao(""+x,h.mode,v),x.return=h,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $l:return v=vi(x.type,x.key,x.props,null,h.mode,v),v.ref=ys(h,null,x),v.return=h,v;case wr:return x=oo(x,h.mode,v),x.return=h,x;case cn:var b=x._init;return f(h,b(x._payload),v)}if(Ms(x)||ps(x))return x=Jn(x,h.mode,v,null),x.return=h,x;Hl(h,x)}return null}function p(h,x,v,b){var k=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:o(h,x,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $l:return v.key===k?c(h,x,v,b):null;case wr:return v.key===k?u(h,x,v,b):null;case cn:return k=v._init,p(h,x,k(v._payload),b)}if(Ms(v)||ps(v))return k!==null?null:d(h,x,v,b,null);Hl(h,v)}return null}function m(h,x,v,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return h=h.get(v)||null,o(x,h,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $l:return h=h.get(b.key===null?v:b.key)||null,c(x,h,b,k);case wr:return h=h.get(b.key===null?v:b.key)||null,u(x,h,b,k);case cn:var z=b._init;return m(h,x,v,z(b._payload),k)}if(Ms(b)||ps(b))return h=h.get(v)||null,d(x,h,b,k,null);Hl(x,b)}return null}function w(h,x,v,b){for(var k=null,z=null,E=x,C=x=0,A=null;E!==null&&C<v.length;C++){E.index>C?(A=E,E=null):A=E.sibling;var P=p(h,E,v[C],b);if(P===null){E===null&&(E=A);break}e&&E&&P.alternate===null&&t(h,E),x=i(P,x,C),z===null?k=P:z.sibling=P,z=P,E=A}if(C===v.length)return n(h,E),ye&&Un(h,C),k;if(E===null){for(;C<v.length;C++)E=f(h,v[C],b),E!==null&&(x=i(E,x,C),z===null?k=E:z.sibling=E,z=E);return ye&&Un(h,C),k}for(E=r(h,E);C<v.length;C++)A=m(E,h,C,v[C],b),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?C:A.key),x=i(A,x,C),z===null?k=A:z.sibling=A,z=A);return e&&E.forEach(function(I){return t(h,I)}),ye&&Un(h,C),k}function g(h,x,v,b){var k=ps(v);if(typeof k!="function")throw Error(V(150));if(v=k.call(v),v==null)throw Error(V(151));for(var z=k=null,E=x,C=x=0,A=null,P=v.next();E!==null&&!P.done;C++,P=v.next()){E.index>C?(A=E,E=null):A=E.sibling;var I=p(h,E,P.value,b);if(I===null){E===null&&(E=A);break}e&&E&&I.alternate===null&&t(h,E),x=i(I,x,C),z===null?k=I:z.sibling=I,z=I,E=A}if(P.done)return n(h,E),ye&&Un(h,C),k;if(E===null){for(;!P.done;C++,P=v.next())P=f(h,P.value,b),P!==null&&(x=i(P,x,C),z===null?k=P:z.sibling=P,z=P);return ye&&Un(h,C),k}for(E=r(h,E);!P.done;C++,P=v.next())P=m(E,h,C,P.value,b),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?C:P.key),x=i(P,x,C),z===null?k=P:z.sibling=P,z=P);return e&&E.forEach(function(O){return t(h,O)}),ye&&Un(h,C),k}function N(h,x,v,b){if(typeof v=="object"&&v!==null&&v.type===Nr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case $l:e:{for(var k=v.key,z=x;z!==null;){if(z.key===k){if(k=v.type,k===Nr){if(z.tag===7){n(h,z.sibling),x=s(z,v.props.children),x.return=h,h=x;break e}}else if(z.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===cn&&Xd(k)===z.type){n(h,z.sibling),x=s(z,v.props),x.ref=ys(h,z,v),x.return=h,h=x;break e}n(h,z);break}else t(h,z);z=z.sibling}v.type===Nr?(x=Jn(v.props.children,h.mode,b,v.key),x.return=h,h=x):(b=vi(v.type,v.key,v.props,null,h.mode,b),b.ref=ys(h,x,v),b.return=h,h=b)}return a(h);case wr:e:{for(z=v.key;x!==null;){if(x.key===z)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(h,x.sibling),x=s(x,v.children||[]),x.return=h,h=x;break e}else{n(h,x);break}else t(h,x);x=x.sibling}x=oo(v,h.mode,b),x.return=h,h=x}return a(h);case cn:return z=v._init,N(h,x,z(v._payload),b)}if(Ms(v))return w(h,x,v,b);if(ps(v))return g(h,x,v,b);Hl(h,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(h,x.sibling),x=s(x,v),x.return=h,h=x):(n(h,x),x=ao(v,h.mode,b),x.return=h,h=x),a(h)):n(h,x)}return N}var Xr=Vh(!0),Uh=Vh(!1),Li=$n(null),Di=null,Tr=null,fu=null;function pu(){fu=Tr=Di=null}function hu(e){var t=Li.current;ge(Li),e._currentValue=t}function lc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Dr(e,t){Di=e,fu=Tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(fu!==e)if(e={context:e,memoizedValue:t,next:null},Tr===null){if(Di===null)throw Error(V(308));Tr=e,Di.dependencies={lanes:0,firstContext:e}}else Tr=Tr.next=e;return t}var Yn=null;function mu(e){Yn===null?Yn=[e]:Yn.push(e)}function Hh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,mu(t)):(n.next=s.next,s.next=n),t.interleaved=n,qt(e,r)}function qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var un=!1;function xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,qt(e,n)}return s=r.interleaved,s===null?(t.next=t,mu(r)):(t.next=s.next,s.next=t),r.interleaved=t,qt(e,n)}function pi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tu(e,n)}}function Kd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fi(e,t,n,r){var s=e.updateQueue;un=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,o=i;do{var p=o.lane,m=o.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,g=o;switch(p=t,m=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){f=w.call(m,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,p=typeof w=="function"?w.call(m,f,p):w,p==null)break e;f=je({},f,p);break e;case 2:un=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);sr|=a,e.lanes=a,e.memoizedState=f}}function Qd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(V(191,s));s.call(r)}}}var kl={},At=$n(kl),ll=$n(kl),il=$n(kl);function Xn(e){if(e===kl)throw Error(V(174));return e}function gu(e,t){switch(pe(il,t),pe(ll,e),pe(At,kl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fo(t,e)}ge(At),pe(At,t)}function Kr(){ge(At),ge(ll),ge(il)}function Gh(e){Xn(il.current);var t=Xn(At.current),n=Fo(t,e.type);t!==n&&(pe(ll,e),pe(At,n))}function yu(e){ll.current===e&&(ge(At),ge(ll))}var be=$n(0);function Oi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function vu(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var hi=nn.ReactCurrentDispatcher,no=nn.ReactCurrentBatchConfig,rr=0,we=null,Te=null,Me=null,Bi=!1,Hs=!1,al=0,lv=0;function Fe(){throw Error(V(321))}function bu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function wu(e,t,n,r,s,i){if(rr=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hi.current=e===null||e.memoizedState===null?cv:uv,e=n(r,s),Hs){i=0;do{if(Hs=!1,al=0,25<=i)throw Error(V(301));i+=1,Me=Te=null,t.updateQueue=null,hi.current=dv,e=n(r,s)}while(Hs)}if(hi.current=Vi,t=Te!==null&&Te.next!==null,rr=0,Me=Te=we=null,Bi=!1,t)throw Error(V(300));return e}function Nu(){var e=al!==0;return al=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?we.memoizedState=Me=e:Me=Me.next=e,Me}function mt(){if(Te===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Me===null?we.memoizedState:Me.next;if(t!==null)Me=t,Te=e;else{if(e===null)throw Error(V(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Me===null?we.memoizedState=Me=e:Me=Me.next=e}return Me}function ol(e,t){return typeof t=="function"?t(e):t}function ro(e){var t=mt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=Te,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,c=null,u=i;do{var d=u.lane;if((rr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,a=r):c=c.next=f,we.lanes|=d,sr|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=o,Et(r,t.memoizedState)||(Ze=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,we.lanes|=i,sr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function so(e){var t=mt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Et(i,t.memoizedState)||(Ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Yh(){}function Xh(e,t){var n=we,r=mt(),s=t(),i=!Et(r.memoizedState,s);if(i&&(r.memoizedState=s,Ze=!0),r=r.queue,ju(Zh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,cl(9,Qh.bind(null,n,r,s,t),void 0,null),$e===null)throw Error(V(349));rr&30||Kh(n,t,s)}return s}function Kh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qh(e,t,n,r){t.value=n,t.getSnapshot=r,qh(t)&&Jh(e)}function Zh(e,t,n){return n(function(){qh(t)&&Jh(e)})}function qh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function Jh(e){var t=qt(e,1);t!==null&&kt(t,e,1,-1)}function Zd(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:e},t.queue=e,e=e.dispatch=ov.bind(null,we,e),[t.memoizedState,e]}function cl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function em(){return mt().memoizedState}function mi(e,t,n,r){var s=Mt();we.flags|=e,s.memoizedState=cl(1|t,n,void 0,r===void 0?null:r)}function ha(e,t,n,r){var s=mt();r=r===void 0?null:r;var i=void 0;if(Te!==null){var a=Te.memoizedState;if(i=a.destroy,r!==null&&bu(r,a.deps)){s.memoizedState=cl(t,n,i,r);return}}we.flags|=e,s.memoizedState=cl(1|t,n,i,r)}function qd(e,t){return mi(8390656,8,e,t)}function ju(e,t){return ha(2048,8,e,t)}function tm(e,t){return ha(4,2,e,t)}function nm(e,t){return ha(4,4,e,t)}function rm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sm(e,t,n){return n=n!=null?n.concat([e]):null,ha(4,4,rm.bind(null,t,e),n)}function ku(){}function lm(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function im(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function am(e,t,n){return rr&21?(Et(n,t)||(n=fh(),we.lanes|=n,sr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=n)}function iv(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=no.transition;no.transition={};try{e(!1),t()}finally{de=n,no.transition=r}}function om(){return mt().memoizedState}function av(e,t,n){var r=Sn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cm(e))um(t,n);else if(n=Hh(e,t,n,r),n!==null){var s=Ge();kt(n,e,r,s),dm(n,t,r)}}function ov(e,t,n){var r=Sn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cm(e))um(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Et(o,a)){var c=t.interleaved;c===null?(s.next=s,mu(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Hh(e,t,s,r),n!==null&&(s=Ge(),kt(n,e,r,s),dm(n,t,r))}}function cm(e){var t=e.alternate;return e===we||t!==null&&t===we}function um(e,t){Hs=Bi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tu(e,n)}}var Vi={readContext:ht,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},cv={readContext:ht,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:qd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mi(4194308,4,rm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return mi(4,2,e,t)},useMemo:function(e,t){var n=Mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=av.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:Zd,useDebugValue:ku,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=Zd(!1),t=e[0];return e=iv.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,s=Mt();if(ye){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),$e===null)throw Error(V(349));rr&30||Kh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,qd(Zh.bind(null,r,i,e),[e]),r.flags|=2048,cl(9,Qh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Mt(),t=$e.identifierPrefix;if(ye){var n=Yt,r=Gt;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=al++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uv={readContext:ht,useCallback:lm,useContext:ht,useEffect:ju,useImperativeHandle:sm,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:im,useReducer:ro,useRef:em,useState:function(){return ro(ol)},useDebugValue:ku,useDeferredValue:function(e){var t=mt();return am(t,Te.memoizedState,e)},useTransition:function(){var e=ro(ol)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Yh,useSyncExternalStore:Xh,useId:om,unstable_isNewReconciler:!1},dv={readContext:ht,useCallback:lm,useContext:ht,useEffect:ju,useImperativeHandle:sm,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:im,useReducer:so,useRef:em,useState:function(){return so(ol)},useDebugValue:ku,useDeferredValue:function(e){var t=mt();return Te===null?t.memoizedState=e:am(t,Te.memoizedState,e)},useTransition:function(){var e=so(ol)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Yh,useSyncExternalStore:Xh,useId:om,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ic(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return(e=e._reactInternals)?cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ge(),s=Sn(e),i=Kt(r,s);i.payload=t,n!=null&&(i.callback=n),t=jn(e,i,s),t!==null&&(kt(t,e,s,r),pi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ge(),s=Sn(e),i=Kt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=jn(e,i,s),t!==null&&(kt(t,e,s,r),pi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),r=Sn(e),s=Kt(n,r);s.tag=2,t!=null&&(s.callback=t),t=jn(e,s,r),t!==null&&(kt(t,e,r,n),pi(t,e,r))}};function Jd(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!tl(n,r)||!tl(s,i):!0}function fm(e,t,n){var r=!1,s=Pn,i=t.contextType;return typeof i=="object"&&i!==null?i=ht(i):(s=et(t)?tr:Ve.current,r=t.contextTypes,i=(r=r!=null)?Gr(e,s):Pn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ef(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ac(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},xu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ht(i):(i=et(t)?tr:Ve.current,s.context=Gr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ic(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ma.enqueueReplaceState(s,s.state,null),Fi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qr(e,t){try{var n="",r=t;do n+=F0(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function lo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fv=typeof WeakMap=="function"?WeakMap:Map;function pm(e,t,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hi||(Hi=!0,yc=r),oc(e,t)},n}function hm(e,t,n){n=Kt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){oc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){oc(e,t),typeof r!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function tf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ev.bind(null,e,t,n),t.then(e,e))}function nf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rf(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kt(-1,1),t.tag=2,jn(n,t,1))),n.lanes|=1),e)}var pv=nn.ReactCurrentOwner,Ze=!1;function We(e,t,n,r){t.child=e===null?Uh(t,null,n,r):Xr(t,e.child,n,r)}function sf(e,t,n,r,s){n=n.render;var i=t.ref;return Dr(t,s),r=wu(e,t,n,r,i,s),n=Nu(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jt(e,t,s)):(ye&&n&&cu(t),t.flags|=1,We(e,t,r,s),t.child)}function lf(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Mu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,mm(e,t,i,r,s)):(e=vi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:tl,n(a,r)&&e.ref===t.ref)return Jt(e,t,s)}return t.flags|=1,e=En(i,r),e.ref=t.ref,e.return=t,t.child=e}function mm(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(tl(i,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,Jt(e,t,s)}return cc(e,t,n,r,s)}function xm(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Mr,nt),nt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(Mr,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,pe(Mr,nt),nt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,pe(Mr,nt),nt|=r;return We(e,t,s,n),t.child}function gm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function cc(e,t,n,r,s){var i=et(n)?tr:Ve.current;return i=Gr(t,i),Dr(t,s),n=wu(e,t,n,r,i,s),r=Nu(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jt(e,t,s)):(ye&&r&&cu(t),t.flags|=1,We(e,t,n,s),t.child)}function af(e,t,n,r,s){if(et(n)){var i=!0;Ri(t)}else i=!1;if(Dr(t,s),t.stateNode===null)xi(e,t),fm(t,n,r),ac(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=et(n)?tr:Ve.current,u=Gr(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==u)&&ef(t,a,r,u),un=!1;var p=t.memoizedState;a.state=p,Fi(t,r,a,s),c=t.memoizedState,o!==r||p!==c||Je.current||un?(typeof d=="function"&&(ic(t,n,d,r),c=t.memoizedState),(o=un||Jd(t,n,o,r,p,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Wh(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:yt(t.type,o),a.props=u,f=t.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ht(c):(c=et(n)?tr:Ve.current,c=Gr(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||p!==c)&&ef(t,a,r,c),un=!1,p=t.memoizedState,a.state=p,Fi(t,r,a,s);var w=t.memoizedState;o!==f||p!==w||Je.current||un?(typeof m=="function"&&(ic(t,n,m,r),w=t.memoizedState),(u=un||Jd(t,n,u,r,p,w,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return uc(e,t,n,r,i,s)}function uc(e,t,n,r,s,i){gm(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Wd(t,n,!1),Jt(e,t,i);r=t.stateNode,pv.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Xr(t,e.child,null,i),t.child=Xr(t,null,o,i)):We(e,t,o,i),t.memoizedState=r.state,s&&Wd(t,n,!0),t.child}function ym(e){var t=e.stateNode;t.pendingContext?Hd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hd(e,t.context,!1),gu(e,t.containerInfo)}function of(e,t,n,r,s){return Yr(),du(s),t.flags|=256,We(e,t,n,r),t.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function fc(e){return{baseLanes:e,cachePool:null,transitions:null}}function vm(e,t,n){var r=t.pendingProps,s=be.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),pe(be,s&1),e===null)return sc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ya(a,r,0,null),e=Jn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fc(n),t.memoizedState=dc,e):Su(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return hv(e,t,a,r,o,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=En(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=En(o,i):(i=Jn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?fc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=dc,r}return i=e.child,e=i.sibling,r=En(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Su(e,t){return t=ya({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wl(e,t,n,r){return r!==null&&du(r),Xr(t,e.child,null,n),e=Su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hv(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=lo(Error(V(422))),Wl(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ya({mode:"visible",children:r.children},s,0,null),i=Jn(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Xr(t,e.child,null,a),t.child.memoizedState=fc(a),t.memoizedState=dc,i);if(!(t.mode&1))return Wl(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(V(419)),r=lo(i,r,void 0),Wl(e,t,a,r)}if(o=(a&e.childLanes)!==0,Ze||o){if(r=$e,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qt(e,s),kt(r,e,s,-1))}return Pu(),r=lo(Error(V(421))),Wl(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=_v.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,rt=Nn(s.nextSibling),st=t,ye=!0,bt=null,e!==null&&(ct[ut++]=Gt,ct[ut++]=Yt,ct[ut++]=nr,Gt=e.id,Yt=e.overflow,nr=t),t=Su(t,r.children),t.flags|=4096,t)}function cf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),lc(e.return,t,n)}function io(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function bm(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(We(e,t,r.children,n),r=be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cf(e,n,t);else if(e.tag===19)cf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pe(be,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Oi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),io(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Oi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}io(t,!0,n,null,i);break;case"together":io(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=En(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=En(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mv(e,t,n){switch(t.tag){case 3:ym(t),Yr();break;case 5:Gh(t);break;case 1:et(t.type)&&Ri(t);break;case 4:gu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;pe(Li,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pe(be,be.current&1),t.flags|=128,null):n&t.child.childLanes?vm(e,t,n):(pe(be,be.current&1),e=Jt(e,t,n),e!==null?e.sibling:null);pe(be,be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return bm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pe(be,be.current),r)break;return null;case 22:case 23:return t.lanes=0,xm(e,t,n)}return Jt(e,t,n)}var wm,pc,Nm,jm;wm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pc=function(){};Nm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Xn(At.current);var i=null;switch(n){case"input":s=Io(e,s),r=Io(e,r),i=[];break;case"select":s=je({},s,{value:void 0}),r=je({},r,{value:void 0}),i=[];break;case"textarea":s=Do(e,s),r=Do(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Mi)}Oo(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&xe("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};jm=function(e,t,n,r){n!==r&&(t.flags|=4)};function vs(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xv(e,t,n){var r=t.pendingProps;switch(uu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return et(t.type)&&$i(),Oe(t),null;case 3:return r=t.stateNode,Kr(),ge(Je),ge(Ve),vu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ul(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bt!==null&&(wc(bt),bt=null))),pc(e,t),Oe(t),null;case 5:yu(t);var s=Xn(il.current);if(n=t.type,e!==null&&t.stateNode!=null)Nm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return Oe(t),null}if(e=Xn(At.current),Ul(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Rt]=t,r[sl]=i,e=(t.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(s=0;s<Rs.length;s++)xe(Rs[s],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":gd(r,i),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},xe("invalid",r);break;case"textarea":vd(r,i),xe("invalid",r)}Oo(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Vl(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Vl(r.textContent,o,e),s=["children",""+o]):Xs.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&xe("scroll",r)}switch(n){case"input":Rl(r),yd(r,i,!0);break;case"textarea":Rl(r),bd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Mi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Rt]=t,e[sl]=r,wm(e,t,!1,!1),t.stateNode=e;e:{switch(a=Bo(n,r),n){case"dialog":xe("cancel",e),xe("close",e),s=r;break;case"iframe":case"object":case"embed":xe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Rs.length;s++)xe(Rs[s],e);s=r;break;case"source":xe("error",e),s=r;break;case"img":case"image":case"link":xe("error",e),xe("load",e),s=r;break;case"details":xe("toggle",e),s=r;break;case"input":gd(e,r),s=Io(e,r),xe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=je({},r,{value:void 0}),xe("invalid",e);break;case"textarea":vd(e,r),s=Do(e,r),xe("invalid",e);break;default:s=r}Oo(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?eh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qp(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ks(e,c):typeof c=="number"&&Ks(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&xe("scroll",e):c!=null&&Kc(e,i,c,a))}switch(n){case"input":Rl(e),yd(e,r,!1);break;case"textarea":Rl(e),bd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Rr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Rr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Mi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)jm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Xn(il.current),Xn(At.current),Ul(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(i=r.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:Vl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vl(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return Oe(t),null;case 13:if(ge(be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&rt!==null&&t.mode&1&&!(t.flags&128))Bh(),Yr(),t.flags|=98560,i=!1;else if(i=Ul(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(V(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[Rt]=t}else Yr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else bt!==null&&(wc(bt),bt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Pe===0&&(Pe=3):Pu())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return Kr(),pc(e,t),e===null&&nl(t.stateNode.containerInfo),Oe(t),null;case 10:return hu(t.type._context),Oe(t),null;case 17:return et(t.type)&&$i(),Oe(t),null;case 19:if(ge(be),i=t.memoizedState,i===null)return Oe(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)vs(i,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Oi(e),a!==null){for(t.flags|=128,vs(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(be,be.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ce()>Zr&&(t.flags|=128,r=!0,vs(i,!1),t.lanes=4194304)}else{if(!r)if(e=Oi(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ye)return Oe(t),null}else 2*Ce()-i.renderingStartTime>Zr&&n!==1073741824&&(t.flags|=128,r=!0,vs(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ce(),t.sibling=null,n=be.current,pe(be,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return Tu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function gv(e,t){switch(uu(t),t.tag){case 1:return et(t.type)&&$i(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kr(),ge(Je),ge(Ve),vu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yu(t),null;case 13:if(ge(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(be),null;case 4:return Kr(),null;case 10:return hu(t.type._context),null;case 22:case 23:return Tu(),null;case 24:return null;default:return null}}var Gl=!1,Be=!1,yv=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Pr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function hc(e,t,n){try{n()}catch(r){Se(e,t,r)}}var uf=!1;function vv(e,t){if(Zo=zi,e=Ch(),ou(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(o=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===s&&(o=a),p===i&&++d===r&&(c=a),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qo={focusedElem:e,selectionRange:n},zi=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,N=w.memoizedState,h=t.stateNode,x=h.getSnapshotBeforeUpdate(t.elementType===t.type?g:yt(t.type,g),N);h.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(b){Se(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return w=uf,uf=!1,w}function Ws(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&hc(t,n,i)}s=s.next}while(s!==r)}}function xa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function mc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function km(e){var t=e.alternate;t!==null&&(e.alternate=null,km(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[sl],delete t[tc],delete t[tv],delete t[nv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sm(e){return e.tag===5||e.tag===3||e.tag===4}function df(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mi));else if(r!==4&&(e=e.child,e!==null))for(xc(e,t,n),e=e.sibling;e!==null;)xc(e,t,n),e=e.sibling}function gc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gc(e,t,n),e=e.sibling;e!==null;)gc(e,t,n),e=e.sibling}var Ie=null,vt=!1;function sn(e,t,n){for(n=n.child;n!==null;)Em(e,t,n),n=n.sibling}function Em(e,t,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(oa,n)}catch{}switch(n.tag){case 5:Be||Pr(n,t);case 6:var r=Ie,s=vt;Ie=null,sn(e,t,n),Ie=r,vt=s,Ie!==null&&(vt?(e=Ie,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(vt?(e=Ie,n=n.stateNode,e.nodeType===8?Ja(e.parentNode,n):e.nodeType===1&&Ja(e,n),Js(e)):Ja(Ie,n.stateNode));break;case 4:r=Ie,s=vt,Ie=n.stateNode.containerInfo,vt=!0,sn(e,t,n),Ie=r,vt=s;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&hc(n,t,a),s=s.next}while(s!==r)}sn(e,t,n);break;case 1:if(!Be&&(Pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Se(n,t,o)}sn(e,t,n);break;case 21:sn(e,t,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,sn(e,t,n),Be=r):sn(e,t,n);break;default:sn(e,t,n)}}function ff(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yv),t.forEach(function(r){var s=Cv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ie=o.stateNode,vt=!1;break e;case 3:Ie=o.stateNode.containerInfo,vt=!0;break e;case 4:Ie=o.stateNode.containerInfo,vt=!0;break e}o=o.return}if(Ie===null)throw Error(V(160));Em(i,a,s),Ie=null,vt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Se(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_m(t,e),t=t.sibling}function _m(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gt(t,e),Tt(e),r&4){try{Ws(3,e,e.return),xa(3,e)}catch(g){Se(e,e.return,g)}try{Ws(5,e,e.return)}catch(g){Se(e,e.return,g)}}break;case 1:gt(t,e),Tt(e),r&512&&n!==null&&Pr(n,n.return);break;case 5:if(gt(t,e),Tt(e),r&512&&n!==null&&Pr(n,n.return),e.flags&32){var s=e.stateNode;try{Ks(s,"")}catch(g){Se(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Kp(s,i),Bo(o,a);var u=Bo(o,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?eh(s,f):d==="dangerouslySetInnerHTML"?qp(s,f):d==="children"?Ks(s,f):Kc(s,d,f,u)}switch(o){case"input":Ao(s,i);break;case"textarea":Qp(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Rr(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Rr(s,!!i.multiple,i.defaultValue,!0):Rr(s,!!i.multiple,i.multiple?[]:"",!1))}s[sl]=i}catch(g){Se(e,e.return,g)}}break;case 6:if(gt(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(V(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Se(e,e.return,g)}}break;case 3:if(gt(t,e),Tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Js(t.containerInfo)}catch(g){Se(e,e.return,g)}break;case 4:gt(t,e),Tt(e);break;case 13:gt(t,e),Tt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cu=Ce())),r&4&&ff(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Be=(u=Be)||d,gt(t,e),Be=u):gt(t,e),Tt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Y=e,d=e.child;d!==null;){for(f=Y=d;Y!==null;){switch(p=Y,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ws(4,p,p.return);break;case 1:Pr(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){Se(r,n,g)}}break;case 5:Pr(p,p.return);break;case 22:if(p.memoizedState!==null){hf(f);continue}}m!==null?(m.return=p,Y=m):hf(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Jp("display",a))}catch(g){Se(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Se(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gt(t,e),Tt(e),r&4&&ff(e);break;case 21:break;default:gt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sm(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ks(s,""),r.flags&=-33);var i=df(e);gc(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=df(e);xc(e,o,a);break;default:throw Error(V(161))}}catch(c){Se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bv(e,t,n){Y=e,Cm(e)}function Cm(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Gl;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Be;o=Gl;var u=Be;if(Gl=a,(Be=c)&&!u)for(Y=s;Y!==null;)a=Y,c=a.child,a.tag===22&&a.memoizedState!==null?mf(s):c!==null?(c.return=a,Y=c):mf(s);for(;i!==null;)Y=i,Cm(i),i=i.sibling;Y=s,Gl=o,Be=u}pf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):pf(e)}}function pf(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||xa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Be)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Qd(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Qd(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Js(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Be||t.flags&512&&mc(t)}catch(p){Se(t,t.return,p)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function hf(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function mf(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xa(4,t)}catch(c){Se(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Se(t,s,c)}}var i=t.return;try{mc(t)}catch(c){Se(t,i,c)}break;case 5:var a=t.return;try{mc(t)}catch(c){Se(t,a,c)}}}catch(c){Se(t,t.return,c)}if(t===e){Y=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Y=o;break}Y=t.return}}var wv=Math.ceil,Ui=nn.ReactCurrentDispatcher,Eu=nn.ReactCurrentOwner,pt=nn.ReactCurrentBatchConfig,oe=0,$e=null,ze=null,Ae=0,nt=0,Mr=$n(0),Pe=0,ul=null,sr=0,ga=0,_u=0,Gs=null,Qe=null,Cu=0,Zr=1/0,Ht=null,Hi=!1,yc=null,kn=null,Yl=!1,gn=null,Wi=0,Ys=0,vc=null,gi=-1,yi=0;function Ge(){return oe&6?Ce():gi!==-1?gi:gi=Ce()}function Sn(e){return e.mode&1?oe&2&&Ae!==0?Ae&-Ae:sv.transition!==null?(yi===0&&(yi=fh()),yi):(e=de,e!==0||(e=window.event,e=e===void 0?16:vh(e.type)),e):1}function kt(e,t,n,r){if(50<Ys)throw Ys=0,vc=null,Error(V(185));wl(e,n,r),(!(oe&2)||e!==$e)&&(e===$e&&(!(oe&2)&&(ga|=n),Pe===4&&hn(e,Ae)),tt(e,r),n===1&&oe===0&&!(t.mode&1)&&(Zr=Ce()+500,pa&&Rn()))}function tt(e,t){var n=e.callbackNode;sy(e,t);var r=Ci(e,e===$e?Ae:0);if(r===0)n!==null&&jd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&jd(n),t===1)e.tag===0?rv(xf.bind(null,e)):Dh(xf.bind(null,e)),Jy(function(){!(oe&6)&&Rn()}),n=null;else{switch(ph(r)){case 1:n=eu;break;case 4:n=uh;break;case 16:n=_i;break;case 536870912:n=dh;break;default:n=_i}n=Am(n,zm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zm(e,t){if(gi=-1,yi=0,oe&6)throw Error(V(327));var n=e.callbackNode;if(Fr()&&e.callbackNode!==n)return null;var r=Ci(e,e===$e?Ae:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Gi(e,r);else{t=r;var s=oe;oe|=2;var i=Pm();($e!==e||Ae!==t)&&(Ht=null,Zr=Ce()+500,qn(e,t));do try{kv();break}catch(o){Tm(e,o)}while(1);pu(),Ui.current=i,oe=s,ze!==null?t=0:($e=null,Ae=0,t=Pe)}if(t!==0){if(t===2&&(s=Go(e),s!==0&&(r=s,t=bc(e,s))),t===1)throw n=ul,qn(e,0),hn(e,r),tt(e,Ce()),n;if(t===6)hn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Nv(s)&&(t=Gi(e,r),t===2&&(i=Go(e),i!==0&&(r=i,t=bc(e,i))),t===1))throw n=ul,qn(e,0),hn(e,r),tt(e,Ce()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:Hn(e,Qe,Ht);break;case 3:if(hn(e,r),(r&130023424)===r&&(t=Cu+500-Ce(),10<t)){if(Ci(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ge(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ec(Hn.bind(null,e,Qe,Ht),t);break}Hn(e,Qe,Ht);break;case 4:if(hn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-jt(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wv(r/1960))-r,10<r){e.timeoutHandle=ec(Hn.bind(null,e,Qe,Ht),r);break}Hn(e,Qe,Ht);break;case 5:Hn(e,Qe,Ht);break;default:throw Error(V(329))}}}return tt(e,Ce()),e.callbackNode===n?zm.bind(null,e):null}function bc(e,t){var n=Gs;return e.current.memoizedState.isDehydrated&&(qn(e,t).flags|=256),e=Gi(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&wc(t)),e}function wc(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function Nv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Et(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hn(e,t){for(t&=~_u,t&=~ga,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function xf(e){if(oe&6)throw Error(V(327));Fr();var t=Ci(e,0);if(!(t&1))return tt(e,Ce()),null;var n=Gi(e,t);if(e.tag!==0&&n===2){var r=Go(e);r!==0&&(t=r,n=bc(e,r))}if(n===1)throw n=ul,qn(e,0),hn(e,t),tt(e,Ce()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hn(e,Qe,Ht),tt(e,Ce()),null}function zu(e,t){var n=oe;oe|=1;try{return e(t)}finally{oe=n,oe===0&&(Zr=Ce()+500,pa&&Rn())}}function lr(e){gn!==null&&gn.tag===0&&!(oe&6)&&Fr();var t=oe;oe|=1;var n=pt.transition,r=de;try{if(pt.transition=null,de=1,e)return e()}finally{de=r,pt.transition=n,oe=t,!(oe&6)&&Rn()}}function Tu(){nt=Mr.current,ge(Mr)}function qn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,qy(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(uu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$i();break;case 3:Kr(),ge(Je),ge(Ve),vu();break;case 5:yu(r);break;case 4:Kr();break;case 13:ge(be);break;case 19:ge(be);break;case 10:hu(r.type._context);break;case 22:case 23:Tu()}n=n.return}if($e=e,ze=e=En(e.current,null),Ae=nt=t,Pe=0,ul=null,_u=ga=sr=0,Qe=Gs=null,Yn!==null){for(t=0;t<Yn.length;t++)if(n=Yn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Yn=null}return e}function Tm(e,t){do{var n=ze;try{if(pu(),hi.current=Vi,Bi){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bi=!1}if(rr=0,Me=Te=we=null,Hs=!1,al=0,Eu.current=null,n===null||n.return===null){Pe=1,ul=t,ze=null;break}e:{var i=e,a=n.return,o=n,c=t;if(t=Ae,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=nf(a);if(m!==null){m.flags&=-257,rf(m,a,o,i,t),m.mode&1&&tf(i,u,t),t=m,c=u;var w=t.updateQueue;if(w===null){var g=new Set;g.add(c),t.updateQueue=g}else w.add(c);break e}else{if(!(t&1)){tf(i,u,t),Pu();break e}c=Error(V(426))}}else if(ye&&o.mode&1){var N=nf(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),rf(N,a,o,i,t),du(Qr(c,o));break e}}i=c=Qr(c,o),Pe!==4&&(Pe=2),Gs===null?Gs=[i]:Gs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=pm(i,c,t);Kd(i,h);break e;case 1:o=c;var x=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(kn===null||!kn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=hm(i,o,t);Kd(i,b);break e}}i=i.return}while(i!==null)}$m(n)}catch(k){t=k,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(1)}function Pm(){var e=Ui.current;return Ui.current=Vi,e===null?Vi:e}function Pu(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),$e===null||!(sr&268435455)&&!(ga&268435455)||hn($e,Ae)}function Gi(e,t){var n=oe;oe|=2;var r=Pm();($e!==e||Ae!==t)&&(Ht=null,qn(e,t));do try{jv();break}catch(s){Tm(e,s)}while(1);if(pu(),oe=n,Ui.current=r,ze!==null)throw Error(V(261));return $e=null,Ae=0,Pe}function jv(){for(;ze!==null;)Mm(ze)}function kv(){for(;ze!==null&&!K0();)Mm(ze)}function Mm(e){var t=Im(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?$m(e):ze=t,Eu.current=null}function $m(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gv(n,t),n!==null){n.flags&=32767,ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,ze=null;return}}else if(n=xv(n,t,nt),n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Pe===0&&(Pe=5)}function Hn(e,t,n){var r=de,s=pt.transition;try{pt.transition=null,de=1,Sv(e,t,n,r)}finally{pt.transition=s,de=r}return null}function Sv(e,t,n,r){do Fr();while(gn!==null);if(oe&6)throw Error(V(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(ly(e,i),e===$e&&(ze=$e=null,Ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yl||(Yl=!0,Am(_i,function(){return Fr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=pt.transition,pt.transition=null;var a=de;de=1;var o=oe;oe|=4,Eu.current=null,vv(e,n),_m(n,e),Wy(qo),zi=!!Zo,qo=Zo=null,e.current=n,bv(n),Q0(),oe=o,de=a,pt.transition=i}else e.current=n;if(Yl&&(Yl=!1,gn=e,Wi=s),i=e.pendingLanes,i===0&&(kn=null),J0(n.stateNode),tt(e,Ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Hi)throw Hi=!1,e=yc,yc=null,e;return Wi&1&&e.tag!==0&&Fr(),i=e.pendingLanes,i&1?e===vc?Ys++:(Ys=0,vc=e):Ys=0,Rn(),null}function Fr(){if(gn!==null){var e=ph(Wi),t=pt.transition,n=de;try{if(pt.transition=null,de=16>e?16:e,gn===null)var r=!1;else{if(e=gn,gn=null,Wi=0,oe&6)throw Error(V(331));var s=oe;for(oe|=4,Y=e.current;Y!==null;){var i=Y,a=i.child;if(Y.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Ws(8,d,i)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var p=d.sibling,m=d.return;if(km(d),d===u){Y=null;break}if(p!==null){p.return=m,Y=p;break}Y=m}}}var w=i.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var N=g.sibling;g.sibling=null,g=N}while(g!==null)}}Y=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Y=a;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ws(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,Y=h;break e}Y=i.return}}var x=e.current;for(Y=x;Y!==null;){a=Y;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,Y=v;else e:for(a=x;Y!==null;){if(o=Y,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:xa(9,o)}}catch(k){Se(o,o.return,k)}if(o===a){Y=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,Y=b;break e}Y=o.return}}if(oe=s,Rn(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(oa,e)}catch{}r=!0}return r}finally{de=n,pt.transition=t}}return!1}function gf(e,t,n){t=Qr(n,t),t=pm(e,t,1),e=jn(e,t,1),t=Ge(),e!==null&&(wl(e,1,t),tt(e,t))}function Se(e,t,n){if(e.tag===3)gf(e,e,n);else for(;t!==null;){if(t.tag===3){gf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kn===null||!kn.has(r))){e=Qr(n,e),e=hm(t,e,1),t=jn(t,e,1),e=Ge(),t!==null&&(wl(t,1,e),tt(t,e));break}}t=t.return}}function Ev(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,$e===e&&(Ae&n)===n&&(Pe===4||Pe===3&&(Ae&130023424)===Ae&&500>Ce()-Cu?qn(e,0):_u|=n),tt(e,t)}function Rm(e,t){t===0&&(e.mode&1?(t=Ll,Ll<<=1,!(Ll&130023424)&&(Ll=4194304)):t=1);var n=Ge();e=qt(e,t),e!==null&&(wl(e,t,n),tt(e,n))}function _v(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rm(e,n)}function Cv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),Rm(e,n)}var Im;Im=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ze=!1,mv(e,t,n);Ze=!!(e.flags&131072)}else Ze=!1,ye&&t.flags&1048576&&Fh(t,Ai,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xi(e,t),e=t.pendingProps;var s=Gr(t,Ve.current);Dr(t,n),s=wu(null,t,r,e,s,n);var i=Nu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(r)?(i=!0,Ri(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xu(t),s.updater=ma,t.stateNode=s,s._reactInternals=t,ac(t,r,e,n),t=uc(null,t,r,!0,i,n)):(t.tag=0,ye&&i&&cu(t),We(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Tv(r),e=yt(r,e),s){case 0:t=cc(null,t,r,e,n);break e;case 1:t=af(null,t,r,e,n);break e;case 11:t=sf(null,t,r,e,n);break e;case 14:t=lf(null,t,r,yt(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),cc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),af(e,t,r,s,n);case 3:e:{if(ym(t),e===null)throw Error(V(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Wh(e,t),Fi(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Qr(Error(V(423)),t),t=of(e,t,r,n,s);break e}else if(r!==s){s=Qr(Error(V(424)),t),t=of(e,t,r,n,s);break e}else for(rt=Nn(t.stateNode.containerInfo.firstChild),st=t,ye=!0,bt=null,n=Uh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yr(),r===s){t=Jt(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return Gh(t),e===null&&sc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Jo(r,s)?a=null:i!==null&&Jo(r,i)&&(t.flags|=32),gm(e,t),We(e,t,a,n),t.child;case 6:return e===null&&sc(t),null;case 13:return vm(e,t,n);case 4:return gu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xr(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),sf(e,t,r,s,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,pe(Li,r._currentValue),r._currentValue=a,i!==null)if(Et(i.value,a)){if(i.children===s.children&&!Je.current){t=Jt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Kt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),lc(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(V(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),lc(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}We(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Dr(t,n),s=ht(s),r=r(s),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,s=yt(r,t.pendingProps),s=yt(r.type,s),lf(e,t,r,s,n);case 15:return mm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),xi(e,t),t.tag=1,et(r)?(e=!0,Ri(t)):e=!1,Dr(t,n),fm(t,r,s),ac(t,r,s,n),uc(null,t,r,!0,e,n);case 19:return bm(e,t,n);case 22:return xm(e,t,n)}throw Error(V(156,t.tag))};function Am(e,t){return ch(e,t)}function zv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,t,n,r){return new zv(e,t,n,r)}function Mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tv(e){if(typeof e=="function")return Mu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zc)return 11;if(e===qc)return 14}return 2}function En(e,t){var n=e.alternate;return n===null?(n=dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vi(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Mu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Nr:return Jn(n.children,s,i,t);case Qc:a=8,s|=8;break;case Po:return e=dt(12,n,t,s|2),e.elementType=Po,e.lanes=i,e;case Mo:return e=dt(13,n,t,s),e.elementType=Mo,e.lanes=i,e;case $o:return e=dt(19,n,t,s),e.elementType=$o,e.lanes=i,e;case Gp:return ya(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hp:a=10;break e;case Wp:a=9;break e;case Zc:a=11;break e;case qc:a=14;break e;case cn:a=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=dt(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Jn(e,t,n,r){return e=dt(7,e,r,t),e.lanes=n,e}function ya(e,t,n,r){return e=dt(22,e,r,t),e.elementType=Gp,e.lanes=n,e.stateNode={isHidden:!1},e}function ao(e,t,n){return e=dt(6,e,null,t),e.lanes=n,e}function oo(e,t,n){return t=dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Va(0),this.expirationTimes=Va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $u(e,t,n,r,s,i,a,o,c){return e=new Pv(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=dt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xu(i),e}function Mv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lm(e){if(!e)return Pn;e=e._reactInternals;e:{if(cr(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(et(n))return Lh(e,n,t)}return t}function Dm(e,t,n,r,s,i,a,o,c){return e=$u(n,r,!0,e,s,i,a,o,c),e.context=Lm(null),n=e.current,r=Ge(),s=Sn(n),i=Kt(r,s),i.callback=t??null,jn(n,i,s),e.current.lanes=s,wl(e,s,r),tt(e,r),e}function va(e,t,n,r){var s=t.current,i=Ge(),a=Sn(s);return n=Lm(n),t.context===null?t.context=n:t.pendingContext=n,t=Kt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=jn(s,t,a),e!==null&&(kt(e,s,a,i),pi(e,s,a)),a}function Yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ru(e,t){yf(e,t),(e=e.alternate)&&yf(e,t)}function $v(){return null}var Fm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Iu(e){this._internalRoot=e}ba.prototype.render=Iu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));va(e,t,null,null)};ba.prototype.unmount=Iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lr(function(){va(null,e,null,null)}),t[Zt]=null}};function ba(e){this._internalRoot=e}ba.prototype.unstable_scheduleHydration=function(e){if(e){var t=xh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pn.length&&t!==0&&t<pn[n].priority;n++);pn.splice(n,0,e),n===0&&yh(e)}};function Au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vf(){}function Rv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Yi(a);i.call(u)}}var a=Dm(t,r,e,0,null,!1,!1,"",vf);return e._reactRootContainer=a,e[Zt]=a.current,nl(e.nodeType===8?e.parentNode:e),lr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=Yi(c);o.call(u)}}var c=$u(e,0,!1,null,null,!1,!1,"",vf);return e._reactRootContainer=c,e[Zt]=c.current,nl(e.nodeType===8?e.parentNode:e),lr(function(){va(t,c,n,r)}),c}function Na(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=Yi(a);o.call(c)}}va(t,a,e,s)}else a=Rv(n,t,e,s,r);return Yi(a)}hh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$s(t.pendingLanes);n!==0&&(tu(t,n|1),tt(t,Ce()),!(oe&6)&&(Zr=Ce()+500,Rn()))}break;case 13:lr(function(){var r=qt(e,1);if(r!==null){var s=Ge();kt(r,e,1,s)}}),Ru(e,1)}};nu=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var n=Ge();kt(t,e,134217728,n)}Ru(e,134217728)}};mh=function(e){if(e.tag===13){var t=Sn(e),n=qt(e,t);if(n!==null){var r=Ge();kt(n,e,t,r)}Ru(e,t)}};xh=function(){return de};gh=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};Uo=function(e,t,n){switch(t){case"input":if(Ao(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=fa(r);if(!s)throw Error(V(90));Xp(r),Ao(r,s)}}}break;case"textarea":Qp(e,n);break;case"select":t=n.value,t!=null&&Rr(e,!!n.multiple,t,!1)}};rh=zu;sh=lr;var Iv={usingClientEntryPoint:!1,Events:[jl,Er,fa,th,nh,zu]},bs={findFiberByHostInstance:Gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Av={bundleType:bs.bundleType,version:bs.version,rendererPackageName:bs.rendererPackageName,rendererConfig:bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ah(e),e===null?null:e.stateNode},findFiberByHostInstance:bs.findFiberByHostInstance||$v,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{oa=Xl.inject(Av),It=Xl}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iv;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Au(t))throw Error(V(200));return Mv(e,t,null,n)};at.createRoot=function(e,t){if(!Au(e))throw Error(V(299));var n=!1,r="",s=Fm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$u(e,1,!1,null,null,n,!1,r,s),e[Zt]=t.current,nl(e.nodeType===8?e.parentNode:e),new Iu(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=ah(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return lr(e)};at.hydrate=function(e,t,n){if(!wa(t))throw Error(V(200));return Na(null,e,t,!0,n)};at.hydrateRoot=function(e,t,n){if(!Au(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Fm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Dm(t,null,e,1,n??null,s,!1,i,a),e[Zt]=t.current,nl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ba(t)};at.render=function(e,t,n){if(!wa(t))throw Error(V(200));return Na(null,e,t,!1,n)};at.unmountComponentAtNode=function(e){if(!wa(e))throw Error(V(40));return e._reactRootContainer?(lr(function(){Na(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1};at.unstable_batchedUpdates=zu;at.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wa(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Na(e,t,n,!1,r)};at.version="18.3.1-next-f1338f8080-20240426";function Om(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Om)}catch(e){console.error(e)}}Om(),Op.exports=at;var Lv=Op.exports,bf=Lv;zo.createRoot=bf.createRoot,zo.hydrateRoot=bf.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(this,arguments)}var yn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yn||(yn={}));const wf="popstate";function Dv(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:o}=r.location;return Nc("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Xi(s)}return Ov(t,n,null,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fv(){return Math.random().toString(36).substr(2,8)}function Nf(e,t){return{usr:e.state,key:e.key,idx:t}}function Nc(e,t,n,r){return n===void 0&&(n=null),dl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?as(t):t,{state:n,key:t&&t.key||r||Fv()})}function Xi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function as(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ov(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=yn.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(dl({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=yn.Pop;let N=d(),h=N==null?null:N-u;u=N,c&&c({action:o,location:g.location,delta:h})}function p(N,h){o=yn.Push;let x=Nc(g.location,N,h);n&&n(x,N),u=d()+1;let v=Nf(x,u),b=g.createHref(x);try{a.pushState(v,"",b)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(b)}i&&c&&c({action:o,location:g.location,delta:1})}function m(N,h){o=yn.Replace;let x=Nc(g.location,N,h);n&&n(x,N),u=d();let v=Nf(x,u),b=g.createHref(x);a.replaceState(v,"",b),i&&c&&c({action:o,location:g.location,delta:0})}function w(N){let h=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof N=="string"?N:Xi(N);return x=x.replace(/ $/,"%20"),_e(h,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,h)}let g={get action(){return o},get location(){return e(s,a)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(wf,f),c=N,()=>{s.removeEventListener(wf,f),c=null}},createHref(N){return t(s,N)},createURL:w,encodeLocation(N){let h=w(N);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:m,go(N){return a.go(N)}};return g}var jf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jf||(jf={}));function Bv(e,t,n){return n===void 0&&(n="/"),Vv(e,t,n,!1)}function Vv(e,t,n,r){let s=typeof t=="string"?as(t):t,i=qr(s.pathname||"/",n);if(i==null)return null;let a=Bm(e);Uv(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=eb(i);o=qv(a[c],u,r)}return o}function Bm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(_e(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=_n([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(_e(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Bm(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Qv(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let c of Vm(i.path))s(i,a,c)}),t}function Vm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Vm(r.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Uv(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Zv(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Hv=/^:[\w-]+$/,Wv=3,Gv=2,Yv=1,Xv=10,Kv=-2,kf=e=>e==="*";function Qv(e,t){let n=e.split("/"),r=n.length;return n.some(kf)&&(r+=Kv),t&&(r+=Gv),n.filter(s=>!kf(s)).reduce((s,i)=>s+(Hv.test(i)?Wv:i===""?Yv:Xv),r)}function Zv(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function qv(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Ki({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Ki({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:_n([i,f.pathname]),pathnameBase:lb(_n([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=_n([i,f.pathnameBase]))}return a}function Ki(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Jv(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let g=o[f]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const w=o[f];return m&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function Jv(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Lu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function eb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nb=e=>tb.test(e);function rb(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?as(e):e,i;if(n)if(nb(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Lu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=Sf(n.substring(1),"/"):i=Sf(n,t)}else i=t;return{pathname:i,search:ib(r),hash:ab(s)}}function Sf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function co(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sb(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Um(e,t){let n=sb(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hm(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=as(e):(s=dl({},e),_e(!s.pathname||!s.pathname.includes("?"),co("?","pathname","search",s)),_e(!s.pathname||!s.pathname.includes("#"),co("#","pathname","hash",s)),_e(!s.search||!s.search.includes("#"),co("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}o=f>=0?t[f]:"/"}let c=rb(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const _n=e=>e.join("/").replace(/\/\/+/g,"/"),lb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ib=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ab=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ob(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Wm=["post","put","patch","delete"];new Set(Wm);const cb=["get",...Wm];new Set(cb);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl.apply(this,arguments)}const ja=y.createContext(null),Gm=y.createContext(null),In=y.createContext(null),ka=y.createContext(null),rn=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Ym=y.createContext(null);function ub(e,t){let{relative:n}=t===void 0?{}:t;Sl()||_e(!1);let{basename:r,navigator:s}=y.useContext(In),{hash:i,pathname:a,search:o}=Sa(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:_n([r,a])),s.createHref({pathname:c,search:o,hash:i})}function Sl(){return y.useContext(ka)!=null}function El(){return Sl()||_e(!1),y.useContext(ka).location}function Xm(e){y.useContext(In).static||y.useLayoutEffect(e)}function _t(){let{isDataRoute:e}=y.useContext(rn);return e?kb():db()}function db(){Sl()||_e(!1);let e=y.useContext(ja),{basename:t,future:n,navigator:r}=y.useContext(In),{matches:s}=y.useContext(rn),{pathname:i}=El(),a=JSON.stringify(Um(s,n.v7_relativeSplatPath)),o=y.useRef(!1);return Xm(()=>{o.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=Hm(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:_n([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,i,e])}const Km=y.createContext(null);function _l(){return y.useContext(Km)}function fb(e){let t=y.useContext(rn).outlet;return t&&y.createElement(Km.Provider,{value:e},t)}function Dt(){let{matches:e}=y.useContext(rn),t=e[e.length-1];return t?t.params:{}}function Sa(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(In),{matches:s}=y.useContext(rn),{pathname:i}=El(),a=JSON.stringify(Um(s,r.v7_relativeSplatPath));return y.useMemo(()=>Hm(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function pb(e,t){return hb(e,t)}function hb(e,t,n,r){Sl()||_e(!1);let{navigator:s}=y.useContext(In),{matches:i}=y.useContext(rn),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=El(),d;if(t){var f;let N=typeof t=="string"?as(t):t;c==="/"||(f=N.pathname)!=null&&f.startsWith(c)||_e(!1),d=N}else d=u;let p=d.pathname||"/",m=p;if(c!=="/"){let N=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=Bv(e,{pathname:m}),g=vb(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:_n([c,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:_n([c,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,n,r);return t&&g?y.createElement(ka.Provider,{value:{location:fl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:yn.Pop}},g):g}function mb(){let e=jb(),t=ob(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:s},n):null,i)}const xb=y.createElement(mb,null);class gb extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(rn.Provider,{value:this.props.routeContext},y.createElement(Ym.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yb(e){let{routeContext:t,match:n,children:r}=e,s=y.useContext(ja);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(rn.Provider,{value:t},r)}function vb(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||_e(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:m}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,p)=>{let m,w=!1,g=null,N=null;n&&(m=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||xb,c&&(u<0&&p===0?(Sb("route-fallback",!1),w=!0,N=null):u===p&&(w=!0,N=f.route.hydrateFallbackElement||null)));let h=t.concat(a.slice(0,p+1)),x=()=>{let v;return m?v=g:w?v=N:f.route.Component?v=y.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,y.createElement(yb,{match:f,routeContext:{outlet:d,matches:h,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?y.createElement(gb,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):x()},null)}var Qm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Qm||{}),Qi=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Qi||{});function bb(e){let t=y.useContext(ja);return t||_e(!1),t}function wb(e){let t=y.useContext(Gm);return t||_e(!1),t}function Nb(e){let t=y.useContext(rn);return t||_e(!1),t}function Zm(e){let t=Nb(),n=t.matches[t.matches.length-1];return n.route.id||_e(!1),n.route.id}function jb(){var e;let t=y.useContext(Ym),n=wb(Qi.UseRouteError),r=Zm(Qi.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function kb(){let{router:e}=bb(Qm.UseNavigateStable),t=Zm(Qi.UseNavigateStable),n=y.useRef(!1);return Xm(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,fl({fromRouteId:t},i)))},[e,t])}const Ef={};function Sb(e,t,n){!t&&!Ef[e]&&(Ef[e]=!0)}function Eb(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Du(e){return fb(e.context)}function ve(e){_e(!1)}function _b(e){let{basename:t="/",children:n=null,location:r,navigationType:s=yn.Pop,navigator:i,static:a=!1,future:o}=e;Sl()&&_e(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:a,future:fl({v7_relativeSplatPath:!1},o)}),[c,o,i,a]);typeof r=="string"&&(r=as(r));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:w="default"}=r,g=y.useMemo(()=>{let N=qr(d,c);return N==null?null:{location:{pathname:N,search:f,hash:p,state:m,key:w},navigationType:s}},[c,d,f,p,m,w,s]);return g==null?null:y.createElement(In.Provider,{value:u},y.createElement(ka.Provider,{children:n,value:g}))}function Cb(e){let{children:t,location:n}=e;return pb(jc(t),n)}new Promise(()=>{});function jc(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,s)=>{if(!y.isValidElement(r))return;let i=[...t,s];if(r.type===y.Fragment){n.push.apply(n,jc(r.props.children,i));return}r.type!==ve&&_e(!1),!r.props.index||!r.props.children||_e(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=jc(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zi.apply(this,arguments)}function qm(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function zb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tb(e,t){return e.button===0&&(!t||t==="_self")&&!zb(e)}const Pb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Mb=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$b="6";try{window.__reactRouterVersion=$b}catch{}const Rb=y.createContext({isTransitioning:!1}),Ib="startTransition",_f=E0[Ib];function Ab(e){let{basename:t,children:n,future:r,window:s}=e,i=y.useRef();i.current==null&&(i.current=Dv({window:s,v5Compat:!0}));let a=i.current,[o,c]=y.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=y.useCallback(f=>{u&&_f?_f(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>a.listen(d),[a,d]),y.useEffect(()=>Eb(r),[r]),y.createElement(_b,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const Lb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Db=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cl=y.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,p=qm(t,Pb),{basename:m}=y.useContext(In),w,g=!1;if(typeof u=="string"&&Db.test(u)&&(w=u,Lb))try{let v=new URL(window.location.href),b=u.startsWith("//")?new URL(v.protocol+u):new URL(u),k=qr(b.pathname,m);b.origin===v.origin&&k!=null?u=k+b.search+b.hash:g=!0}catch{}let N=ub(u,{relative:s}),h=Bb(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:f});function x(v){r&&r(v),v.defaultPrevented||h(v)}return y.createElement("a",Zi({},p,{href:w||N,onClick:g||i?r:x,ref:n,target:c}))}),Fb=y.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:u,children:d}=t,f=qm(t,Mb),p=Sa(c,{relative:f.relative}),m=El(),w=y.useContext(Gm),{navigator:g,basename:N}=y.useContext(In),h=w!=null&&Vb(p)&&u===!0,x=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,v=m.pathname,b=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(v=v.toLowerCase(),b=b?b.toLowerCase():null,x=x.toLowerCase()),b&&N&&(b=qr(b,N)||b);const k=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let z=v===x||!a&&v.startsWith(x)&&v.charAt(k)==="/",E=b!=null&&(b===x||!a&&b.startsWith(x)&&b.charAt(x.length)==="/"),C={isActive:z,isPending:E,isTransitioning:h},A=z?r:void 0,P;typeof i=="function"?P=i(C):P=[i,z?"active":null,E?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(C):o;return y.createElement(Cl,Zi({},f,{"aria-current":A,className:P,ref:n,style:I,to:c,viewTransition:u}),typeof d=="function"?d(C):d)});var kc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kc||(kc={}));var Cf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cf||(Cf={}));function Ob(e){let t=y.useContext(ja);return t||_e(!1),t}function Bb(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,c=_t(),u=El(),d=Sa(e,{relative:a});return y.useCallback(f=>{if(Tb(f,n)){f.preventDefault();let p=r!==void 0?r:Xi(u)===Xi(d);c(e,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,c,d,r,s,n,e,i,a,o])}function Vb(e,t){t===void 0&&(t={});let n=y.useContext(Rb);n==null&&_e(!1);let{basename:r}=Ob(kc.useViewTransitionState),s=Sa(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=qr(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=qr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ki(s.pathname,a)!=null||Ki(s.pathname,i)!=null}const Fu="-",Ub=e=>{const t=Wb(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(Fu);return o[0]===""&&o.length!==1&&o.shift(),Jm(o,t)||Hb(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},Jm=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Jm(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Fu);return(a=t.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},zf=/^\[(.+)\]$/,Hb=e=>{if(zf.test(e)){const t=zf.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Wb=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Yb(Object.entries(e.classGroups),n).forEach(([i,a])=>{Sc(a,r,i,t)}),r},Sc=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Tf(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(Gb(s)){Sc(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Sc(a,Tf(t,i),n,r)})})},Tf=(e,t)=>{let n=e;return t.split(Fu).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Gb=e=>e.isThemeGetter,Yb=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[n,s]}):e,Xb=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},ex="!",Kb=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=o=>{const c=[];let u=0,d=0,f;for(let N=0;N<o.length;N++){let h=o[N];if(u===0){if(h===s&&(r||o.slice(N,N+i)===t)){c.push(o.slice(d,N)),d=N+i;continue}if(h==="/"){f=N;continue}}h==="["?u++:h==="]"&&u--}const p=c.length===0?o:o.substring(d),m=p.startsWith(ex),w=m?p.substring(1):p,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:g}};return n?o=>n({className:o,parseClassName:a}):a},Qb=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Zb=e=>({cache:Xb(e.cacheSize),parseClassName:Kb(e),...Ub(e)}),qb=/\s+/,Jb=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(qb);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(u);let w=!!m,g=r(w?p.substring(0,m):p);if(!g){if(!w){o=u+(o.length>0?" "+o:o);continue}if(g=r(p),!g){o=u+(o.length>0?" "+o:o);continue}w=!1}const N=Qb(d).join(":"),h=f?N+ex:N,x=h+g;if(i.includes(x))continue;i.push(x);const v=s(g,w);for(let b=0;b<v.length;++b){const k=v[b];i.push(h+k)}o=u+(o.length>0?" "+o:o)}return o};function ew(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=tx(t))&&(r&&(r+=" "),r+=n);return r}const tx=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=tx(e[r]))&&(n&&(n+=" "),n+=t);return n};function tw(e,...t){let n,r,s,i=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return n=Zb(u),r=n.cache.get,s=n.cache.set,i=o,o(c)}function o(c){const u=r(c);if(u)return u;const d=Jb(c,n);return s(c,d),d}return function(){return i(ew.apply(null,arguments))}}const me=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},nx=/^\[(?:([a-z-]+):)?(.+)\]$/i,nw=/^\d+\/\d+$/,rw=new Set(["px","full","screen"]),sw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ow=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vt=e=>Or(e)||rw.has(e)||nw.test(e),ln=e=>os(e,"length",xw),Or=e=>!!e&&!Number.isNaN(Number(e)),uo=e=>os(e,"number",Or),ws=e=>!!e&&Number.isInteger(Number(e)),cw=e=>e.endsWith("%")&&Or(e.slice(0,-1)),re=e=>nx.test(e),an=e=>sw.test(e),uw=new Set(["length","size","percentage"]),dw=e=>os(e,uw,rx),fw=e=>os(e,"position",rx),pw=new Set(["image","url"]),hw=e=>os(e,pw,yw),mw=e=>os(e,"",gw),Ns=()=>!0,os=(e,t,n)=>{const r=nx.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},xw=e=>lw.test(e)&&!iw.test(e),rx=()=>!1,gw=e=>aw.test(e),yw=e=>ow.test(e),vw=()=>{const e=me("colors"),t=me("spacing"),n=me("blur"),r=me("brightness"),s=me("borderColor"),i=me("borderRadius"),a=me("borderSpacing"),o=me("borderWidth"),c=me("contrast"),u=me("grayscale"),d=me("hueRotate"),f=me("invert"),p=me("gap"),m=me("gradientColorStops"),w=me("gradientColorStopPositions"),g=me("inset"),N=me("margin"),h=me("opacity"),x=me("padding"),v=me("saturate"),b=me("scale"),k=me("sepia"),z=me("skew"),E=me("space"),C=me("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",re,t],O=()=>[re,t],B=()=>["",Vt,ln],j=()=>["auto",Or,re],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],T=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],S=()=>["","0",re],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[Or,re];return{cacheSize:500,separator:":",theme:{colors:[Ns],spacing:[Vt,ln],blur:["none","",an,re],brightness:L(),borderColor:[e],borderRadius:["none","","full",an,re],borderSpacing:O(),borderWidth:B(),contrast:L(),grayscale:S(),hueRotate:L(),invert:S(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[cw,ln],inset:I(),margin:I(),opacity:L(),padding:O(),saturate:L(),scale:L(),sepia:S(),skew:L(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",re]}],container:["container"],columns:[{columns:[an]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),re]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ws,re]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",re]}],grow:[{grow:S()}],shrink:[{shrink:S()}],order:[{order:["first","last","none",ws,re]}],"grid-cols":[{"grid-cols":[Ns]}],"col-start-end":[{col:["auto",{span:["full",ws,re]},re]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Ns]}],"row-start-end":[{row:["auto",{span:[ws,re]},re]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",re]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",re,t]}],"min-w":[{"min-w":[re,t,"min","max","fit"]}],"max-w":[{"max-w":[re,t,"none","full","min","max","fit","prose",{screen:[an]},an]}],h:[{h:[re,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[re,t,"auto","min","max","fit"]}],"font-size":[{text:["base",an,ln]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",uo]}],"font-family":[{font:[Ns]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",re]}],"line-clamp":[{"line-clamp":["none",Or,uo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vt,re]}],"list-image":[{"list-image":["none",re]}],"list-style-type":[{list:["none","disc","decimal",re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[h]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[h]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vt,ln]}],"underline-offset":[{"underline-offset":["auto",Vt,re]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[h]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),fw]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dw]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hw]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[h]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[h]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Vt,re]}],"outline-w":[{outline:[Vt,ln]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[h]}],"ring-offset-w":[{"ring-offset":[Vt,ln]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",an,mw]}],"shadow-color":[{shadow:[Ns]}],opacity:[{opacity:[h]}],"mix-blend":[{"mix-blend":[...T(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",an,re]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[h]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",re]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",re]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ws,re]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[z]}],"skew-y":[{"skew-y":[z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",re]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Vt,ln,uo]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ou=tw(vw),ie=({children:e,className:t,...n})=>l.jsx("div",{className:Ou("bg-glass backdrop-blur-xl border border-glass-border rounded-xl",t),...n,children:e}),Bu=({url:e,alt:t="User",size:n="md",className:r})=>{const s={sm:"size-8 text-xs",md:"size-10 text-sm",lg:"size-16 text-lg",xl:"size-32 text-2xl"};return l.jsx("div",{className:Ou("rounded-full bg-surface-light border border-white/10 flex items-center justify-center overflow-hidden shrink-0",s[n],r),children:e?l.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover"}):l.jsx("span",{className:"font-bold text-slate-400",children:t.charAt(0)})})},bw=()=>l.jsx("div",{className:"flex h-screen w-full overflow-hidden bg-background-dark relative",children:l.jsx("main",{className:"flex-1 min-w-0 relative overflow-hidden flex flex-col",children:l.jsx(Du,{})})}),Ne=y.forwardRef(({children:e,variant:t="primary",size:n="md",className:r,icon:s,isLoading:i,...a},o)=>{const c="inline-flex items-center justify-center rounded-lg font-medium transition-all focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-primary hover:bg-primary-hover text-white shadow-lg shadow-primary/25 border border-transparent",secondary:"bg-surface-light hover:bg-surface-lighter text-slate-200 border border-glass-border",ghost:"bg-transparent hover:bg-white/5 text-slate-400 hover:text-white",danger:"bg-red-500/10 hover:bg-red-500/20 text-red-500 border border-red-500/20"},d={sm:"px-3 py-1.5 text-xs gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-3"};return l.jsxs("button",{ref:o,className:Ou(c,u[t],d[n],r),disabled:i,...a,children:[i?l.jsx("span",{className:"material-symbols-outlined animate-spin text-[18px]",children:"progress_activity"}):s?l.jsx("span",{className:"material-symbols-outlined text-[18px]",children:s}):null,e]})});Ne.displayName="Button";const ww=({isOpen:e,onClose:t,onCreate:n})=>{const[r,s]=y.useState(""),[i,a]=y.useState("Fantasy");if(!e)return null;const o=c=>{c.preventDefault(),n({title:r,genre:i}),s(""),t()};return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),l.jsx("div",{className:"relative w-full max-w-md animate-in fade-in zoom-in duration-200",children:l.jsxs(ie,{className:"p-8 border-primary/30 shadow-2xl shadow-primary/10",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create New World"}),l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 uppercase tracking-wider",children:"Project Title"}),l.jsx("input",{type:"text",value:r,onChange:c=>s(c.target.value),placeholder:"e.g., The Realms of Aethelgard",className:"w-full bg-background-dark/50 border border-glass-border rounded-lg px-4 py-3 text-white focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 uppercase tracking-wider",children:"Genre"}),l.jsxs("select",{value:i,onChange:c=>a(c.target.value),className:"w-full bg-background-dark/50 border border-glass-border rounded-lg px-4 py-3 text-white focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all appearance-none",children:[l.jsx("option",{value:"Fantasy",children:"Fantasy"}),l.jsx("option",{value:"Sci-Fi",children:"Sci-Fi"}),l.jsx("option",{value:"Horror",children:"Horror"}),l.jsx("option",{value:"Steampunk",children:"Steampunk"}),l.jsx("option",{value:"Modern",children:"Modern"}),l.jsx("option",{value:"Historical",children:"Historical"})]})]}),l.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[l.jsx(Ne,{variant:"ghost",onClick:t,type:"button",children:"Cancel"}),l.jsx(Ne,{variant:"primary",type:"submit",icon:"add",children:"Create World"})]})]})]})})]})},Nw="/api",X={async request(e,t={}){const n=`${Nw}${e}`,r={"Content-Type":"application/json",...t.headers},s=await fetch(n,{...t,headers:r,credentials:"include"});if(!s.ok){const i=await s.json().catch(()=>({}));throw new Error(i.error||`HTTP error! status: ${s.status}`)}return s.json()},get(e,t={}){return this.request(e,{method:"GET",headers:t})},post(e,t,n={}){return this.request(e,{method:"POST",body:JSON.stringify(t),headers:n})},put(e,t,n={}){return this.request(e,{method:"PUT",body:JSON.stringify(t),headers:n})},patch(e,t,n={}){return this.request(e,{method:"PATCH",body:JSON.stringify(t),headers:n})},delete(e,t={}){return this.request(e,{method:"DELETE",headers:t})}},Kl={list:()=>X.get("/workspaces"),create:e=>X.post("/workspaces",{name:e}),delete:e=>X.delete("/workspaces/"+e),select:e=>X.post("/workspaces/select",{projectName:e})},jw=({title:e,desc:t,type:n,updated:r,image:s,id:i,name:a,username:o,onDelete:c})=>l.jsx(Cl,{to:`/${o}/${a}`,className:"block group",children:l.jsxs(ie,{className:"h-64 flex flex-col p-6 hover:shadow-2xl hover:shadow-primary/20 hover:border-primary/50 transition-all relative",children:[l.jsx("div",{className:"absolute top-6 right-6 z-20 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx("button",{onClick:u=>{u.preventDefault(),u.stopPropagation(),c(a)},className:"p-2 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-500 transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})}),l.jsxs("div",{className:"mb-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/20 flex items-center justify-center text-primary border border-primary/20 group-hover:scale-105 transition-transform",children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:n==="Fantasy"?"auto_awesome":n==="Sci-Fi"?"rocket_launch":"public"})}),l.jsxs("div",{children:[l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-primary",children:n}),l.jsx("h3",{className:"text-xl font-bold text-white leading-tight group-hover:text-primary transition-colors",children:e})]})]}),l.jsx("p",{className:"text-sm text-slate-400 line-clamp-3 leading-relaxed",children:t})]}),l.jsxs("div",{className:"pt-4 border-t border-white/5 flex justify-between items-center text-xs text-slate-500",children:[l.jsxs("span",{children:["Updated ",r]}),l.jsx("span",{className:"group-hover:translate-x-1 transition-transform material-symbols-outlined text-base",children:"arrow_forward"})]})]})}),kw=()=>{const[e,t]=y.useState([]),[n,r]=y.useState(!1),[s,i]=y.useState(!0);_t(),y.useEffect(()=>{a()},[]);const a=async()=>{try{const u=await X.get("/proyectos");t(u)}catch(u){console.error("Error fetching projects:",u)}finally{i(!1)}},o=async u=>{if(window.confirm(`Are you sure you want to delete "${u}"?`))try{await X.delete(`/proyectos/${u}`),a()}catch(d){console.error("Failed to delete project:",d)}},c=async u=>{try{(await X.post("/proyectos/crear",{nombreProyecto:u.title,tipo:u.genre,descripcion:`A new ${u.genre} world.`})).success&&(r(!1),a())}catch(d){console.error("Error creating project:",d)}};return l.jsxs("div",{className:"flex-1 flex flex-col items-center p-12 pt-28 overflow-y-auto custom-scrollbar relative",children:[l.jsxs("div",{className:"w-full max-w-6xl space-y-12",children:[l.jsxs("header",{className:"flex flex-col gap-2",children:[l.jsx("h1",{className:"text-5xl font-manrope font-black text-white tracking-tight",children:"Chronos Atlas"}),l.jsx("p",{className:"text-slate-500 text-lg font-medium",children:"Select a world to begin building."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.map(u=>l.jsx(jw,{id:u.id,name:u.nombreProyecto,username:u.usuario||"Roberto",title:u.nombreProyecto,desc:u.descripcion,type:u.tipo,updated:"Recently",image:u.imagenUrl,onDelete:o},u.id)),s&&e.length===0&&l.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center gap-4 opacity-30",children:[l.jsx("span",{className:"material-symbols-outlined text-6xl animate-spin",children:"refresh"}),l.jsx("span",{className:"text-sm font-bold uppercase tracking-widest",children:"Scanning Vaults..."})]}),!s&&e.length===0&&l.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center gap-4 border-2 border-dashed border-white/5 rounded-[3rem] bg-white/[0.02]",children:[l.jsx("span",{className:"material-symbols-outlined text-6xl text-slate-700",children:"folder_open"}),l.jsx("span",{className:"text-sm font-medium text-slate-500",children:"No worlds found. Time to create one."})]}),l.jsxs("div",{onClick:()=>r(!0),className:"group relative h-64 rounded-2xl border-2 border-dashed border-slate-700 hover:border-primary hover:bg-primary/5 flex flex-col items-center justify-center cursor-pointer transition-all",children:[l.jsx("div",{className:"size-16 rounded-full bg-surface-light flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:l.jsx("span",{className:"material-symbols-outlined text-3xl text-slate-400 group-hover:text-primary",children:"add"})}),l.jsx("span",{className:"text-sm font-bold text-slate-400 group-hover:text-primary",children:"Create New Project"})]})]})]}),l.jsx(ww,{isOpen:n,onClose:()=>r(!1),onCreate:c})]})},Sw=()=>{const e=_t(),[t,n]=y.useState([]),[r,s]=y.useState(!0),[i,a]=y.useState(null);y.useEffect(()=>{o()},[]);const o=async()=>{try{s(!0);const f=await Kl.list();n(f)}catch(f){console.error("Failed to load workspaces",f),a("Could not load workspaces. Is the backend running?")}finally{s(!1)}},c=async f=>{try{s(!0);const p=await Kl.select(f);p.success&&p.redirect&&(localStorage.setItem("user",JSON.stringify({username:"local",success:!0})),e(p.redirect))}catch(p){console.error("Selection failed",p),a(p.message||"Failed to enter workspace"),s(!1)}},u=async()=>{const f=prompt("Enter Project Name:");if(f)try{s(!0),(await Kl.create(f)).success&&await c(f)}catch(p){console.error("Creation failed",p),a("Failed to create workspace: "+(p.message||"Unknown error")),s(!1)}},d=async(f,p)=>{if(f.stopPropagation(),!!confirm("Are you sure you want to delete "+p+"? This cannot be undone."))try{s(!0),await Kl.delete(p),await o()}catch(m){a("Failed to delete: "+m.message),s(!1)}};return l.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center justify-center relative overflow-hidden bg-background-dark p-8",children:[l.jsx("div",{className:"absolute inset-0 bg-[url('https://lh3.googleusercontent.com/aida-public/AB6AXuBXRuAnm4TWmeLokpiWualeQMnfpbzAWwF1z7vP_aEtaINpspl5kJGo3vfJJyZhtvNxfrZ83zjJ0RfQwomOQ8WLBjwNCkUbgECBD7apfwZ62QdXEtdLvKV2ZKpX0lqdRpUrytD5F2IoLbbFMnPhcua5NQFjVDCnI8Ptur2mDMgA3f0FJ6HvnU-F5PC4UrNB7UP9Ws-b_47IqoB-uuDQxqe-FZTZb2y0JW5F3ytTFp8uz9yLFPQXhRfXZDw0wkO1eT2pfujN32SWARc')] bg-cover opacity-20"}),l.jsx("div",{className:"absolute top-0 -left-20 w-96 h-96 bg-primary/20 rounded-full blur-[120px]"}),l.jsxs("div",{className:"relative z-10 w-full max-w-5xl flex flex-col items-center",children:[l.jsxs("div",{className:"mb-12 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[l.jsx("div",{className:"size-12 bg-background-dark rounded-xl flex items-center justify-center border border-glass-border shadow-lg shadow-primary/20",children:l.jsx("span",{className:"material-symbols-outlined text-2xl text-primary",children:"public"})}),l.jsx("h1",{className:"text-4xl font-bold text-white tracking-tight",children:"Chronos Atlas"})]}),l.jsx("p",{className:"text-slate-400 text-lg",children:"Select a Neural Workspace to interface with."})]}),i&&l.jsxs("div",{className:"mb-8 p-4 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 font-bold flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined",children:"warning"}),i,l.jsx("button",{onClick:o,className:"ml-4 underline text-xs",children:"Retry"})]}),r?l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),l.jsx("span",{className:"text-slate-500 animate-pulse",children:"Scanning local sector..."})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:[l.jsxs("div",{onClick:u,className:"glass-panel group relative p-6 rounded-2xl border border-glass-border hover:border-primary/50 transition-all cursor-pointer flex flex-col items-center justify-center min-h-[200px] hover:bg-white/5 active:scale-95",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:l.jsx("span",{className:"material-symbols-outlined text-3xl text-slate-400 group-hover:text-white",children:"add"})}),l.jsx("h3",{className:"text-xl font-bold text-slate-300 group-hover:text-white",children:"New Workspace"})]}),t.map(f=>l.jsxs("div",{onClick:()=>c(f),className:"glass-panel group relative p-6 rounded-2xl border border-glass-border hover:border-primary/50 transition-all cursor-pointer flex flex-col justify-between min-h-[200px] hover:-translate-y-1 hover:shadow-xl hover:shadow-primary/10",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:"px-2 py-1 rounded bg-primary/20 border border-primary/30 text-xs font-bold text-primary-light uppercase tracking-wider",children:"Local"}),l.jsx("button",{onClick:p=>d(p,f),className:"text-red-400 hover:text-red-200 material-symbols-outlined text-sm p-1 rounded hover:bg-white/10",title:"Delete Workspace",children:"delete"})]}),l.jsx("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-primary-light transition-colors",children:f}),l.jsx("p",{className:"text-slate-400 text-sm",children:"Local Database"})]}),l.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-white/5 pt-4",children:[l.jsx("span",{className:"text-xs text-slate-400",children:"Ready"}),l.jsx("span",{className:"material-symbols-outlined text-slate-600 group-hover:text-primary transition-colors",children:"arrow_forward"})]})]},f))]})]}),l.jsx("div",{className:"absolute bottom-6 text-center text-xs text-slate-600",children:"Chronos Atlas  Local Mode"})]})},Ql=({icon:e,title:t,desc:n,color:r})=>l.jsxs("div",{className:"group relative p-8 rounded-[32px] bg-surface-dark border border-white/5 hover:border-white/10 transition-all cursor-pointer flex flex-col h-full gap-6 hover:shadow-2xl hover:shadow-black/40",children:[l.jsx("div",{className:`size-14 rounded-2xl ${r} flex items-center justify-center text-white shadow-lg group-hover:scale-110 transition-all duration-500`,children:l.jsx("span",{className:"material-symbols-outlined text-3xl",children:e})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:t}),l.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:n})]}),l.jsxs("div",{className:"mt-auto pt-4 border-t border-white/5 flex items-center justify-between text-slate-500 group-hover:text-white transition-colors",children:[l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Architect Tool"}),l.jsx("span",{className:"material-symbols-outlined text-xl group-hover:translate-x-1 transition-transform",children:"arrow_forward"})]})]}),Ew=()=>{const{projectName:e,handleCreateEntity:t}=_l(),n=_t();return Dt(),l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12 gap-16 max-w-6xl mx-auto w-full",children:[l.jsxs("div",{className:"flex flex-col items-center text-center gap-8 max-w-2xl animate-in fade-in slide-in-from-bottom-8 duration-700",children:[l.jsx("div",{className:"size-20 rounded-full bg-white text-background-dark flex items-center justify-center shadow-2xl shadow-white/20",children:l.jsx("span",{className:"material-symbols-outlined text-4xl font-bold",children:"explore"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-6xl font-manrope font-black text-white tracking-tighter leading-tight",children:"Bienvenido de nuevo, Viajero."}),l.jsxs("p",{className:"text-xl text-slate-400 font-medium leading-relaxed",children:["Tu mundo ",l.jsx("span",{className:"text-primary font-bold",children:e||"Cargando..."})," espera ser descubierto. El lienzo est vaco, pero tu imaginacin no tiene lmites. Cmo empezamos hoy?"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 w-full items-stretch animate-in fade-in slide-in-from-bottom-12 duration-1000 delay-300",children:[l.jsx("div",{onClick:()=>t(null,"default"),children:l.jsx(Ql,{icon:"person_add",title:"Aadir Entidad",desc:"Agrega un personaje, lugar o item importante a tu base de datos.",color:"bg-indigo-600"})}),l.jsx("div",{onClick:()=>t(null,"map"),children:l.jsx(Ql,{icon:"map",title:"Crear Mapa",desc:"Dibuja una representacin cartogrfica de una regin.",color:"bg-purple-600"})}),l.jsx("div",{onClick:()=>n("writing"),children:l.jsx(Ql,{icon:"edit_note",title:"Empezar a Escribir",desc:"Abre el editor de texto y comienza un nuevo captulo.",color:"bg-emerald-600"})}),l.jsx("div",{onClick:()=>alert("WIP: Notas Rpidas"),children:l.jsx(Ql,{icon:"lightbulb",title:"Ver Ideas Rpidas",desc:"Revisa tus notas y fragmentos de inspiracin guardados.",color:"bg-amber-600"})})]})]})},_w=()=>{const[e,t]=y.useState([]),[n,r]=y.useState(""),[s,i]=y.useState([]),[a,o]=y.useState(!1);y.useEffect(()=>{c()},[]),y.useEffect(()=>{n?u(n):i([])},[n]);const c=async()=>{try{const f=await X.get("/world-bible/folders");t(f),f.length>0&&r(f[0].id)}catch(f){console.error("Error loading folders:",f)}},u=async f=>{o(!0);try{const p=await X.get(`/world-bible/folders/${f}/templates`);i(p)}catch(p){console.error("Error loading templates:",p)}finally{o(!1)}},d=async f=>{if(n)try{await X.post(`/world-bible/folders/${n}/templates`,{nombre:f.label,tipo:f.type,required:f.required,metadata:f.metadata?JSON.stringify(f.metadata):null}),u(n)}catch(p){console.error("Error creating template:",p)}};return l.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:l.jsxs(ie,{className:"p-8 space-y-8",children:[l.jsxs("header",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Folder Templates"}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Define default attributes for entities in..."})]}),l.jsxs("select",{value:n,onChange:f=>r(f.target.value),className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-xs text-white outline-none focus:border-primary/50",children:[l.jsx("option",{value:"",children:"Select a Folder..."}),e.map(f=>l.jsx("option",{value:f.id,children:f.nombre},f.id))]})]}),l.jsxs("div",{className:"space-y-4",children:[a?l.jsx("div",{className:"text-center p-4 text-slate-500",children:"Loading templates..."}):s.map((f,p)=>l.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl bg-white/[0.02] border border-white/5",children:[l.jsxs("span",{className:"text-[10px] font-black text-slate-700 w-6",children:["0",p+1]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-sm font-bold text-white",children:f.nombre}),l.jsxs("div",{className:"text-[10px] text-slate-500 uppercase tracking-widest",children:[f.tipo," ",f.esObligatorio&&" Required"]}),f.metadata&&l.jsx("div",{className:"text-[10px] text-slate-600 font-mono mt-1 truncate",children:f.metadata})]})]},f.id)),l.jsx(Cw,{onAdd:d})]})]})})},Cw=({onAdd:e})=>{const[t,n]=y.useState(""),[r,s]=y.useState("text"),[i,a]=y.useState(!1),[o,c]=y.useState(""),u=()=>{if(!t)return;const d=r==="select"?{options:o.split(",").map(f=>f.trim()).filter(Boolean)}:null;e({label:t,type:r,required:i,metadata:d}),n(""),c("")};return l.jsxs("div",{className:"p-4 rounded-2xl border-2 border-dashed border-white/10 bg-white/[0.01] space-y-4",children:[l.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-primary",children:"Add New Attribute"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("input",{placeholder:"Field Name",value:t,onChange:d=>n(d.target.value),className:"bg-black/20 border border-white/5 rounded-xl px-4 py-2 text-xs text-white outline-none focus:border-primary/30"}),l.jsxs("select",{value:r,onChange:d=>s(d.target.value),className:"bg-black/20 border border-white/5 rounded-xl px-4 py-2 text-xs text-white outline-none",children:[l.jsx("option",{value:"text",children:"Text (Long)"}),l.jsx("option",{value:"short_text",children:"Text (Short)"}),l.jsx("option",{value:"number",children:"Number"}),l.jsx("option",{value:"date",children:"Date"}),l.jsx("option",{value:"select",children:"Dropdown (Selector)"}),l.jsx("option",{value:"boolean",children:"Checkbox"})]})]}),r==="select"&&l.jsx("input",{placeholder:"Options (comma separated, e.g. High, Medium, Low)",value:o,onChange:d=>c(d.target.value),className:"w-full bg-black/20 border border-white/5 rounded-xl px-4 py-2 text-xs text-white outline-none focus:border-primary/30"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i,onChange:d=>a(d.target.checked),className:"size-4 rounded border-white/10 bg-white/5 accent-primary"}),l.jsx("span",{className:"text-[10px] font-bold text-slate-500",children:"Required Field"})]}),l.jsx("button",{onClick:u,className:"px-4 py-2 bg-primary/20 text-primary rounded-lg text-xs font-bold hover:bg-primary/30 transition-all",children:"+ Add Field"})]})]})},Pf=()=>{var a,o,c;const e=_t(),[t,n]=D.useState(null),[r,s]=D.useState("profile");D.useEffect(()=>{const u=localStorage.getItem("user");u&&n(JSON.parse(u))},[]);const i=async()=>{try{await X.post("/auth/logout",{})}catch(u){console.error("Logout error on server",u)}finally{localStorage.removeItem("user"),sessionStorage.clear(),e("/login")}};return l.jsx("div",{className:"flex-1 flex flex-col items-center p-12 pt-28 overflow-y-auto custom-scrollbar relative",children:l.jsxs("div",{className:"w-full max-w-2xl space-y-8",children:[l.jsxs("header",{children:[l.jsx("h1",{className:"text-4xl font-manrope font-black text-white tracking-tight",children:"System Settings"}),l.jsxs("div",{className:"flex gap-4 mt-6 border-b border-white/5",children:[l.jsx("button",{onClick:()=>s("profile"),className:`pb-4 text-sm font-bold transition-all ${r==="profile"?"text-primary border-b-2 border-primary":"text-slate-500 hover:text-white"}`,children:"Profile & Session"}),l.jsx("button",{onClick:()=>s("templates"),className:`pb-4 text-sm font-bold transition-all ${r==="templates"?"text-primary border-b-2 border-primary":"text-slate-500 hover:text-white"}`,children:"Entity Templates"})]})]}),l.jsx("div",{className:"space-y-6",children:r==="templates"?l.jsx(_w,{}):l.jsxs(l.Fragment,{children:[l.jsxs(ie,{className:"p-8 space-y-6 border-white/10",children:[l.jsxs("div",{className:"flex items-center gap-6 border-b border-white/5 pb-6",children:[l.jsx("div",{className:"size-20 rounded-2xl bg-gradient-to-br from-primary to-purple-600 flex items-center justify-center text-white shadow-2xl shadow-primary/20",children:l.jsx("span",{className:"material-symbols-outlined text-4xl",children:"person"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:((a=t==null?void 0:t.user)==null?void 0:a.username)||"Architect"}),l.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"Level 1 Worldbuilder"}),l.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[l.jsx("span",{className:"px-2 py-0.5 rounded bg-emerald-500/10 text-emerald-400 text-[10px] font-bold uppercase tracking-wider border border-emerald-500/20",children:"Active"}),l.jsx("span",{className:"px-2 py-0.5 rounded bg-blue-500/10 text-blue-400 text-[10px] font-bold uppercase tracking-wider border border-blue-500/20",children:"Pro Member"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5",children:[l.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Architect ID"}),l.jsx("p",{className:"text-white font-mono text-sm",children:((o=t==null?void 0:t.user)==null?void 0:o.id)||"Undefined"})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5",children:[l.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Email"}),l.jsx("p",{className:"text-white font-mono text-sm",children:((c=t==null?void 0:t.user)==null?void 0:c.email)||"No email linked"})]})]})]}),l.jsxs(ie,{className:"p-8 space-y-6 border-white/10",children:[l.jsxs("div",{className:"flex items-center gap-4 border-b border-white/5 pb-4",children:[l.jsx("div",{className:"size-12 rounded-xl bg-red-500/10 flex items-center justify-center text-red-500",children:l.jsx("span",{className:"material-symbols-outlined text-2xl",children:"logout"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Session Termination"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Securely end your current session and return to the vault entrance."})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:i,className:"px-6 py-2 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-500 border border-red-500/20 font-bold text-sm transition-all shadow-lg hover:shadow-red-500/10",children:"Disconnect & Exit"})})]})]})})]})})},xr=({to:e,icon:t,label:n,collapsed:r,end:s})=>l.jsxs(Fb,{to:e,end:s,className:({isActive:i})=>`
            flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all group
            ${i?"bg-primary text-white shadow-lg shadow-primary/20":"text-text-muted hover:text-white hover:bg-white/5"}
            ${r?"justify-center":""}
        `,title:r?n:"",children:[l.jsx("span",{className:"material-symbols-outlined text-xl",children:t}),!r&&l.jsx("span",{className:"text-sm font-bold tracking-wide",children:n})]}),Mf=e=>{switch(e==null?void 0:e.toLowerCase()){case"text":return"notes";case"short_text":return"short_text";case"number":return"pin";case"date":return"calendar_today";case"select":return"list";case"boolean":return"check_box";case"map":return"map";case"timeline":return"timeline";case"character":case"entidadindividual":return"person";case"location":case"zona":case"construccion":return"location_on";case"culture":case"entidadcolectiva":return"groups";case"universe":case"galaxy":case"system":case"planet":return"public";case"entity_link":return"link";default:return"description"}},zw=()=>{const{username:e,projectName:t}=Dt();_t();const[n,r]=y.useState(!0),[s,i]=y.useState(!1),[a,o]=y.useState("Loading..."),[c,u]=y.useState(null),[d,f]=y.useState("NOTES"),[p,m]=y.useState(""),[w,g]=y.useState([]),[N,h]=y.useState(null),[x,v]=y.useState(null),b=`/${e}/${t}`;y.useEffect(()=>{(async()=>{if(t){await k(t);const C=localStorage.getItem(`notes_${t}`);C&&m(C)}})()},[t]);const k=async E=>{try{const C=await X.get(`/proyectos/${E}`);C&&(o(C.nombreProyecto),u(C.id))}catch(C){console.error("Error loading project:",C)}},z=E=>{const C=E.target.value;m(C),localStorage.setItem(`notes_${t}`,C)};return l.jsxs("div",{className:"flex h-screen w-full overflow-hidden bg-background-dark text-text-main font-sans selection:bg-primary/30",children:[l.jsxs("aside",{className:`
                    flex-none bg-surface-dark border-r border-glass-border transition-all duration-500 relative flex flex-col z-30
                    ${n?"w-80":"w-20"}
                `,children:[l.jsxs("div",{className:"h-16 flex items-center justify-center border-b border-glass-border relative",children:[n?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"size-8 rounded-lg bg-surface-light flex items-center justify-center text-primary shadow-inner",children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:"auto_stories"})}),l.jsx("h2",{className:"text-sm font-black uppercase tracking-widest text-white truncate max-w-[150px]",children:a})]}):l.jsx("button",{onClick:()=>r(!0),className:"size-10 rounded-xl hover:bg-white/5 flex items-center justify-center text-text-muted hover:text-white transition-all",children:l.jsx("span",{className:"material-symbols-outlined",children:"menu"})}),n&&l.jsx("button",{onClick:()=>r(!1),className:"absolute right-4 text-text-muted hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-lg",children:"dock_to_left"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar flex flex-col",children:l.jsxs("div",{className:"p-3 space-y-1",children:[l.jsx(xr,{to:b,icon:"home",label:"Dashboard",collapsed:!n,end:!0}),l.jsx(xr,{to:`${b}/bible`,icon:"menu_book",label:"World Bible",collapsed:!n}),l.jsx(xr,{to:`${b}/map`,icon:"map",label:"Atlas",collapsed:!n}),l.jsx(xr,{to:`${b}/timeline`,icon:"calendar_month",label:"Chronology",collapsed:!n}),l.jsx("div",{className:"h-px bg-glass-border my-2 mx-2 opacity-50"}),l.jsx(xr,{to:`${b}/writing`,icon:"edit_note",label:"Writing",collapsed:!n}),l.jsx(xr,{to:`${b}/settings`,icon:"settings",label:"Settings",collapsed:!n})]})}),l.jsx("footer",{className:"p-4 border-t border-glass-border",children:l.jsxs("div",{className:`flex items-center gap-3 ${!n&&"justify-center"}`,children:[l.jsx("div",{className:"size-10 rounded-full border border-glass-border p-1 bg-surface-light relative",children:l.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-primary to-purple-500 flex items-center justify-center text-white font-black text-xs",children:e?e.substring(0,2).toUpperCase():"US"})}),n&&l.jsxs("div",{className:"overflow-hidden",children:[l.jsx("h4",{className:"text-xs font-bold text-white truncate",children:e||"User"}),l.jsx("p",{className:"text-[10px] text-text-muted uppercase font-black tracking-tighter",children:"Architect"})]})]})})]}),l.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-background-dark relative",children:[l.jsx("div",{className:"h-16 w-full absolute top-0 left-0 bg-gradient-to-b from-background-dark to-transparent pointer-events-none"}),l.jsx("div",{className:"flex-1 flex overflow-hidden relative z-0",children:l.jsx(Du,{context:{setRightPanelMode:f,availableTemplates:w,setAvailableTemplates:g,setAddAttributeHandler:h,setCreateTemplateHandler:v,projectName:a,projectId:c,setRightOpen:i}})})]}),l.jsxs("aside",{className:`
                    flex-none bg-surface-dark border-l border-glass-border transition-all duration-500 relative flex flex-col z-30
                    ${s?"w-80":"w-20"}
                `,children:[l.jsx("header",{className:"h-16 flex items-center px-6 border-b border-glass-border justify-between",children:s?l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-xs font-black uppercase tracking-widest text-white",children:d==="NOTES"?"Notas Globales":"Constructor"}),l.jsx("button",{onClick:()=>i(!1),className:"text-text-muted hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-lg",children:"dock_to_right"})})]}):l.jsx("button",{onClick:()=>i(!0),className:"w-full h-full flex items-center justify-center text-text-muted hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined",children:d==="NOTES"?"edit_note":"handyman"})})}),l.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar p-0",children:s?d==="NOTES"?l.jsx("div",{className:"h-full flex flex-col p-4",children:l.jsx("textarea",{className:"flex-1 bg-surface-light/50 border border-glass-border rounded-xl p-4 text-sm text-white/80 resize-none outline-none focus:border-primary/50 transition-colors",placeholder:"Escribe tus propias notas...",value:p,onChange:z})}):l.jsx("div",{className:"p-4 space-y-6",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-text-muted px-2 flex justify-between items-center",children:[l.jsx("span",{children:"Plantillas Disponibles"}),l.jsx("button",{className:"text-primary hover:text-white transition-colors",title:"Crear Nueva Plantilla",onClick:()=>{x&&x()},children:l.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"})})]}),w.length===0?l.jsx("div",{className:"p-6 text-center border border-dashed border-glass-border rounded-2xl opacity-30",children:l.jsx("p",{className:"text-[10px] uppercase font-bold",children:"Sin Plantillas"})}):w.map(E=>l.jsxs("button",{className:"w-full flex items-center gap-3 p-3 rounded-2xl bg-white/5 border border-glass-border hover:border-primary/50 hover:bg-primary/5 transition-all text-left group relative",draggable:!0,onDragStart:C=>{C.dataTransfer.setData("application/reactflow/type","attribute"),C.dataTransfer.setData("templateId",E.id),C.dataTransfer.effectAllowed="move"},onClick:()=>N&&N(E.id),children:[E.global&&l.jsx("span",{className:"absolute top-2 right-2 flex size-2 bg-blue-500 rounded-full shadow-lg shadow-blue-500/50",title:"Global"}),l.jsx("div",{className:"size-8 rounded-lg bg-surface-light flex items-center justify-center text-primary group-hover:scale-110 transition-transform",children:l.jsx("span",{className:"material-symbols-outlined text-sm",children:Mf(E.tipo)})}),l.jsxs("div",{className:"overflow-hidden",children:[l.jsx("p",{className:"text-xs font-bold text-white truncate",children:E.nombre}),l.jsx("p",{className:"text-[10px] text-text-muted uppercase font-black tracking-tighter",children:E.tipo})]})]},E.id))]})}):l.jsx("div",{className:"flex flex-col items-center gap-4 py-4",children:d==="NOTES"?l.jsx("button",{className:"size-10 rounded-xl bg-white/5 flex items-center justify-center text-text-muted",title:"Notes",children:l.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit_note"})}):w.slice(0,5).map(E=>l.jsxs("button",{className:"size-10 rounded-xl bg-white/5 flex items-center justify-center text-text-muted hover:text-white hover:bg-primary/20 transition-all relative",draggable:!0,onDragStart:C=>{C.dataTransfer.setData("application/reactflow/type","attribute"),C.dataTransfer.setData("templateId",E.id)},children:[E.global&&l.jsx("span",{className:"absolute top-0 right-0 size-2 bg-blue-500 rounded-full border border-surface-dark"}),l.jsx("span",{className:"material-symbols-outlined text-lg",children:Mf(E.tipo)})]},E.id))})})]})]})},Tw=()=>{const[e,t]=y.useState(null),[n,r]=y.useState([]),[s,i]=y.useState([]),[a,o]=y.useState(!0);y.useEffect(()=>{c()},[]);const c=async()=>{o(!0);try{const u=await X.get("/bd/nodo"),d=await X.get("/bd/relacion"),f=await Promise.all(u.map(async(p,m)=>{try{const w=await X.get(`/bd/${p.tipoEntidad}/${p.entidadId}`);return{id:p.id,name:w.nombre,type:p.tipoEntidad==="entidadindividual"?"character":p.tipoEntidad==="zona"?"location":"item",x:200+Math.cos(m)*200+Math.random()*50,y:300+Math.sin(m)*200+Math.random()*50,color:p.tipoEntidad==="entidadindividual"?"bg-primary":p.tipoEntidad==="zona"?"bg-emerald-500":"bg-amber-500"}}catch{return null}}));r(f.filter(Boolean)),i(d.map(p=>({from:p.origenId,to:p.destinoId,label:p.tipo||"Relates to"})))}catch(u){console.error("Error loading graph:",u)}finally{o(!1)}};return l.jsxs("div",{className:"flex-1 flex overflow-hidden bg-[#050508] relative group/canvas",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:"radial-gradient(circle, white 1px, transparent 1px)",backgroundSize:"50px 50px"}}),a&&l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center",children:l.jsx("div",{className:"text-primary animate-pulse font-black uppercase tracking-widest text-lg",children:"Calculating Resonance..."})}),l.jsxs("aside",{className:"absolute left-10 top-1/2 -translate-y-1/2 z-20 flex flex-col gap-6",children:[l.jsxs(ie,{className:"p-2 flex flex-col gap-2 rounded-2xl border-white/10 bg-surface-dark/40 backdrop-blur-2xl shadow-2xl",children:[l.jsx(Zl,{icon:"near_me",active:!0}),l.jsx(Zl,{icon:"add_circle"}),l.jsx(Zl,{icon:"share"}),l.jsx("div",{className:"w-8 h-px bg-white/10 mx-auto my-1"}),l.jsx(Zl,{icon:"settings_input_component"})]}),l.jsx("div",{className:"px-4 py-2 rounded-xl bg-black/40 border border-white/10 backdrop-blur-md text-[9px] font-black tracking-widest text-slate-500 text-center",children:"FORCES: ACTIVE"})]}),l.jsxs("main",{className:"flex-1 relative overflow-hidden cursor-grab active:cursor-grabbing",children:[l.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:s.map((u,d)=>{const f=n.find(m=>m.id===u.from),p=n.find(m=>m.id===u.to);return l.jsxs("g",{className:"opacity-20 group-hover/canvas:opacity-40 transition-opacity",children:[l.jsx("line",{x1:f.x,y1:f.y,x2:p.x,y2:p.y,stroke:"white",strokeWidth:"1",strokeDasharray:"4 4"}),l.jsx("text",{x:(f.x+p.x)/2,y:(f.y+p.y)/2,fill:"white",fontSize:"8",textAnchor:"middle",dy:"-8",className:"font-extrabold uppercase tracking-widest",children:u.label})]},d)})}),n.map(u=>l.jsx("div",{onClick:()=>t(u),className:`absolute -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-all hover:scale-110 z-10 ${(e==null?void 0:e.id)===u.id?"scale-125 z-20":""}`,style:{left:u.x,top:u.y},children:l.jsxs("div",{className:`p-4 rounded-3xl bg-surface-dark border transition-all flex items-center gap-4 shadow-xl ${(e==null?void 0:e.id)===u.id?"border-primary ring-4 ring-primary/20":"border-white/5 hover:border-white/20"}`,children:[l.jsx("div",{className:`size-10 rounded-2xl ${u.color} flex items-center justify-center text-white shadow-lg`,children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:u.type==="character"?"person":u.type==="location"?"location_on":"diamond"})}),l.jsxs("div",{className:"pr-4",children:[l.jsx("h4",{className:"text-[11px] font-black text-white whitespace-nowrap uppercase tracking-widest",children:u.name}),l.jsx("span",{className:"text-[8px] font-bold text-slate-500 uppercase tracking-[0.2em]",children:u.type})]})]})},u.id)),l.jsxs("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 flex items-center gap-8 px-8 py-3 rounded-2xl bg-black/40 border border-white/10 backdrop-blur-xl",children:[l.jsx(fo,{color:"bg-primary",label:"Characters"}),l.jsx(fo,{color:"bg-emerald-500",label:"Locations"}),l.jsx(fo,{color:"bg-amber-500",label:"Items"})]})]}),l.jsx("aside",{className:`w-80 border-l border-white/5 bg-surface-dark/40 backdrop-blur-xl transition-all duration-700 overflow-hidden flex flex-col ${e?"opacity-100":"opacity-0 translate-x-10"}`,children:e&&l.jsxs("div",{className:"p-8 space-y-10",children:[l.jsxs("header",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx(Bu,{name:e.name,size:"xl",className:`border-2 ${e.color.replace("bg-","border-")}/30`}),l.jsx("button",{onClick:()=>t(null),className:"p-2 rounded-xl hover:bg-white/5 text-slate-600 hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-3xl font-manrope font-black text-white tracking-tight",children:e.name}),l.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-primary mt-1",children:e.type})]})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{className:"space-y-4",children:[l.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-600",children:"Active Connections"}),l.jsx("div",{className:"space-y-3",children:s.filter(u=>u.from===e.id||u.to===e.id).map((u,d)=>l.jsxs("div",{className:"flex justify-between items-center p-3 rounded-2xl bg-white/5 border border-white/5",children:[l.jsx("span",{className:"text-[10px] font-bold text-slate-300",children:n.find(f=>f.id===(u.from===e.id?u.to:u.from)).name}),l.jsx("span",{className:"px-2 py-0.5 rounded bg-primary/20 text-primary text-[8px] font-black uppercase",children:u.label})]},d))})]}),l.jsx(Ne,{variant:"primary",icon:"auto_stories",className:"w-full py-4 rounded-2xl",children:"Open Bible Entry"})]})]})})]})},Zl=({icon:e,active:t})=>l.jsx("button",{className:`size-12 rounded-xl flex items-center justify-center transition-all ${t?"bg-primary text-white shadow-lg shadow-primary/30":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:e})}),fo=({color:e,label:t})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`size-2 rounded-full ${e}`}),l.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400",children:t})]}),Pw=({id:e})=>{const{id:t}=Dt(),n=_t(),[r,s]=y.useState("overview"),[i,a]=y.useState(null),[o,c]=y.useState(!0),[u,d]=y.useState(!1);y.useEffect(()=>{f()},[e]);const f=async()=>{c(!0);try{const g=await X.get(`/bd/entidadindividual/${e}`);a(g)}catch(g){console.error("Error loading character:",g)}finally{c(!1)}},p=async()=>{try{await X.patch("/bd/modificar",{...i,tipoEntidad:"entidadindividual"}),d(!1)}catch(g){console.error("Error saving:",g)}},m=async()=>{if(window.confirm("Move this character to the Trash Bin?"))try{await X.delete(`/bd/entidadindividual/${e}`),n(`/project/${t}`)}catch(g){console.error(g)}},w=(g,N)=>{a(h=>({...h,[g]:N}))};return o?l.jsx("div",{className:"p-20 text-center text-slate-500 animate-pulse",children:"Summoning entity..."}):i?l.jsxs("div",{className:"flex h-full",children:[l.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto custom-scrollbar p-8 gap-6",children:[l.jsxs("div",{className:"flex items-start gap-6",children:[l.jsx("div",{className:"relative",children:l.jsx(Bu,{url:i.imagenUrl||"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=1976&auto=format&fit=crop",size:"xl",className:"rounded-2xl border-2 border-primary shadow-[0_0_30px_rgba(99,102,242,0.3)]"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[l.jsx("span",{className:"text-xs font-bold text-primary bg-primary/10 px-2 py-0.5 rounded border border-primary/20",children:i.estado||"ACTIVE"}),l.jsx("span",{className:"text-xs font-bold text-slate-400 bg-surface-light px-2 py-0.5 rounded border border-white/5",children:i.tipo||"Unknown"})]}),l.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:[i.nombre," ",i.apellidos]}),l.jsx("p",{className:"text-lg text-slate-300",children:i.origen||"Traveling the void"})]}),l.jsxs("div",{className:"flex gap-2",children:[!u&&l.jsx(Ne,{className:"border-red-500/30 text-red-400 hover:bg-red-500/10",icon:"delete",onClick:m,children:"Delete"}),l.jsx(Ne,{variant:"secondary",icon:u?"close":"edit",onClick:()=>d(!u),children:u?"Cancel":"Edit Profile"}),u&&l.jsx(Ne,{variant:"primary",icon:"save",onClick:p,children:"Save Changes"})]})]}),l.jsx("div",{className:"border-b border-glass-border flex gap-6",children:["Overview","Biography","Attributes & Stats","Relationships"].map(g=>l.jsx("button",{onClick:()=>s(g.toLowerCase()),className:`pb-4 px-2 text-sm font-bold border-b-2 transition-colors ${r===g.toLowerCase()?"text-primary border-primary":"text-slate-500 border-transparent hover:text-white"}`,children:g},g))}),l.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[l.jsx("div",{className:"col-span-1 space-y-6",children:l.jsxs(ie,{className:"p-4",children:[l.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"fingerprint"})," Identity"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Name"}),l.jsx("input",{type:"text",value:i.nombre,onChange:g=>w("nombre",g.target.value),className:"w-full bg-surface-light border border-white/10 rounded px-3 py-2 text-white text-sm",readOnly:!u})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Surnames"}),l.jsx("input",{type:"text",value:i.apellidos||"",onChange:g=>w("apellidos",g.target.value),className:"w-full bg-surface-light border border-white/10 rounded px-3 py-2 text-white text-sm",readOnly:!u})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Type / Species"}),l.jsx("input",{type:"text",value:i.tipo||"",onChange:g=>w("tipo",g.target.value),className:"w-full bg-surface-light border border-white/10 rounded px-3 py-2 text-white text-sm",readOnly:!u})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Origin"}),l.jsx("input",{type:"text",value:i.origen||"",onChange:g=>w("origen",g.target.value),className:"w-full bg-surface-light border border-white/10 rounded px-3 py-2 text-white text-sm",readOnly:!u})]})]})]})}),l.jsx("div",{className:"col-span-2 space-y-6",children:l.jsxs(ie,{className:"p-6 relative overflow-hidden group",children:[l.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"history_edu"})," Description & Lore"]}),l.jsx("textarea",{value:i.descripcion||"",onChange:g=>w("descripcion",g.target.value),readOnly:!u,className:"w-full bg-transparent border-none outline-none text-slate-300 text-sm leading-relaxed mb-4 min-h-[150px] resize-none",placeholder:"Write the history of this person..."}),l.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"psychology"})," Behavior"]}),l.jsx("textarea",{value:i.comportamiento||"",onChange:g=>w("comportamiento",g.target.value),readOnly:!u,className:"w-full bg-transparent border-none outline-none text-slate-300 text-sm leading-relaxed min-h-[100px] resize-none",placeholder:"How does this person act?"})]})})]})]}),l.jsxs("div",{className:"w-80 border-l border-glass-border bg-surface-dark/50 hidden xl:flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-glass-border flex justify-between items-center",children:[l.jsx("span",{className:"text-xs font-bold text-slate-500",children:"QUICK NOTES"}),l.jsx("button",{className:"text-slate-400 hover:text-white",children:l.jsx("span",{className:"material-symbols-outlined text-sm",children:"open_in_new"})})]}),l.jsx("div",{className:"p-4 flex-1",children:l.jsx("textarea",{className:"w-full h-full bg-transparent border-none outline-none text-sm text-slate-300 placeholder-slate-600 resize-none",placeholder:"Draft a quick scene or jot down notes for Elara here..."})}),l.jsx("div",{className:"p-2 border-t border-glass-border text-right text-[10px] text-slate-600",children:"0 words"})]})]}):l.jsx("div",{className:"p-20 text-center text-red-500",children:"Character not found in the archives."})},$f=({id:e})=>{const[t,n]=y.useState(null),[r,s]=y.useState(!0),[i,a]=y.useState(!1);y.useEffect(()=>{o()},[e]);const o=async()=>{s(!0);try{const d=await X.get(`/bd/zona/${e}`);n(d)}catch(d){console.error("Error loading location:",d)}finally{s(!1)}},c=async()=>{try{await X.patch("/bd/modificar",{...t,tipoEntidad:"zona"}),a(!1)}catch(d){console.error("Error saving:",d)}},u=(d,f)=>{n(p=>({...p,[d]:f}))};return r?l.jsx("div",{className:"p-20 text-center text-slate-500 animate-pulse",children:"Scanning terrain..."}):t?l.jsxs("div",{className:"flex h-full overflow-y-auto custom-scrollbar p-8 flex-col gap-8",children:[l.jsxs("header",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-400/10 px-2 py-0.5 rounded border border-emerald-400/20",children:"LOCATION"}),l.jsx("span",{className:"text-xs font-bold text-slate-400 bg-surface-light px-2 py-0.5 rounded border border-white/5",children:t.tipo||"Wilderness"})]}),l.jsx("h1",{className:"text-5xl font-manrope font-black text-white tracking-tight",children:t.nombre}),l.jsx("p",{className:"text-slate-400 mt-2",children:t.apellidos||"Uncharted territory"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ne,{variant:"secondary",icon:i?"close":"edit",onClick:()=>a(!i),children:i?"Cancel":"Edit Location"}),i&&l.jsx(Ne,{variant:"primary",icon:"save",onClick:c,children:"Update Records"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[l.jsxs("div",{className:"col-span-1 space-y-6",children:[l.jsxs(ie,{className:"p-6",children:[l.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"straighten"})," Geography & Scale"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Size / Scale"}),l.jsx("input",{type:"text",value:t.tamanno||"",onChange:d=>u("tamanno",d.target.value),className:"w-full bg-surface-light border border-white/10 rounded px-3 py-2 text-white text-sm",readOnly:!i})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Development Level"}),l.jsx("input",{type:"text",value:t.desarrollo||"",onChange:d=>u("desarrollo",d.target.value),className:"w-full bg-surface-light border border-white/10 rounded px-3 py-2 text-white text-sm",readOnly:!i})]})]})]}),l.jsxs(ie,{className:"p-6",children:[l.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4",children:"Quick Stats"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white/5 p-3 rounded-xl border border-white/5",children:[l.jsx("span",{className:"text-[10px] text-slate-500 block",children:"Density"}),l.jsx("span",{className:"text-white font-bold",children:"Medium"})]}),l.jsxs("div",{className:"bg-white/5 p-3 rounded-xl border border-white/5",children:[l.jsx("span",{className:"text-[10px] text-slate-500 block",children:"Security"}),l.jsx("span",{className:"text-emerald-400 font-bold",children:"Stable"})]})]})]})]}),l.jsx("div",{className:"col-span-2 space-y-6",children:l.jsxs(ie,{className:"p-8",children:[l.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"description"})," Topographic Records & Lore"]}),l.jsx("textarea",{value:t.descripcion||"",onChange:d=>u("descripcion",d.target.value),readOnly:!i,className:"w-full bg-transparent border-none outline-none text-slate-300 text-lg leading-relaxed min-h-[400px] resize-none",placeholder:"Describe the vistas, the smells, and the secrets of this place..."})]})})]})]}):l.jsx("div",{className:"p-20 text-center text-red-500",children:"Location not found in the maps."})},Mw=({id:e})=>{const[t,n]=y.useState(null),[r,s]=y.useState(!0),[i,a]=y.useState(!1);y.useEffect(()=>{o()},[e]);const o=async()=>{s(!0);try{const d=await X.get(`/bd/entidadcolectiva/${e}`);n(d)}catch(d){console.error("Error loading collective:",d)}finally{s(!1)}},c=async()=>{try{await X.patch("/bd/modificar",{...t,tipoEntidad:"entidadcolectiva"}),a(!1)}catch(d){console.error("Error saving:",d)}},u=(d,f)=>{n(p=>({...p,[d]:f}))};return r?l.jsx("div",{className:"p-20 text-center text-slate-500 animate-pulse",children:"Gathering intelligence..."}):t?l.jsxs("div",{className:"flex h-full overflow-y-auto custom-scrollbar p-8 flex-col gap-8",children:[l.jsxs("header",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("span",{className:"text-xs font-bold text-indigo-400 bg-indigo-400/10 px-2 py-0.5 rounded border border-indigo-400/20",children:"COLLECTIVE"}),l.jsx("span",{className:"text-xs font-bold text-slate-400 bg-surface-light px-2 py-0.5 rounded border border-white/5",children:t.tipo||"Organization"})]}),l.jsx("h1",{className:"text-5xl font-manrope font-black text-white tracking-tight",children:t.nombre}),l.jsxs("p",{className:"text-slate-400 mt-2",children:[t.cantidadMiembros||"Unknown"," members"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ne,{variant:"secondary",icon:i?"close":"edit",onClick:()=>a(!i),children:i?"Cancel":"Edit Collective"}),i&&l.jsx(Ne,{variant:"primary",icon:"save",onClick:c,children:"Update Dossier"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[l.jsx("div",{className:"col-span-1 space-y-6",children:l.jsxs(ie,{className:"p-6",children:[l.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"group_work"})," Group Dynamics"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Scale / Members"}),l.jsx("input",{type:"text",value:t.cantidadMiembros||"",onChange:d=>u("cantidadMiembros",d.target.value),className:"w-full bg-surface-light border border-white/10 rounded px-3 py-2 text-white text-sm",readOnly:!i})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Behavior / Alignment"}),l.jsx("input",{type:"text",value:t.comportamiento||"",onChange:d=>u("comportamiento",d.target.value),className:"w-full bg-surface-light border border-white/10 rounded px-3 py-2 text-white text-sm",readOnly:!i})]})]})]})}),l.jsx("div",{className:"col-span-2 space-y-6",children:l.jsxs(ie,{className:"p-8",children:[l.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"history_edu"})," Mandate & History"]}),l.jsx("textarea",{value:t.descripcion||"",onChange:d=>u("descripcion",d.target.value),readOnly:!i,className:"w-full bg-transparent border-none outline-none text-slate-300 text-lg leading-relaxed min-h-[400px] resize-none",placeholder:"Detail the motives, the structure, and the legacy of this group..."})]})})]})]}):l.jsx("div",{className:"p-20 text-center text-red-500",children:"Collective not found in the records."})},$w=()=>l.jsx("div",{className:"flex-1 flex overflow-hidden bg-background-dark font-sans text-slate-300",children:l.jsxs("main",{className:"flex-1 flex flex-col p-12 overflow-y-auto custom-scrollbar relative",children:[l.jsxs("header",{className:"mb-12 space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-500 font-bold text-[10px] tracking-widest uppercase",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"grid_view"}),l.jsx("span",{children:"Universo Alpha"}),l.jsx("span",{className:"material-symbols-outlined text-sm",children:"chevron_right"}),l.jsx("span",{children:"Galaxia Andrmeda"}),l.jsx("span",{className:"material-symbols-outlined text-sm",children:"chevron_right"}),l.jsx("span",{className:"text-white",children:"Sistema Solar"})]}),l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"space-y-4 max-w-3xl",children:[l.jsxs("div",{className:"flex items-center gap-3 px-3 py-1 rounded bg-orange-500/10 text-orange-400 border border-orange-500/20 inline-block",children:[l.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"sunny"}),l.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Sistema Planetario"}),l.jsx("span",{className:"text-[9px] font-bold text-slate-600 tracking-widest ml-2",children:"ID: SYS-SOL-001"})]}),l.jsx("h1",{className:"text-6xl font-manrope font-black text-white tracking-tight",children:"Sistema Solar"}),l.jsx("p",{className:"text-slate-400 text-lg leading-relaxed",children:"Sistema planetario principal ubicado en el Brazo de Orin, hogar de la nica vida biolgica compleja confirmada en el sector galctico Alpha-9."})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{className:"p-3 rounded-2xl bg-white/5 hover:bg-red-500/10 text-slate-500 hover:text-red-400 border border-white/5 transition-all outline-none",children:l.jsx("span",{className:"material-symbols-outlined",children:"delete"})}),l.jsx(Ne,{variant:"primary",icon:"save",children:"Guardar"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[l.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[l.jsxs("section",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-primary text-lg",children:"sell"}),l.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Etiquetas"}),l.jsx("span",{className:"ml-auto text-[9px] font-bold text-slate-600 px-1.5 py-0.5 rounded bg-white/5",children:"3 ACTIVAS"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(po,{label:"Estrella Tipo G",color:"amber",icon:"star"}),l.jsx(po,{label:"Vida Confirmada",color:"emerald",icon:"tempest"}),l.jsx(po,{label:"Rico en Agua",color:"cyan",icon:"water_drop"}),l.jsx("button",{className:"size-8 rounded-full border border-dashed border-white/10 flex items-center justify-center text-slate-600 hover:text-white hover:border-white/30 transition-all",children:"+"})]})]}),l.jsxs("section",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-primary text-lg",children:"analytics"}),l.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Atributos Principales"}),l.jsx("button",{className:"ml-auto text-slate-600 hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-lg",children:"settings"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(ql,{label:"Forma / Estructura",value:"Heliosfrica Estndar",icon:"hive"}),l.jsx(ql,{label:"Composicin",value:"Hidrgeno (74%), Helio (24%)",icon:"experiment"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(ql,{label:"Edad (Aos)",value:"4.6 MM",unit:"Aos"}),l.jsx(ql,{label:"Ciclo Orbital",value:"230 MM",unit:"Aos"})]})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-primary text-lg",children:"menu_book"}),l.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Notas de Lore"})]}),l.jsx("textarea",{className:"w-full h-48 bg-white/5 border border-white/5 rounded-[2rem] p-6 text-sm text-slate-400 placeholder:text-slate-700 focus:border-primary/50 outline-none transition-all resize-none leading-relaxed italic shadow-inner",defaultValue:"El sistema contiene un cinturn de asteroides inusualmente denso entre el 4 y 5 planeta. Se teoriza que es el remanente de una colisin planetaria antigua conocida como 'El Gran Impacto' en las escrituras sagradas de los habitantes de Terra."})]})]}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(ie,{className:"h-full border-white/5 bg-surface-dark/40 overflow-hidden flex flex-col shadow-2xl",children:[l.jsxs("header",{className:"p-8 border-b border-white/5 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"size-10 rounded-xl bg-primary/20 text-primary flex items-center justify-center",children:l.jsx("span",{className:"material-symbols-outlined",children:"hub"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-white text-lg tracking-tight",children:"Contenido Interno (Planetas)"}),l.jsx("p",{className:"text-[10px] font-medium text-slate-500 mt-0.5",children:"Arrastra para reordenar la jerarqua orbital"})]})]}),l.jsxs("div",{className:"px-3 py-1 rounded-full bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[l.jsx("div",{className:"size-1.5 rounded-full bg-emerald-500 animate-pulse"}),"8 Entidades"]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-3",children:[l.jsx(js,{name:"Mercurio",type:"Rocoso",stats:"430C | 88 Das",icon:"public"}),l.jsx(js,{name:"Venus",type:"Atmsfera",stats:"462C | 225 Das",icon:"public"}),l.jsx(js,{name:"Tierra",type:"Habitable",stats:"8B Hab | 1 Luna",icon:"public",active:!0}),l.jsx(js,{name:"Marte",type:"Desierto",stats:"-60C | 2 Lunas",icon:"public"}),l.jsx(js,{name:"Cinturn Asteroides",type:"Anillo",stats:">1M Obj",icon:"grain"})]}),l.jsx("div",{className:"p-8 bg-black/20 border-t border-white/5",children:l.jsxs("button",{className:"w-full py-4 rounded-[1.5rem] border-2 border-dashed border-white/10 text-slate-500 hover:text-white hover:border-primary/50 hover:bg-primary/5 transition-all flex items-center justify-center gap-3 font-black uppercase text-[10px] tracking-[0.2em]",children:[l.jsx("span",{className:"material-symbols-outlined",children:"add"}),"Aadir Nueva Entidad"]})})]})})]})]})}),po=({label:e,color:t,icon:n})=>l.jsxs("div",{className:`px-4 py-1.5 rounded-xl bg-${t}-500/10 text-${t}-400 border border-${t}-500/20 flex items-center gap-2 text-[10px] font-black uppercase tracking-widest shadow-lg`,children:[l.jsx("span",{className:"material-symbols-outlined text-[14px]",children:n}),e]}),ql=({label:e,value:t,unit:n,icon:r})=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest text-slate-600 ml-1",children:e}),l.jsxs("div",{className:"w-full bg-white/5 border border-white/5 rounded-2xl px-5 py-3.5 flex items-center justify-between group hover:border-white/10 transition-all",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[r&&l.jsx("span",{className:"material-symbols-outlined text-slate-500 text-lg group-hover:text-primary transition-colors",children:r}),l.jsx("span",{className:"text-sm font-bold text-slate-300",children:t})]}),n&&l.jsx("span",{className:"text-[10px] font-black text-slate-600 uppercase tracking-widest",children:n})]})]}),js=({name:e,type:t,stats:n,icon:r,active:s})=>l.jsxs("div",{className:`group flex items-center gap-6 p-4 rounded-2xl transition-all cursor-pointer ${s?"bg-primary/10 border border-primary/20 shadow-xl":"hover:bg-white/5 border border-transparent"}`,children:[l.jsx("span",{className:"material-symbols-outlined text-slate-700 group-hover:text-slate-500",children:"drag_indicator"}),l.jsx("div",{className:`size-12 rounded-xl flex items-center justify-center ${s?"bg-primary text-white shadow-lg shadow-primary/30":"bg-surface-dark border border-white/5 text-slate-500"}`,children:l.jsx("span",{className:"material-symbols-outlined text-3xl",children:r})}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h4",{className:"text-sm font-bold text-white group-hover:text-primary transition-colors",children:e}),l.jsx("span",{className:`text-[8px] font-black px-1.5 py-0.5 rounded uppercase tracking-widest ${s?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-white/5 text-slate-600"}`,children:t})]})}),l.jsx("div",{className:"flex flex-col items-end gap-1",children:l.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[l.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"analytics"}),l.jsx("span",{className:"text-[10px] font-mono tracking-tight group-hover:text-slate-300",children:n})]})}),l.jsxs("div",{className:"flex gap-2 ml-4",children:[l.jsx("button",{className:"p-2 rounded-lg text-slate-700 hover:text-white hover:bg-white/5 transition-all",children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit_note"})}),s?l.jsx("button",{className:"size-8 rounded-full bg-primary text-white flex items-center justify-center shadow-lg",children:l.jsx("span",{className:"material-symbols-outlined text-lg",children:"arrow_forward"})}):l.jsx("button",{className:"p-2 rounded-lg text-slate-700 hover:text-white hover:bg-white/5 transition-all",children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:"open_in_new"})})]})]}),Rw=()=>l.jsx("div",{className:"flex-1 flex overflow-hidden bg-background-dark font-sans text-slate-300",children:l.jsxs("main",{className:"flex-1 flex flex-col p-12 overflow-y-auto custom-scrollbar relative",children:[l.jsxs("header",{className:"mb-12 space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-500 font-bold text-[10px] tracking-widest uppercase",children:[l.jsx("span",{children:"Sistema Solar"}),l.jsx("span",{className:"material-symbols-outlined text-sm",children:"chevron_right"}),l.jsx("span",{children:"Kepler-186f"}),l.jsx("span",{className:"material-symbols-outlined text-sm",children:"chevron_right"}),l.jsx("span",{className:"text-white",children:"Territorios"})]}),l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[l.jsx("h1",{className:"text-6xl font-manrope font-black text-white tracking-tight",children:"Kepler-186f"}),l.jsx("span",{className:"material-symbols-outlined text-4xl text-primary",children:"public"})]}),l.jsx("p",{className:"text-slate-400 text-lg max-w-2xl leading-relaxed",children:"Gestin geopoltica y geogrfica de la superficie planetaria. Administra biomas, asentamientos y recursos estratgicos."})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(Ne,{variant:"secondary",icon:"map",children:"Ver Atlas"}),l.jsx(Ne,{variant:"primary",icon:"add",children:"Nuevo Territorio"})]})]})]}),l.jsxs("section",{className:"space-y-8",children:[l.jsxs(ie,{className:"p-2 flex items-center justify-between border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[l.jsxs("div",{className:"relative flex-1 max-w-sm",children:[l.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 text-sm",children:"search"}),l.jsx("input",{type:"text",placeholder:"Buscar por nombre...",className:"w-full bg-transparent border-none rounded-xl py-2 pl-9 pr-4 text-xs focus:ring-1 focus:ring-primary/30 outline-none transition-all"})]}),l.jsx("div",{className:"w-px h-6 bg-white/5 mx-2"}),l.jsx(ho,{label:"Bioma: Todos"}),l.jsx(ho,{label:"Poblacin"}),l.jsx(ho,{label:"Estado"})]}),l.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white/5 rounded-lg",children:[l.jsx("button",{className:"p-1.5 rounded-md text-slate-500 hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-lg",children:"format_list_bulleted"})}),l.jsx("button",{className:"p-1.5 rounded-md bg-white/10 text-white shadow-sm",children:l.jsx("span",{className:"material-symbols-outlined text-lg",children:"grid_view"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[l.jsx(mo,{title:"Nueva Neo-Tokyo",desc:"Metrpolis vertical construida sobre las...",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAYF5Q6W3o1w1f1",badges:["Capital"],stats:["15M","Templado","Costero"],color:"cyan"}),l.jsx(mo,{title:"Mar de Dunas",desc:"Extensin rida rica en especia slica...",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBYG6R7X4p2x2g2",stats:["Hostil","rido"],color:"amber"}),l.jsx(mo,{title:"Sanctum Bio-Domo",desc:"Instalacin de investigacin...",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCZ H7S8Y5q3z3h3",badges:["Ciencia"],stats:["5K","Jungla"],color:"purple"}),l.jsxs("div",{className:"group border-2 border-dashed border-white/5 rounded-[2.5rem] flex flex-col items-center justify-center p-12 gap-4 hover:border-primary/30 hover:bg-primary/5 transition-all cursor-pointer",children:[l.jsx("div",{className:"size-16 rounded-3xl bg-white/5 flex items-center justify-center group-hover:scale-110 transition-transform",children:l.jsx("span",{className:"material-symbols-outlined text-3xl text-slate-600 group-hover:text-primary",children:"add_location_alt"})}),l.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-600 group-hover:text-white",children:"Aadir Territorio"})]})]})]})]})}),ho=({label:e})=>l.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-xl hover:bg-white/5 transition-all group",children:[l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 group-hover:text-white",children:e}),l.jsx("span",{className:"material-symbols-outlined text-slate-600 text-[14px]",children:"expand_more"})]}),mo=({title:e,desc:t,image:n,badges:r=[],stats:s=[],color:i})=>l.jsxs("div",{className:"group relative rounded-[2.5rem] overflow-hidden border border-white/5 bg-surface-dark/50 hover:border-white/10 transition-all shadow-2xl",children:[l.jsxs("div",{className:"h-48 overflow-hidden relative",children:[l.jsx("img",{src:n,alt:e,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 opacity-60 group-hover:opacity-100"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface-dark via-transparent to-transparent"}),l.jsx("div",{className:"absolute top-4 right-4 flex gap-2",children:r.map(a=>l.jsxs("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest bg-${i==="cyan"?"primary":i==="amber"?"amber-500":"purple-500"}/20 text-${i==="cyan"?"primary":i==="amber"?"amber-400":"purple-400"} border border-white/10 backdrop-blur-md flex items-center gap-1.5`,children:[l.jsx("span",{className:"material-symbols-outlined text-[12px]",children:a==="Capital"?"star":"science"}),a]},a))})]}),l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsxs("header",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-manrope font-black text-white mb-2 group-hover:text-primary transition-colors",children:e}),l.jsx("p",{className:"text-xs text-slate-500 leading-relaxed line-clamp-2",children:t})]}),l.jsx("button",{className:"p-2 text-slate-700 hover:text-white",children:l.jsx("span",{className:"material-symbols-outlined",children:"more_vert"})})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(a=>l.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-white/5 border border-white/5 text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[l.jsx("div",{className:`size-1.5 rounded-full bg-${i==="cyan"?"primary":i==="amber"?"amber-500":"purple-500"}/50`}),a]},a))}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsxs("button",{className:"flex-1 py-2.5 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 text-[10px] font-black uppercase tracking-widest text-slate-300 flex items-center justify-center gap-2 transition-all",children:[l.jsx("span",{className:"material-symbols-outlined text-sm opacity-50",children:"edit"})," Editar"]}),l.jsxs("button",{className:"flex-1 py-2.5 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 text-[10px] font-black uppercase tracking-widest text-slate-300 flex items-center justify-center gap-2 transition-all",children:[l.jsx("span",{className:"material-symbols-outlined text-sm opacity-50",children:"map"})," Ubicacin"]})]})]})]}),Iw=()=>{const{type:e,entityId:t}=Dt(),n=()=>{const r=e==null?void 0:e.toLowerCase();switch(r){case"character":case"entidadindividual":return l.jsx(Pw,{id:t});case"location":case"zona":return l.jsx($f,{id:t});case"culture":case"entidadcolectiva":return l.jsx(Mw,{id:t});case"universe":case"galaxy":case"system":return l.jsx($w,{id:t,type:r});case"planet":return l.jsx(Rw,{id:t});case"construccion":return l.jsx($f,{id:t});case"efectos":return l.jsxs("div",{className:"p-8 text-white",children:["Effect/Spell View for ID: ",id]});case"interaccion":return l.jsxs("div",{className:"p-8 text-white",children:["Interaction/Event View for ID: ",id]});case"magic":return l.jsxs("div",{className:"p-8 text-white",children:["Magic System View for ID: ",id]});default:return l.jsxs("div",{className:"p-8 text-white",children:["Unknown Entity Type: ",e]})}};return l.jsx("div",{className:"flex-1 bg-background-dark overflow-hidden",children:n()})},Aw=()=>{const[e,t]=y.useState(1),[n,r]=y.useState([]),[s,i]=y.useState(!0);y.useEffect(()=>{a()},[]);const a=async()=>{i(!0);try{const c=await X.get("/timeline/eventos");r(c.map(u=>{var d;return{id:u.id,trackId:((d=u.tipo)==null?void 0:d.length)%3+1||1,year:parseInt(u.fechaInGame)||u.ordenCronologico*10,title:u.titulo,desc:u.descripcion}}))}catch(c){console.error("Error loading events:",c)}finally{i(!1)}},o=[{id:1,name:"General History",color:"bg-primary"},{id:2,name:"Personal Events",color:"bg-amber-500"},{id:3,name:"Cosmic Shifts",color:"bg-emerald-500"}];return l.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#050508] text-slate-300 font-sans overflow-hidden",children:[l.jsxs("header",{className:"h-20 flex-none border-b border-white/5 flex items-center justify-between px-12 bg-surface-dark/40 backdrop-blur-xl z-20",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-manrope font-black text-white tracking-tight",children:"Master Timeline"}),l.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Project: Nebula  Chronos Axis"})]}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"flex items-center gap-4 px-4 py-2 rounded-xl bg-white/5 border border-white/5",children:[l.jsx("button",{onClick:()=>t(Math.max(.5,e-.1)),className:"material-symbols-outlined text-slate-500 hover:text-white transition-colors",children:"zoom_out"}),l.jsxs("span",{className:"text-[10px] font-black w-10 text-center",children:[Math.round(e*100),"%"]}),l.jsx("button",{onClick:()=>t(Math.min(2,e+.1)),className:"material-symbols-outlined text-slate-500 hover:text-white transition-colors",children:"zoom_in"})]}),l.jsx(Ne,{variant:"primary",icon:"history_edu",children:"Add Event"})]})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[s&&l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center",children:l.jsx("div",{className:"text-primary animate-pulse font-black uppercase tracking-widest",children:"Chronos syncing..."})}),l.jsxs("aside",{className:"w-64 border-r border-white/5 bg-black/40 backdrop-blur-xl z-10 flex flex-col py-20 gap-8",children:[o.map(c=>l.jsxs("div",{className:"h-32 flex items-center px-8 border-y border-transparent hover:bg-white/5 transition-all group cursor-pointer",children:[l.jsx("div",{className:`size-1.5 rounded-full ${c.color} mr-4`}),l.jsx("span",{className:"text-xs font-bold text-slate-400 group-hover:text-white",children:c.name})]},c.id)),l.jsxs("button",{className:"mx-8 mt-4 py-4 rounded-2xl border-2 border-dashed border-white/5 text-slate-600 hover:text-white hover:border-primary/30 transition-all flex items-center justify-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"}),l.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"New Track"})]})]}),l.jsxs("div",{className:"flex-1 overflow-x-auto overflow-y-hidden custom-scrollbar bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat relative",children:[l.jsx("div",{className:"h-20 flex items-end pb-4 border-b border-white/5 min-w-[3000px] sticky top-0 bg-black/40 backdrop-blur-md z-10",children:Array.from({length:20}).map((c,u)=>l.jsxs("div",{className:"w-40 flex-none flex flex-col items-center",children:[l.jsxs("span",{className:"text-[9px] font-black text-slate-600 mb-2",children:[u*50," AE"]}),l.jsx("div",{className:"w-px h-2 bg-white/20"})]},u))}),l.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none min-w-[3000px]",style:{backgroundImage:"linear-gradient(90deg, white 1px, transparent 1px)",backgroundSize:"40px 100%"}}),l.jsx("div",{className:"py-20 flex flex-col gap-8 min-w-[3000px] relative",children:o.map(c=>l.jsx("div",{className:"h-32 relative border-b border-white/5 last:border-none",children:n.filter(u=>u.trackId===c.id).map(u=>l.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 group cursor-pointer",style:{left:`${u.year*3}px`},children:[l.jsx("div",{className:`size-4 rounded-full ${c.color} border-4 border-background-dark shadow-lg group-hover:scale-125 transition-all`}),l.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 w-64 opacity-0 group-hover:opacity-100 transition-all transform translate-y-4 group-hover:translate-y-0 pointer-events-none z-20",children:[l.jsxs(ie,{className:"p-4 rounded-2xl border-white/10 shadow-2xl bg-surface-dark/90 backdrop-blur-xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("span",{className:"text-[8px] font-black text-primary uppercase tracking-widest",children:[u.year," AE"]}),l.jsx("span",{className:"material-symbols-outlined text-xs text-slate-600",children:"open_in_new"})]}),l.jsx("h4",{className:"text-sm font-bold text-white mb-1",children:u.title}),l.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed line-clamp-2",children:u.desc})]}),l.jsx("div",{className:"size-3 bg-surface-dark/90 rotate-45 border-r border-b border-white/10 mx-auto -mt-1.5"})]})]},u.id))},c.id))}),l.jsx("div",{className:"absolute left-[400px] top-0 bottom-0 w-[2px] bg-primary/40 shadow-[0_0_10px_rgba(99,102,242,0.5)] z-20 pointer-events-none",children:l.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 px-2 py-1 rounded bg-primary text-white text-[8px] font-black",children:"133 AE"})})]}),l.jsxs("aside",{className:"w-80 border-l border-white/5 bg-surface-dark/40 backdrop-blur-xl flex flex-col p-8 gap-10",children:[l.jsxs("header",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Event Inspector"}),l.jsx("button",{className:"text-slate-600 hover:text-white",children:l.jsx("span",{className:"material-symbols-outlined text-sm",children:"filter_list"})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"p-6 rounded-3xl bg-primary/10 border border-primary/20 space-y-4",children:[l.jsx("h4",{className:"text-lg font-bold text-white",children:"The Great Sealing"}),l.jsx("p",{className:"text-xs text-slate-400 leading-relaxed",children:"The event that redefined magic use across the three continents. Led by the Magus Council."}),l.jsx(Ne,{variant:"secondary",size:"sm",className:"w-full text-[10px] py-3 uppercase tracking-widest",children:"Edit in Bible"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h5",{className:"text-[10px] font-black uppercase tracking-widest text-slate-600",children:"Related Entities"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("span",{className:"px-3 py-1.5 rounded-xl bg-white/5 border border-white/5 text-[10px] font-bold text-slate-300",children:"Council of mages"}),l.jsx("span",{className:"px-3 py-1.5 rounded-xl bg-white/5 border border-white/5 text-[10px] font-bold text-slate-300",children:"Aethelgard"})]})]})]})]})]})]})},Lw=({onCancel:e,onCreate:t})=>{const[n,r]=y.useState(1),[s,i]=y.useState("regional"),[a,o]=y.useState("upload");return l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-background-dark/80 backdrop-blur-xl animate-in fade-in duration-300",children:l.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto no-scrollbar relative animate-in zoom-in-95 duration-500",children:l.jsxs(ie,{className:"p-0 border-white/10 shadow-[0_0_100px_rgba(0,0,0,0.5)] overflow-hidden",children:[l.jsxs("header",{className:"p-8 border-b border-white/5 flex justify-between items-center bg-white/[0.02]",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"size-12 rounded-2xl bg-primary/20 text-primary flex items-center justify-center",children:l.jsx("span",{className:"material-symbols-outlined text-2xl",children:"add_location_alt"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-manrope font-black text-white tracking-tight",children:"Crear Nuevo Mapa / Zona"}),l.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Configura los detalles para tu nueva entrada cartogrfica."})]})]}),l.jsx("button",{onClick:e,className:"text-slate-500 hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),l.jsxs("div",{className:"p-12 space-y-12",children:[l.jsxs("section",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`size-8 rounded-full flex items-center justify-center text-[10px] font-black ${n===1?"bg-primary text-white shadow-lg shadow-primary/30":"bg-white/10 text-slate-500"}`,children:"1"}),l.jsx("h2",{className:"text-sm font-black uppercase tracking-[0.2em] text-white",children:"Identidad y Jerarqua"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pl-12",children:[l.jsx(Dw,{label:"Nombre del Mapa",placeholder:"ej. La Costa de Zafiro"}),l.jsxs("div",{className:"space-y-1.5 row-span-2",children:[l.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-600 ml-1",children:"Descripcin"}),l.jsx("textarea",{placeholder:"Breve descripcin de la geografa, clima o importancia...",className:"w-full h-[120px] bg-white/5 border border-white/5 rounded-2xl p-4 text-sm text-white focus:border-primary/50 outline-none transition-all resize-none"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-600 ml-1",children:"Zona Padre (Opcional)"}),l.jsxs("select",{className:"w-full bg-white/5 border border-white/5 rounded-2xl px-4 py-3 text-sm text-white focus:border-primary/50 outline-none appearance-none",children:[l.jsx("option",{children:"Ninguna (Nivel Superior)"}),l.jsx("option",{children:"Reino de Aethelgard"}),l.jsx("option",{children:"Continente de Aurum"})]}),l.jsx("p",{className:"text-[9px] text-slate-500 italic mt-1 ml-1 text-primary/70",children:"Seleccionar un padre convierte esto en sub-zona."})]})]})]}),l.jsx("div",{className:"h-px w-full bg-white/5"}),l.jsxs("section",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`size-8 rounded-full flex items-center justify-center text-[10px] font-black ${n===2?"bg-primary text-white shadow-lg shadow-primary/30":"bg-white/10 text-slate-500"}`,children:"2"}),l.jsx("h2",{className:"text-sm font-black uppercase tracking-[0.2em] text-white",children:"Tipo de Mapa"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pl-12",children:[l.jsx(xo,{active:s==="world",onClick:()=>i("world"),icon:"public",label:"Mapa Mundial",desc:"Continentes, ocanos, escala global."}),l.jsx(xo,{active:s==="regional",onClick:()=>i("regional"),icon:"map",label:"Mapa Regional",desc:"Reinos, provincias, biomas."}),l.jsx(xo,{active:s==="local",onClick:()=>i("local"),icon:"location_city",label:"Ciudad / Local",desc:"Ciudades, mazmorras, mapas de batalla."})]})]}),l.jsx("div",{className:"h-px w-full bg-white/5"}),l.jsxs("section",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`size-8 rounded-full flex items-center justify-center text-[10px] font-black ${n===3?"bg-primary text-white shadow-lg shadow-primary/30":"bg-white/10 text-slate-500"}`,children:"3"}),l.jsx("h2",{className:"text-sm font-black uppercase tracking-[0.2em] text-white",children:"Fuente del Lienzo"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pl-12",children:[l.jsx(Rf,{active:a==="upload",onClick:()=>o("upload"),icon:"cloud_upload",label:"Cargar Archivo de Imagen",desc:"Arrastra y suelta o haz clic para buscar",subdesc:"JPG, PNG, WEBP  MAX 25MB"}),l.jsx(Rf,{active:a==="blank",onClick:()=>o("blank"),icon:"brush",label:"Lienzo en Blanco",desc:"Crear un nuevo dibujo desde cero",subdesc:"4096 px x 4096 px"})]})]})]}),l.jsxs("footer",{className:"p-8 bg-white/[0.02] border-t border-white/5 flex justify-between items-center",children:[l.jsx("button",{onClick:e,className:"text-sm font-bold text-slate-500 hover:text-white transition-colors",children:"Cancelar"}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-slate-600",children:"Cambios guardados localmente"}),l.jsx(Ne,{variant:"primary",className:"px-10 py-3 shadow-xl",onClick:()=>t(a),children:"Crear Mapa"})]})]})]})})})},Dw=({label:e,placeholder:t})=>l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-600 ml-1",children:e}),l.jsx("input",{type:"text",placeholder:t,className:"w-full bg-white/5 border border-white/5 rounded-2xl px-4 py-3 text-sm text-white focus:border-primary/50 transition-all outline-none"})]}),xo=({active:e,onClick:t,icon:n,label:r,desc:s})=>l.jsxs("div",{onClick:t,className:`p-6 rounded-3xl border transition-all cursor-pointer group ${e?"bg-primary/10 border-primary shadow-lg shadow-primary/10":"bg-white/5 border-white/5 hover:border-white/10"}`,children:[l.jsx("div",{className:`size-10 rounded-xl mb-4 flex items-center justify-center transition-all ${e?"bg-primary text-white":"bg-white/5 text-slate-500 group-hover:text-slate-300"}`,children:l.jsx("span",{className:"material-symbols-outlined",children:n})}),l.jsx("h3",{className:`text-sm font-bold mb-1 transition-colors ${e?"text-white":"text-slate-400 group-hover:text-slate-200"}`,children:r}),l.jsx("p",{className:"text-[10px] text-slate-500 leading-relaxed font-medium",children:s})]}),Rf=({active:e,onClick:t,icon:n,label:r,desc:s,subdesc:i})=>l.jsxs("div",{onClick:t,className:`p-10 rounded-[2.5rem] border transition-all cursor-pointer group flex flex-col items-center text-center gap-4 ${e?"bg-primary/5 border-primary shadow-lg":"bg-white/[0.02] border-white/5 hover:border-white/10 hover:bg-white/[0.04]"}`,children:[l.jsx("div",{className:`size-16 rounded-[2rem] flex items-center justify-center transition-all ${e?"bg-primary text-white shadow-xl shadow-primary/20":"bg-white/5 text-slate-600 group-hover:text-slate-400"}`,children:l.jsx("span",{className:"material-symbols-outlined text-3xl",children:n})}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:`font-bold transition-colors ${e?"text-white":"text-slate-400"}`,children:r}),l.jsx("p",{className:"text-xs text-slate-500 font-medium",children:s})]}),l.jsx("div",{className:"flex gap-2 mt-2",children:i.split("").map((a,o)=>l.jsx("span",{className:"px-2 py-1 rounded bg-black/20 text-[8px] font-black text-slate-600 tracking-tighter uppercase whitespace-nowrap",children:a.trim()},o))})]}),Fw=({mapTitle:e="Reino de Aethelgard",onSave:t,onBack:n})=>{const[r,s]=y.useState(100),[i,a]=y.useState(24),[o,c]=y.useState("brush"),[u,d]=y.useState(1),f=[{id:"select",icon:"near_me"},{id:"brush",icon:"brush"},{id:"eraser",icon:"ink_eraser"},{id:"fill",icon:"format_color_fill"},{id:"measure",icon:"straighten"},{id:"text",icon:"title"}],p=[{id:1,name:"Terreno Base",visible:!0,locked:!1,type:"raster"},{id:2,name:"Ros y Lagos",visible:!0,locked:!1,type:"vector"},{id:3,name:"Ciudades",visible:!0,locked:!1,type:"icon"},{id:4,name:"Fondo de Papel",visible:!0,locked:!0,type:"texture"}];return l.jsxs("div",{className:"flex-1 flex flex-col bg-[#050508] text-slate-300 font-sans h-full overflow-hidden relative",children:[l.jsxs("header",{className:"h-20 flex-none border-b border-white/5 flex items-center justify-between px-8 bg-surface-dark/80 backdrop-blur-md z-30",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("button",{onClick:n,className:"p-2 rounded-xl bg-white/5 hover:bg-white/10 transition-colors",children:l.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),l.jsx("div",{className:"w-px h-8 bg-white/10"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:e}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"size-1.5 rounded-full bg-primary"}),l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Guardado localmente"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{className:"flex items-center gap-2 px-5 py-2.5 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 transition-all text-sm font-bold",children:[l.jsx("span",{className:"material-symbols-outlined text-xl",children:"cloud_upload"}),"Guardar"]}),l.jsx(Ne,{variant:"primary",icon:"ios_share",className:"px-6 py-2.5 shadow-lg shadow-primary/20",children:"Exportar"}),l.jsx("div",{className:"size-10 rounded-full bg-gradient-to-br from-primary to-cyan-400 border-2 border-white/10 shadow-lg"})]})]}),l.jsxs("div",{className:"flex-1 flex relative overflow-hidden",children:[l.jsx("aside",{className:"absolute left-8 top-1/2 -translate-y-1/2 z-40",children:l.jsxs(ie,{className:"p-2 flex flex-col gap-2 rounded-2xl border-white/10 bg-surface-dark/40 backdrop-blur-2xl shadow-2xl",children:[f.map(m=>l.jsx("button",{onClick:()=>c(m.id),className:`size-12 rounded-xl flex items-center justify-center transition-all ${o===m.id?"bg-primary text-white shadow-lg shadow-primary/30":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:m.icon})},m.id)),l.jsx("div",{className:"w-8 h-px bg-white/10 mx-auto my-1"}),l.jsx("div",{className:"size-12 rounded-xl flex items-center justify-center relative group cursor-pointer",children:l.jsx("div",{className:"size-7 rounded-full bg-red-400 border-2 border-white/20 shadow-inner group-hover:scale-110 transition-transform"})}),l.jsx("div",{className:"size-12 rounded-xl flex items-center justify-center",children:l.jsx("div",{className:"size-7 rounded-full bg-white/5 border border-white/10"})})]})}),l.jsxs("main",{className:"flex-1 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat relative overflow-hidden flex items-center justify-center p-20 no-scrollbar",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:"radial-gradient(circle, white 1px, transparent 1px)",backgroundSize:"30px 30px"}}),l.jsxs("div",{className:"relative group animate-in zoom-in-95 duration-700",children:[l.jsx("p",{className:"absolute -top-10 left-0 text-[10px] font-black uppercase tracking-[0.2em] text-slate-600",children:"Lienzo: 1024x768px  RGB"}),l.jsx("div",{className:"w-[800px] h-[600px] bg-white rounded shadow-[0_0_100px_rgba(0,0,0,0.5)] flex items-center justify-center overflow-hidden border border-white/10",children:l.jsx("span",{className:"text-8xl font-manrope font-black text-slate-200 pointer-events-none select-none italic",children:"300x300"})}),l.jsx("div",{className:"absolute inset-0 border-2 border-primary/20 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]})]}),l.jsxs("aside",{className:"absolute right-8 top-1/2 -translate-y-1/2 z-40 flex flex-col gap-6 w-80",children:[l.jsxs(ie,{className:"p-6 space-y-6 rounded-3xl border-white/10 bg-surface-dark/40 backdrop-blur-2xl shadow-2xl",children:[l.jsxs("header",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Propiedades"}),l.jsx("button",{className:"text-slate-600 hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-sm",children:"settings_input_component"})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs font-bold text-slate-400",children:"Tamao"}),l.jsxs("span",{className:"text-xs font-black text-white",children:[i,"px"]})]}),l.jsx("input",{type:"range",min:"1",max:"100",value:i,onChange:m=>a(m.target.value),className:"w-full accent-primary h-1 bg-white/5 rounded-full appearance-none cursor-pointer"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs font-bold text-slate-400",children:"Opacidad"}),l.jsxs("span",{className:"text-xs font-black text-white",children:[r,"%"]})]}),l.jsx("input",{type:"range",min:"0",max:"100",value:r,onChange:m=>s(m.target.value),className:"w-full accent-primary h-1 bg-white/5 rounded-full appearance-none cursor-pointer"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-600 block ml-1",children:"Modo de Fusin"}),l.jsxs("select",{className:"w-full bg-white/5 border border-white/5 rounded-xl px-4 py-2.5 text-xs text-white focus:border-primary/50 outline-none appearance-none cursor-pointer",children:[l.jsx("option",{children:"Normal"}),l.jsx("option",{children:"Multiplicar"}),l.jsx("option",{children:"Superpolar"})]})]})]})]}),l.jsxs(ie,{className:"p-6 space-y-6 rounded-3xl border-white/10 bg-surface-dark/40 backdrop-blur-2xl shadow-2xl flex-1 max-h-[400px] overflow-hidden flex flex-col",children:[l.jsxs("header",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Capas"}),l.jsxs("div",{className:"flex gap-2 text-slate-600",children:[l.jsx("button",{className:"hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"})}),l.jsx("button",{className:"hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-sm",children:"folder"})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar space-y-2",children:p.map(m=>l.jsxs("div",{onClick:()=>d(m.id),className:`flex items-center gap-3 p-3 rounded-2xl transition-all cursor-pointer group ${u===m.id?"bg-primary/10 border border-primary/20":"bg-transparent border border-transparent hover:bg-white/5"}`,children:[l.jsx("button",{className:`material-symbols-outlined text-lg ${m.visible?"text-slate-500":"text-slate-700"}`,children:m.locked?"lock":m.visible?"visibility":"visibility_off"}),l.jsx("div",{className:"size-10 rounded-lg bg-surface-light border border-white/5 flex items-center justify-center overflow-hidden",children:m.name==="Terreno Base"?l.jsx("img",{src:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=100&q=80",alt:"Thumb",className:"w-full h-full object-cover"}):l.jsx("span",{className:"material-symbols-outlined opacity-30 text-xl",children:m.type==="raster"?"texture":m.type==="vector"?"water_drop":"domain"})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("p",{className:`text-xs font-bold truncate ${u===m.id?"text-white":"text-slate-400 group-hover:text-slate-200"}`,children:m.name})}),l.jsx("button",{className:"material-symbols-outlined text-slate-700 hover:text-white transition-colors opacity-0 group-hover:opacity-100",children:"edit"})]},m.id))})]})]}),l.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-40",children:l.jsxs(ie,{className:"px-6 py-3 flex items-center gap-8 rounded-2xl border-white/10 bg-surface-dark/40 backdrop-blur-2xl shadow-2xl",children:[l.jsxs("div",{className:"flex items-center gap-4 text-slate-500 border-r border-white/10 pr-6",children:[l.jsx("button",{className:"hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined",children:"undo"})}),l.jsx("button",{className:"hover:text-white transition-colors opacity-30 cursor-not-allowed",children:l.jsx("span",{className:"material-symbols-outlined",children:"redo"})})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{className:"text-slate-500 hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined",children:"remove"})}),l.jsx("span",{className:"text-[10px] font-black text-white w-10 text-center",children:"85%"}),l.jsx("button",{className:"text-slate-500 hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined",children:"add"})})]}),l.jsx("div",{className:"w-px h-6 bg-white/10"}),l.jsx("button",{className:"text-slate-500 hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined",children:"fullscreen"})})]})})]})]})},Ow=()=>{const[e,t]=y.useState(null),n=[{id:1,name:"Torre Carmes",type:"location",x:"45%",y:"42%",color:"bg-primary"},{id:2,name:"Costa de Zafiro",type:"region",x:"55%",y:"35%",color:"bg-cyan-500"},{id:3,name:"Pramos de Hierro",type:"danger",x:"62%",y:"58%",color:"bg-amber-500"}];return l.jsxs("div",{className:"flex-1 flex overflow-hidden bg-background-dark font-sans text-slate-300 relative",children:[l.jsxs("main",{className:"flex-1 overflow-hidden relative group",children:[l.jsxs("div",{className:"absolute inset-4 rounded-[2.5rem] overflow-hidden border border-white/5 shadow-2xl bg-surface-dark",children:[l.jsx("img",{src:"https://images.unsplash.com/photo-1521295121783-8a321d551ad2?auto=format&fit=crop&w=2000&q=80",alt:"Background Map",className:"w-full h-full object-cover opacity-60 mix-blend-luminosity grayscale-[0.2]"}),l.jsx("div",{className:"absolute inset-0",children:n.map(r=>l.jsx("div",{onClick:()=>t(r),className:`absolute size-10 -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-all hover:scale-125 z-10 ${(e==null?void 0:e.id)===r.id?"scale-125":""}`,style:{left:r.x,top:r.y},children:l.jsxs("div",{className:`size-full rounded-2xl ${r.color} border-4 border-background-dark shadow-[0_0_20px_rgba(0,0,0,0.5)] flex items-center justify-center text-white relative group/marker`,children:[l.jsx("span",{className:"material-symbols-outlined text-lg",children:r.type==="location"?"fort":r.type==="region"?"terrain":"skull"}),l.jsx("div",{className:"absolute top-12 left-1/2 -translate-x-1/2 px-3 py-1.5 rounded-lg bg-surface-dark border border-white/10 text-[9px] font-black uppercase tracking-widest text-white whitespace-nowrap opacity-0 group-hover/marker:opacity-100 transition-opacity",children:r.name}),l.jsx("div",{className:`absolute -inset-2 rounded-[1.5rem] opacity-20 animate-ping -z-10 ${r.color}`})]})},r.id))})]}),l.jsx("aside",{className:"absolute left-12 top-1/2 -translate-y-1/2 z-20 flex flex-col gap-4",children:l.jsxs(ie,{className:"p-2 flex flex-col gap-2 rounded-2xl border-white/10 bg-surface-dark/40 backdrop-blur-2xl shadow-2xl",children:[l.jsx(ks,{icon:"near_me",active:!0}),l.jsx(ks,{icon:"location_on"}),l.jsx(ks,{icon:"brush"}),l.jsx(ks,{icon:"layers"}),l.jsx("div",{className:"w-8 h-px bg-white/10 mx-auto my-1"}),l.jsx(ks,{icon:"tune"})]})}),l.jsx("div",{className:"absolute bottom-12 left-12 z-20 px-4 py-2 rounded-xl bg-black/40 border border-white/10 backdrop-blur-md text-[10px] font-black tracking-widest text-slate-400",children:"125%"})]}),l.jsx("aside",{className:`flex-none bg-surface-dark border-l border-white/5 transition-all duration-700 relative z-30 ${e?"w-96 p-8 opacity-100":"w-0 p-0 opacity-0 overflow-hidden"}`,children:e&&l.jsxs("div",{className:"flex flex-col h-full gap-8 animate-in slide-in-from-right-8 duration-500",children:[l.jsxs("header",{className:"space-y-6",children:[l.jsxs("div",{className:"relative aspect-[4/3] rounded-3xl overflow-hidden border border-white/10 shadow-xl group",children:[l.jsx("img",{src:"https://images.unsplash.com/photo-1533154683836-84ea7a0bc310?auto=format&fit=crop&w=500&q=80",alt:"Detail",className:"w-full h-full object-cover grayscale-[0.4] group-hover:grayscale-0 transition-all duration-700"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background-dark via-transparent to-transparent"}),l.jsx("div",{className:"absolute top-4 right-4 flex gap-2",children:l.jsx("button",{onClick:()=>t(null),className:"size-8 rounded-lg bg-black/40 border border-white/10 backdrop-blur-md text-white flex items-center justify-center hover:bg-black/60 transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})}),l.jsxs("div",{className:"absolute bottom-4 left-4 flex gap-2",children:[l.jsx("span",{className:"px-3 py-1 rounded bg-primary/20 text-primary border border-primary/20 text-[8px] font-black uppercase tracking-widest backdrop-blur-md",children:"Lugar"}),l.jsx("span",{className:"px-3 py-1 rounded bg-emerald-500/20 text-emerald-400 border border-emerald-500/20 text-[8px] font-black uppercase tracking-widest backdrop-blur-md",children:"Capital"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("h2",{className:"text-3xl font-manrope font-black text-white tracking-tight leading-none",children:e.name}),l.jsx("button",{className:"text-slate-500 hover:text-white transition-colors p-2 rounded-xl hover:bg-white/5",children:l.jsx("span",{className:"material-symbols-outlined",children:"edit"})})]}),l.jsx("p",{className:"text-sm text-slate-400 leading-relaxed font-manrope",children:"La antigua sede de los Magos de Fuego, erigida sobre la caldera inactiva del Monte Ignis. Sus muros estn imbuidos de magia protectora."})]})]}),l.jsxs("div",{className:"space-y-8 flex-1 overflow-y-auto no-scrollbar",children:[l.jsxs("section",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center px-1",children:[l.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Habitantes Clave"}),l.jsx("button",{className:"text-[10px] font-bold text-primary hover:underline transition-all",children:"Ver todos"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(If,{name:"Lyra Ignis",role:"Gran Maga"}),l.jsx(If,{name:"Kaelen",role:"Capitn de la Guardia"})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500 px-1",children:"Eventos Relacionados"}),l.jsx(ie,{className:"p-4 border-white/5 hover:border-white/10 transition-all cursor-pointer group",children:l.jsxs("div",{className:"flex gap-4 items-center",children:[l.jsx("div",{className:"size-10 rounded-xl bg-amber-500/10 text-amber-500 border border-amber-500/20 flex items-center justify-center",children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:"history_edu"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xs font-bold text-white group-hover:text-primary transition-colors",children:"El Asedio de Ceniza"}),l.jsx("p",{className:"text-[10px] text-slate-500 font-medium",children:"Hace 300 aos"})]})]})})]})]}),l.jsx("footer",{className:"pt-6 border-t border-white/5",children:l.jsx(Ne,{variant:"primary",icon:"auto_stories",className:"w-full py-4 rounded-2xl shadow-xl shadow-primary/20",children:"Abrir en la Biblia"})})]})})]})},ks=({icon:e,active:t})=>l.jsx("button",{className:`size-12 rounded-xl flex items-center justify-center transition-all ${t?"bg-primary text-white shadow-lg shadow-primary/30":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:e})}),If=({name:e,role:t})=>l.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-2xl bg-white/[0.02] border border-white/5 hover:border-white/10 transition-all cursor-pointer group",children:[l.jsx(Bu,{name:e,size:"sm",className:"border-white/10 group-hover:border-primary/50 transition-all"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"text-xs font-bold text-white truncate",children:e}),l.jsx("p",{className:"text-[10px] text-slate-500 font-medium truncate",children:t})]}),l.jsx("span",{className:"material-symbols-outlined text-slate-700 text-sm group-hover:text-white transition-colors",children:"chevron_right"})]}),Bw=()=>{const[e,t]=y.useState("viewer"),n=r=>{t(r==="blank"?"editor":"viewer")};return l.jsxs("div",{className:"flex-1 flex flex-col h-full bg-background-dark overflow-hidden",children:[e==="viewer"&&l.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[l.jsx("button",{onClick:()=>t("wizard"),className:"absolute right-12 bottom-12 z-50 size-16 rounded-3xl bg-primary text-white flex items-center justify-center shadow-2xl shadow-primary/40 hover:scale-110 active:scale-95 transition-all group",children:l.jsx("span",{className:"material-symbols-outlined text-3xl group-hover:rotate-90 transition-transform duration-300",children:"add"})}),l.jsx(Ow,{})]}),e==="wizard"&&l.jsx(Lw,{onCancel:()=>t("viewer"),onCreate:n}),e==="editor"&&l.jsx(Fw,{onBack:()=>t("viewer"),onSave:()=>t("viewer")})]})},Vw=()=>{const[e,t]=y.useState("Loading..."),[n,r]=y.useState({words:0,rules:0,glyphs:0}),[s,i]=y.useState("Standard Tongue");y.useEffect(()=>{a()},[]);const a=async()=>{try{const o=await X.get("/bd/proyecto-activo");t(o.nombreProyecto);const c=await X.get("/conlang/stats");r(c);const u=await X.get("/conlang/lenguas");u&&u.length>0&&i(u[0].nombre)}catch(o){console.error("Error loading conlang data:",o),t("Default Project")}};return l.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#0a0a0f] text-slate-300 font-sans overflow-y-auto no-scrollbar p-12 lg:p-16 gap-16",children:[l.jsxs("header",{className:"space-y-6",children:[l.jsxs("nav",{className:"flex items-center gap-3 text-[10px] font-black uppercase tracking-widest text-slate-500",children:[l.jsx("span",{children:e}),l.jsx("span",{className:"material-symbols-outlined text-sm",children:"chevron_right"}),l.jsxs("span",{className:"text-white",children:["Conlang: ",s]})]}),l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"space-y-4 max-w-2xl",children:[l.jsx("h1",{className:"text-6xl font-manrope font-black text-white tracking-tight",children:s}),l.jsxs("p",{className:"text-lg text-slate-400 leading-relaxed",children:["A conlang belonging to ",e,". Manage its lexicon, grammar rules, and writing systems here."]}),l.jsxs("div",{className:"flex gap-4 pt-2",children:[l.jsx("span",{className:"px-3 py-1 rounded bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 text-[9px] font-black uppercase tracking-widest",children:"Complete: 45%"}),l.jsx("span",{className:"px-3 py-1 rounded bg-primary/10 text-primary border border-primary/20 text-[9px] font-black uppercase tracking-widest",children:"Type: Agglutinative"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3 text-slate-500 border-r border-white/5 pr-6 mr-2",children:[l.jsx("span",{className:"material-symbols-outlined text-sm animate-pulse text-emerald-500",children:"save"}),l.jsx("span",{className:"text-[10px] font-bold",children:"Auto-Saved"}),l.jsx("span",{className:"material-symbols-outlined hover:text-white transition-colors cursor-pointer",children:"dark_mode"})]}),l.jsx(Ne,{variant:"primary",icon:"add",size:"md",children:"Create Element"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-12",children:[l.jsxs("section",{className:"xl:col-span-2 space-y-8",children:[l.jsxs("div",{className:"flex justify-between items-center px-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"material-symbols-outlined text-primary text-2xl",children:"menu_book"}),l.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:"Lexicon"})]}),l.jsxs("span",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest hover:text-primary transition-all cursor-pointer",children:["View All (",n.words,")"]})]}),l.jsxs(ie,{className:"p-0 border-white/5 bg-surface-dark/40 overflow-hidden shadow-2xl",children:[l.jsxs("div",{className:"p-4 border-b border-white/5 flex items-center gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-600 text-lg",children:"search"}),l.jsx("input",{type:"text",placeholder:"Search word or meaning...",className:"w-full bg-white/5 border border-white/5 rounded-2xl py-3 pl-12 pr-4 text-xs focus:ring-1 focus:ring-primary/30 outline-none transition-all"})]}),l.jsx("button",{className:"size-10 rounded-xl bg-white/5 border border-white/5 flex items-center justify-center text-slate-500 hover:text-white transition-all",children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:"tune"})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx(go,{word:"Ael'or",type:"noun",gender:"neutral",def:"Starlight; specifically the light from the twin moons."}),l.jsx(go,{word:"Vexi",type:"verb",gender:"transitive",def:"To weave magic; to create something from nothing."}),l.jsx(go,{word:"Dra'kan",type:"adj",gender:"",def:"Ancient; belonging to the era of dragons."})]}),l.jsx("div",{className:"p-6 bg-black/20 border-t border-white/5",children:l.jsxs("button",{className:"w-full py-4 rounded-3xl border-2 border-dashed border-white/5 text-slate-600 hover:text-white hover:border-primary/50 hover:bg-primary/5 transition-all text-[10px] font-black uppercase tracking-[0.2em] flex items-center justify-center gap-3",children:[l.jsx("span",{className:"material-symbols-outlined",children:"add"}),"Add New Word"]})})]})]}),l.jsxs("section",{className:"space-y-8",children:[l.jsxs("div",{className:"flex justify-between items-center px-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"material-symbols-outlined text-primary text-2xl",children:"architecture"}),l.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:"Grammar Rules"})]}),l.jsx("span",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest hover:text-primary transition-all cursor-pointer",children:"Manage"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Af,{title:"Sentence Structure",status:"active",statusColor:"emerald",desc:"Standard order is SOV (Subject-Object-Verb), but poetry uses VSO for emphasis on action.",tags:["Syntax","Basic"]}),l.jsx(Af,{title:"Noun Declensions",status:"pending",statusColor:"amber",desc:"Seven cases marked by suffixes. Pluralization shifts the stress to the final syllable.",tags:["Morphology"]}),l.jsxs("button",{className:"w-full h-32 rounded-[2.5rem] border-2 border-dashed border-white/5 flex flex-col items-center justify-center gap-2 text-slate-600 hover:text-white hover:border-primary/30 hover:bg-primary/5 transition-all",children:[l.jsx("span",{className:"material-symbols-outlined",children:"add_circle"}),l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Define New Rule"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-12",children:[l.jsxs("section",{className:"space-y-8",children:[l.jsxs("div",{className:"flex justify-between items-center px-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"material-symbols-outlined text-primary text-2xl",children:"draw"}),l.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:"Writing System"})]}),l.jsxs("div",{className:"flex gap-2 text-slate-600",children:[l.jsx("button",{className:"p-1 rounded hover:bg-white/5 hover:text-white",children:l.jsx("span",{className:"material-symbols-outlined text-lg",children:"grid_view"})}),l.jsx("button",{className:"p-1 rounded hover:bg-white/5 hover:text-white",children:l.jsx("span",{className:"material-symbols-outlined text-lg",children:"title"})})]})]}),l.jsxs(ie,{className:"p-8 border-white/5 bg-surface-dark/40 rounded-[3rem] space-y-8 shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-2xl font-black text-white tracking-tight mb-1",children:"Moon Script"}),l.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Abugida  Left-to-Right"})]}),l.jsx(Ne,{variant:"secondary",size:"sm",className:"bg-primary/10 border-primary/20 text-primary",children:"Open Editor"})]}),l.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[["","","","",""].map(o=>l.jsx("div",{className:"aspect-square rounded-2xl bg-white/5 border border-white/5 flex items-center justify-center text-3xl font-serif text-white hover:bg-white/10 transition-all cursor-pointer",children:o},o)),l.jsx("div",{className:"aspect-square rounded-2xl border-2 border-dashed border-white/5 flex items-center justify-center text-slate-600 hover:border-primary/50 hover:text-white transition-all cursor-pointer",children:l.jsx("span",{className:"material-symbols-outlined",children:"add"})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-[8px] font-black uppercase tracking-widest text-slate-600",children:[l.jsx("span",{children:"Glyph Set"}),l.jsx("span",{children:"24/32 Completed"})]}),l.jsx("div",{className:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary w-[75%] rounded-full shadow-[0_0_10px_rgba(99,102,242,0.5)]"})})]})]})]}),l.jsxs("section",{className:"space-y-8",children:[l.jsxs("div",{className:"flex items-center gap-3 px-2",children:[l.jsx("span",{className:"material-symbols-outlined text-primary text-2xl",children:"graphic_eq"}),l.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:"Translator & Phonology"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs(ie,{className:"p-8 border-primary/20 bg-primary/5 rounded-[3rem] space-y-6 shadow-2xl shadow-primary/10",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-primary",children:"Live Logographic Stream"}),l.jsx("span",{className:"material-symbols-outlined text-primary animate-pulse",children:"sync_alt"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Source text here...",className:"w-full bg-black/40 border border-white/10 rounded-2xl p-4 text-xs font-bold text-white focus:border-primary/50 outline-none transition-all"}),l.jsxs("div",{className:"h-24 rounded-2xl bg-black/60 border border-white/5 flex items-center justify-center relative overflow-hidden group",children:[l.jsx("span",{className:"text-5xl font-serif text-white opacity-40 group-hover:opacity-100 transition-opacity",children:"   "}),l.jsx("div",{className:"absolute top-2 right-4 text-[7px] font-black uppercase tracking-widest text-slate-700",children:"Rendered Output"})]})]})]}),l.jsxs(ie,{className:"p-8 border-white/5 bg-surface-dark/40 rounded-[3rem] space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Vowel Inventory"}),l.jsx("button",{className:"text-primary text-lg",children:l.jsx("span",{className:"material-symbols-outlined",children:"add"})})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:["/a/","/e/","/i/","/o/","/u/","/y/"].map(o=>l.jsx("div",{className:"px-3 py-1.5 rounded-xl bg-white/5 border border-white/5 text-[11px] font-mono font-bold text-slate-300 hover:text-white transition-colors cursor-pointer",children:o},o))})]}),l.jsxs(ie,{className:"p-8 border-white/5 bg-surface-dark/40 rounded-[3rem] space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Vector Symbols"}),l.jsx("button",{className:"text-[8px] font-bold text-primary hover:underline transition-all",children:"Upload SVG"})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[[{id:1,icon:"filter_vintage"},{id:2,icon:"auto_awesome"},{id:3,icon:"infinite"}].map(o=>l.jsx("div",{className:"aspect-square rounded-2xl bg-white/5 border border-white/5 flex items-center justify-center text-slate-400 hover:text-white transition-all cursor-pointer",children:l.jsx("span",{className:"material-symbols-outlined text-2xl",children:o.icon})},o.id)),l.jsxs("div",{className:"aspect-square rounded-2xl border-2 border-dashed border-white/5 flex flex-col items-center justify-center text-slate-700 hover:border-primary/50 hover:text-white transition-all cursor-pointer",children:[l.jsx("span",{className:"material-symbols-outlined text-lg",children:"cloud_upload"}),l.jsx("span",{className:"text-[7px] font-bold uppercase mt-1",children:"Add"})]})]})]})]})]})]})]})},go=({word:e,type:t,gender:n,def:r})=>l.jsxs("div",{className:"p-4 rounded-2xl border border-transparent hover:bg-white/5 hover:border-white/5 transition-all group cursor-pointer relative",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[l.jsx("h4",{className:"text-xl font-manrope font-black text-white group-hover:text-primary transition-colors",children:e}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"text-[9px] font-bold text-slate-600 italic",children:t}),n&&l.jsxs("span",{className:"text-[9px] font-bold text-slate-700 uppercase",children:["(",n,")"]})]})]}),l.jsx("p",{className:"text-sm text-slate-400 leading-relaxed font-manrope",children:r}),l.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity p-2 text-slate-600 hover:text-white",children:l.jsx("span",{className:"material-symbols-outlined",children:"edit_note"})})]}),Af=({title:e,status:t,statusColor:n,desc:r,tags:s})=>l.jsxs(ie,{className:"p-8 border-white/5 hover:border-white/10 transition-all cursor-pointer group space-y-4",children:[l.jsxs("header",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`size-2 rounded-full bg-${n}-500 shadow-[0_0_10px_rgba(var(--${n}-rgb),0.5)]`}),l.jsx("h4",{className:"font-bold text-white group-hover:text-primary transition-colors",children:e})]}),l.jsx("button",{className:"text-slate-700 hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined",children:"more_vert"})})]}),l.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed font-manrope",children:r}),l.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(i=>l.jsx("span",{className:"px-2 py-0.5 rounded bg-white/5 border border-white/5 text-[8px] font-black uppercase tracking-widest text-slate-600",children:i},i))})]}),Uw=()=>l.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#050B0D] text-[#00E5FF] font-mono overflow-hidden",children:[l.jsxs("header",{className:"h-20 border-b border-[#00E5FF]/20 flex items-center justify-between px-10 bg-black/40 backdrop-blur-xl",children:[l.jsxs("div",{className:"flex items-center gap-10",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[10px] opacity-40 uppercase tracking-[0.4em] font-bold",children:"Datastream_Nav"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"material-symbols-outlined text-2xl",children:"language"}),l.jsx("span",{className:"text-2xl font-black italic tracking-tighter",children:"Chronos Atlas"})]})]}),l.jsxs("div",{className:"flex items-center gap-4 border-l border-[#00E5FF]/20 pl-10",children:[l.jsx("span",{className:"text-3xl font-black tracking-[0.2em] italic opacity-80",children:"DIGITAL RUNE COMPILER"}),l.jsx("div",{className:"px-3 py-1 rounded-sm bg-[#00E5FF]/10 border border-[#00E5FF]/30 text-[10px] font-black uppercase tracking-widest animate-pulse",children:"Data Ready"})]})]}),l.jsxs("div",{className:"flex items-center gap-8",children:[l.jsxs("div",{className:"flex items-center gap-2 opacity-60 hover:opacity-100 transition-opacity cursor-pointer",children:[l.jsx("span",{className:"material-symbols-outlined text-lg",children:"help"}),l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Protocol"})]}),l.jsxs("button",{className:"flex items-center gap-3 px-6 py-2.5 bg-[#00E5FF] text-black font-black uppercase text-xs tracking-widest rounded-sm hover:shadow-[0_0_20px_rgba(0,229,255,0.4)] transition-all",children:[l.jsx("span",{className:"material-symbols-outlined",children:"save"}),"Commit Data"]}),l.jsx("div",{className:"size-10 rounded-full bg-gradient-to-tr from-[#00E5FF] to-blue-600 border border-white/20 shadow-lg"})]})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsxs("main",{className:"flex-1 flex flex-col p-12 gap-12 overflow-y-auto no-scrollbar relative",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-[2px] bg-white/5 overflow-hidden",children:l.jsx("div",{className:"h-full bg-[#00E5FF] w-[64%] shadow-[0_0_10px_#00E5FF]"})}),l.jsxs("section",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"size-2 bg-[#00E5FF] rounded-full shadow-[0_0_10px_#00E5FF]"}),l.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.4em]",children:"Glyph Set (Scan)"})]}),l.jsxs("div",{className:"flex gap-4 opacity-40",children:[l.jsx("span",{className:"material-symbols-outlined text-xl",children:"grid_view"}),l.jsx("span",{className:"material-symbols-outlined text-xl",children:"view_list"})]})]}),l.jsxs("div",{className:"p-10 rounded-sm border border-[#00E5FF]/10 bg-[#00E5FF]/[0.02] grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-6",children:[l.jsx(Pt,{symbol:"",keyLabel:"A"}),l.jsx(Pt,{symbol:"",keyLabel:"B"}),l.jsx(Pt,{symbol:"",keyLabel:"C"}),l.jsx(Pt,{symbol:"",keyLabel:"D",active:!0}),l.jsx(Pt,{}),l.jsx(Pt,{}),l.jsx(Pt,{}),l.jsx(Pt,{}),l.jsx(Pt,{}),l.jsx(Pt,{}),l.jsx("div",{className:"aspect-square rounded shadow-inner border border-dashed border-[#00E5FF]/20 flex items-center justify-center hover:bg-[#00E5FF]/5 transition-colors cursor-pointer group",children:l.jsx("span",{className:"material-symbols-outlined opacity-20 group-hover:opacity-100 transition-opacity",children:"add"})})]}),l.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase tracking-[0.2em] opacity-40",children:[l.jsx("span",{children:"26 Glyphs Mapped"}),l.jsxs("div",{className:"flex gap-10",children:[l.jsxs("button",{className:"hover:text-[#00E5FF] flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"tune"})," Manage"]}),l.jsxs("button",{className:"hover:text-[#00E5FF] flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"settings_input_component"})," Ranges"]})]})]})]}),l.jsxs("section",{className:"flex-1 flex flex-col gap-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"size-2 bg-[#00E5FF] rounded-full shadow-[0_0_10px_#00E5FF] opacity-40"}),l.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.4em] opacity-40",children:"Live Preview Stream"})]}),l.jsxs("div",{className:"flex-1 rounded-sm border border-[#00E5FF]/10 bg-black/40 flex flex-col p-12 items-center justify-center relative group min-h-[300px]",children:[l.jsx("div",{className:"absolute top-4 left-4 text-[8px] opacity-20 uppercase tracking-widest font-black",children:"Buffer Status: Active"}),l.jsx("textarea",{className:"w-full h-full bg-transparent border-none outline-none text-center text-7xl font-bold tracking-widest text-[#00E5FF]/10 group-hover:text-[#00E5FF]/40 transition-all placeholder:text-[#00E5FF]/5 resize-none italic",placeholder:"Input your data stream here..."}),l.jsxs("div",{className:"absolute bottom-6 right-8 flex gap-6 text-[8px] font-black uppercase tracking-widest opacity-20",children:[l.jsx("span",{children:"48px"}),l.jsx("span",{children:"Regular"}),l.jsx("span",{children:"UTF-8"})]}),l.jsx("div",{className:"absolute inset-x-12 top-1/2 h-px bg-[#00E5FF]/10 -translate-y-1/2 pointer-events-none"})]})]})]}),l.jsxs("aside",{className:"w-[450px] border-l border-[#00E5FF]/10 p-10 flex flex-col gap-10 bg-black/40 backdrop-blur-xl relative z-20",children:[l.jsx("h3",{className:"text-xs font-black uppercase tracking-[0.4em] opacity-60 mb-2",children:"Configuration Matrix"}),l.jsxs(ie,{className:"p-8 border-[#00E5FF]/20 bg-[#00E5FF]/[0.02] space-y-8 rounded-sm",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-[#00E5FF]/60 block ml-1",children:"Font Name"}),l.jsx("input",{type:"text",defaultValue:"NEURALINK CIPHER",className:"w-full bg-black/60 border border-[#00E5FF]/30 px-6 py-4 text-xs font-black text-[#00E5FF] focus:border-[#00E5FF] outline-none transition-all tracking-widest uppercase italic"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-[#00E5FF]/60 block ml-1",children:"Author / Metadata"}),l.jsx("input",{type:"text",placeholder:"YOUR SYNTHETIC ID",className:"w-full bg-black/60 border border-[#00E5FF]/30 px-6 py-4 text-xs font-black text-[#00E5FF] focus:border-[#00E5FF] outline-none transition-all tracking-widest uppercase italic"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-[#00E5FF]/60 block ml-1",children:"Format"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("button",{className:"py-4 border border-[#00E5FF] bg-[#00E5FF]/10 text-[#00E5FF] text-xs font-black tracking-widest shadow-[0_0_15px_rgba(0,229,255,0.2)]",children:".TTF"}),l.jsx("button",{className:"py-4 border border-[#00E5FF]/20 text-[#00E5FF]/40 text-xs font-black tracking-widest hover:border-[#00E5FF]/40 transition-all",children:".OTF"})]})]}),l.jsxs("div",{className:"pt-4 space-y-6",children:[l.jsx(Lf,{label:"Ligatures",active:!0}),l.jsx(Lf,{label:"Kerning",active:!0})]}),l.jsxs("button",{className:"w-full py-6 mt-6 bg-gradient-to-r from-blue-600 to-fuchsia-500 text-white font-black uppercase text-xs tracking-[0.3em] flex items-center justify-center gap-4 hover:shadow-[0_0_30px_rgba(255,0,255,0.3)] transition-all animate-pulse",children:[l.jsx("span",{className:"material-symbols-outlined text-lg",children:"download"}),"Compile & Download"]})]}),l.jsxs("div",{className:"flex-1 flex flex-col gap-6 opacity-30 pointer-events-none",children:[l.jsxs("div",{className:"flex justify-between text-[10px] uppercase font-black",children:[l.jsx("span",{children:"Compiler Logs"}),l.jsx("span",{children:"V2.0.4"})]}),l.jsxs("div",{className:"flex-1 border border-[#00E5FF]/10 bg-black/20 p-6 flex flex-col font-mono text-[9px] gap-2 overflow-hidden",children:[l.jsx("p",{children:"[SCN] Initializing Glyph Buffer..."}),l.jsx("p",{children:"[MAP] Vector data detected for U+0394"}),l.jsx("p",{children:"[SYS] Memory allocation optimized"}),l.jsx("p",{className:"animate-pulse",children:"_"})]})]})]})]})]}),Pt=({symbol:e,keyLabel:t,active:n})=>l.jsxs("div",{className:`aspect-square rounded border transition-all cursor-pointer flex items-center justify-center relative group ${n?"bg-[#00E5FF]/20 border-[#00E5FF] shadow-[0_0_20px_rgba(0,229,255,0.3)]":"bg-black/40 border-[#00E5FF]/10 hover:border-[#00E5FF]/40"}`,children:[l.jsx("span",{className:`text-3xl font-serif ${n?"text-white":"opacity-20 group-hover:opacity-60"}`,children:e||"..."}),t&&l.jsx("span",{className:`absolute top-1 right-1 text-[8px] font-black uppercase ${n?"text-[#00E5FF]/80":"opacity-20"}`,children:t})]}),Lf=({label:e,active:t})=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest opacity-60",children:e}),l.jsx("button",{className:`w-12 h-6 rounded-full p-1 transition-colors relative ${t?"bg-[#00E5FF]/40":"bg-white/5"}`,children:l.jsx("div",{className:`size-4 rounded-full bg-[#00E5FF] shadow-[0_0_10px_#00E5FF] transition-transform ${t?"translate-x-6":"translate-x-0"}`})})]}),Hw=({onBack:e,onSave:t})=>{const[n,r]=y.useState(4),[s,i]=y.useState("curve"),[a,o]=y.useState(1),c=[{id:"select",icon:"near_me"},{id:"curve",icon:"gesture"},{id:"eraser",icon:"ink_eraser"},{id:"line",icon:"horizontal_rule"},{id:"shape",icon:"pentagon"},{id:"text",icon:"title"}],u=[{id:1,name:"Trazo Principal",type:"Vector",locked:!0,visible:!0},{id:2,name:"Detalles Secundarios",type:"Vector",locked:!0,visible:!0},{id:3,name:"Boceto Ref.",type:"Imagen (Raster)",locked:!0,visible:!1}];return l.jsxs("div",{className:"flex-1 flex flex-col bg-[#0a0a0f] text-slate-300 font-sans h-full overflow-hidden relative",children:[l.jsxs("header",{className:"h-20 flex-none border-b border-white/5 flex items-center justify-between px-8 bg-surface-dark/80 backdrop-blur-md z-30",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("button",{onClick:e,className:"p-2 rounded-xl bg-white/5 hover:bg-white/10 transition-colors",children:l.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),l.jsx("div",{className:"w-px h-8 bg-white/10"}),l.jsxs("div",{children:[l.jsxs("nav",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-500 mb-0.5",children:[l.jsx("span",{children:"Idiomas"}),l.jsx("span",{className:"material-symbols-outlined text-sm",children:"chevron_right"}),l.jsx("span",{className:"text-white",children:"Editor Grfico"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-4 text-slate-500",children:[l.jsx("button",{className:"hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:"undo"})}),l.jsx("button",{className:"hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:"redo"})})]}),l.jsx("div",{className:"w-px h-4 bg-white/10 mx-2"}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{className:"p-1 rounded hover:bg-white/5 text-slate-500 hover:text-white",children:l.jsx("span",{className:"material-symbols-outlined text-lg",children:"grid_on"})}),l.jsx("button",{className:"p-1 rounded bg-white/10 text-primary",children:l.jsx("span",{className:"material-symbols-outlined text-sm",children:"hub"})})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{className:"flex items-center gap-2 px-6 py-2.5 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 transition-all text-xs font-black uppercase tracking-widest text-slate-400",children:[l.jsx("span",{className:"material-symbols-outlined text-lg",children:"download"}),"Exportar SVG"]}),l.jsx(Ne,{variant:"primary",icon:"save",className:"px-8 py-3 shadow-xl shadow-primary/30",onClick:t,children:"Guardar Glifo"}),l.jsx("div",{className:"size-10 rounded-full bg-gradient-to-br from-primary to-orange-400 border-2 border-white/10 shadow-lg ml-2"})]})]}),l.jsxs("div",{className:"flex-1 flex relative overflow-hidden",children:[l.jsxs("aside",{className:"h-full w-20 flex-none border-r border-white/5 bg-surface-dark/40 backdrop-blur-xl flex flex-col items-center py-6 gap-2 z-40",children:[c.map(d=>l.jsx("button",{onClick:()=>i(d.id),className:`size-12 rounded-2xl flex items-center justify-center transition-all ${s===d.id?"bg-primary text-white shadow-lg shadow-primary/30":"text-slate-600 hover:text-white hover:bg-white/5"}`,children:l.jsx("span",{className:"material-symbols-outlined text-2xl",children:d.icon})},d.id)),l.jsx("div",{className:"flex-1"}),l.jsx("button",{className:"size-12 rounded-2xl flex items-center justify-center text-slate-600 hover:text-white transition-all",children:l.jsx("span",{className:"material-symbols-outlined text-2xl",children:"add_photo_alternate"})}),l.jsx("button",{className:"size-12 rounded-2xl flex items-center justify-center text-slate-600 hover:text-white transition-all",children:l.jsx("span",{className:"material-symbols-outlined text-2xl",children:"settings"})})]}),l.jsxs("main",{className:"flex-1 bg-[#050508] relative overflow-hidden flex items-center justify-center no-scrollbar",children:[l.jsx("div",{className:"absolute inset-x-20 top-1/2 h-px bg-red-500/20 pointer-events-none"}),l.jsxs("div",{className:"relative group animate-in zoom-in-95 duration-700",children:[l.jsx("div",{className:"absolute inset-x-0 top-10 h-px bg-white/10"}),l.jsx("div",{className:"absolute inset-x-0 bottom-10 h-px bg-white/10"}),l.jsxs("div",{className:"w-[600px] h-[600px] border border-white/5 rounded-3xl bg-black/40 flex items-center justify-center relative overflow-hidden",children:[l.jsxs("svg",{width:"400",height:"400",className:"drop-shadow-[0_0_20px_rgba(99,102,242,0.5)] scale-125",children:[l.jsx("circle",{cx:"200",cy:"230",r:"100",fill:"none",stroke:"#6366f1",strokeWidth:"6",strokeLinecap:"round"}),l.jsx("line",{x1:"200",y1:"230",x2:"200",y2:"380",stroke:"#6366f1",strokeWidth:"6",strokeLinecap:"round"}),l.jsx("circle",{cx:"200",cy:"230",r:"4",fill:"white"}),l.jsx("rect",{x:"196",y:"376",width:"8",height:"8",fill:"white"}),l.jsx("rect",{x:"96",y:"226",width:"8",height:"8",fill:"#6366f1"}),l.jsx("rect",{x:"296",y:"226",width:"8",height:"8",fill:"#6366f1"}),l.jsx("rect",{x:"136",y:"160",width:"6",height:"6",fill:"#6366f1",className:"opacity-40"}),l.jsx("rect",{x:"256",y:"160",width:"6",height:"6",fill:"#6366f1",className:"opacity-40"})]}),l.jsx("div",{className:"absolute top-[160px] left-[136px] size-1 border border-primary/40 border-dashed w-[20px] h-[100px] pointer-events-none"}),l.jsx("div",{className:"absolute top-[160px] right-[136px] size-1 border border-primary/40 border-dashed w-[20px] h-[100px] pointer-events-none"})]})]}),l.jsx("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2",children:l.jsxs(ie,{className:"px-6 py-2.5 flex items-center gap-6 rounded-2xl border-white/10 bg-surface-dark/40 backdrop-blur-2xl shadow-2xl",children:[l.jsx("button",{className:"text-slate-500 hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-lg",children:"remove"})}),l.jsx("span",{className:"text-[10px] font-black text-white w-12 text-center uppercase tracking-widest",children:"120%"}),l.jsx("button",{className:"text-slate-500 hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"})})]})})]}),l.jsxs("aside",{className:"w-96 flex-none flex flex-col p-10 gap-10 bg-surface-dark/20 backdrop-blur-xl border-l border-white/5 z-40 overflow-y-auto no-scrollbar",children:[l.jsxs("section",{className:"space-y-6",children:[l.jsxs("header",{className:"flex justify-between items-center group cursor-pointer",children:[l.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Propiedades"}),l.jsx("span",{className:"material-symbols-outlined text-slate-700 text-sm",children:"more_horiz"})]}),l.jsxs(ie,{className:"p-8 border-white/5 bg-surface-dark/40 rounded-[2rem] space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs font-bold text-slate-400",children:"Grosor de Trazo"}),l.jsxs("span",{className:"px-2 py-0.5 rounded bg-white/5 text-[10px] font-black text-white",children:[n,"px"]})]}),l.jsx("input",{type:"range",min:"1",max:"20",value:n,onChange:d=>r(d.target.value),className:"w-full accent-primary h-1 bg-white/5 rounded-full appearance-none cursor-pointer"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-600 block ml-1",children:"Color / Relleno"}),l.jsxs("div",{className:"flex items-center gap-4 bg-black/40 rounded-2xl p-4 border border-white/5",children:[l.jsx("div",{className:"size-10 rounded-full bg-primary shadow-[0_0_15px_rgba(99,102,242,0.4)] border-2 border-white/20"}),l.jsx("input",{type:"text",defaultValue:"#2F2CED",className:"bg-transparent border-none outline-none text-xs font-mono text-slate-300 w-full"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-600 block ml-1",children:"Terminacin (Cap)"}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsx(yo,{icon:"square"}),l.jsx(yo,{icon:"circle",active:!0}),l.jsx(yo,{icon:"rectangle"})]})]}),l.jsxs("button",{className:"w-full py-4 rounded-2xl bg-white/5 border border-white/5 text-[10px] font-black uppercase tracking-widest text-slate-300 flex items-center justify-center gap-3 hover:bg-white/10 transition-all",children:[l.jsx("span",{className:"material-symbols-outlined text-lg",children:"gesture"}),"Suavizar Trazo"]})]})]}),l.jsxs("section",{className:"flex-1 flex flex-col gap-6",children:[l.jsxs("header",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Capas"}),l.jsx("button",{className:"p-1 rounded bg-white/5 text-slate-500 hover:text-white transition-all",children:l.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"})})]}),l.jsx("div",{className:"space-y-3 overflow-y-auto no-scrollbar flex-1",children:u.map(d=>l.jsxs("div",{onClick:()=>o(d.id),className:`flex items-center gap-4 p-4 rounded-2xl transition-all cursor-pointer group ${a===d.id?"bg-primary/10 border border-primary/20":"bg-white/[0.02] border border-white/5 opacity-60 hover:opacity-100 hover:border-white/10"}`,children:[l.jsx("button",{className:"material-symbols-outlined text-sm text-slate-500 hover:text-white",children:d.visible?"visibility":"visibility_off"}),l.jsx("div",{className:"size-10 rounded-xl bg-black border border-white/10 flex items-center justify-center",children:l.jsx("span",{className:"material-symbols-outlined text-slate-600 group-hover:text-primary transition-colors text-xl",children:d.type.includes("Vector")?"timeline":"image"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"text-xs font-bold text-white truncate",children:d.name}),l.jsx("p",{className:"text-[9px] text-slate-600 font-bold uppercase tracking-widest",children:d.type})]}),l.jsx("button",{className:"material-symbols-outlined text-slate-700 text-sm",children:"lock"})]},d.id))}),l.jsxs("div",{className:"flex gap-4 p-3 rounded-2xl bg-black/20 border border-white/5",children:[l.jsx("button",{className:"flex-1 p-2 rounded-xl hover:bg-white/5 text-slate-700 hover:text-white transition-all",children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete"})}),l.jsx("button",{className:"flex-1 p-2 rounded-xl hover:bg-white/5 text-slate-700 hover:text-white transition-all",children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:"content_copy"})}),l.jsx("button",{className:"flex-1 p-2 rounded-xl hover:bg-white/5 text-slate-700 hover:text-white transition-all",children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:"folder"})})]})]}),l.jsxs("div",{className:"p-6 rounded-[2rem] bg-gradient-to-br from-primary/20 to-orange-500/20 border border-white/10 space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"material-symbols-outlined text-primary",children:"auto_fix_high"}),l.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-white",children:"Vectorizacin Inteligente"})]}),l.jsx("p",{className:"text-[10px] text-slate-500 leading-relaxed font-manrope",children:"Arrastra una imagen para convertirla automticamente en nodos editables."}),l.jsx(Ne,{variant:"primary",size:"sm",className:"w-full text-[9px] py-3 rounded-xl shadow-lg",children:"Importar y Procesar"})]})]})]})]})},yo=({icon:e,active:t})=>l.jsx("button",{className:`py-4 rounded-xl border transition-all flex items-center justify-center ${t?"bg-primary/20 border-primary shadow-lg shadow-primary/20":"bg-white/5 border-white/5 hover:border-white/10"}`,children:l.jsx("span",{className:`material-symbols-outlined text-lg ${t?"text-white":"text-slate-600"}`,children:e})}),Ww=()=>{const[e,t]=y.useState("hub");return l.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#050508] overflow-hidden",children:[e==="hub"&&l.jsxs("div",{className:"flex-1 flex flex-col h-full relative",children:[l.jsx("button",{onClick:()=>t("foundry"),className:"absolute right-12 bottom-12 z-50 size-16 rounded-3xl bg-primary text-white flex items-center justify-center shadow-2xl shadow-primary/40 hover:scale-110 active:scale-95 transition-all group",title:"Glyph Foundry",children:l.jsx("span",{className:"material-symbols-outlined text-3xl group-hover:rotate-12 transition-transform duration-300",children:"font_download"})}),l.jsx(Vw,{onOpenEditor:()=>t("editor")})]}),e==="foundry"&&l.jsx(Uw,{onBack:()=>t("hub")}),e==="editor"&&l.jsx(Hw,{onBack:()=>t("hub"),onSave:()=>t("hub")})]})},Gw=()=>{const[e,t]=y.useState(null),[n,r]=y.useState([]),[s,i]=y.useState(0),[a,o]=y.useState(!1),[c,u]=y.useState({top:0,left:0}),[d,f]=y.useState([]),[p,m]=y.useState(!1),w=y.useRef(null);y.useEffect(()=>{g(),h()},[]);const g=async()=>{try{let I=(await X.get("/escritura/cuadernos"))[0];I||(I=await X.post("/escritura/cuaderno",{titulo:"Chronicle"})),t(I),N(I.id)}catch(P){console.error("Error loading notebook:",P)}},N=async P=>{try{const I=await X.get(`/escritura/cuaderno/${P}/hojas`);r(I)}catch(I){console.error("Error loading pages:",I)}},h=async()=>{try{const P=await X.get("/bd/entidadindividual"),I=await X.get("/bd/zona"),O=await X.get("/bd/entidadcolectiva");f([...P.map(B=>({id:B.id,name:B.nombre,type:"Character"})),...I.map(B=>({id:B.id,name:B.nombre,type:"Location"})),...O.map(B=>({id:B.id,name:B.nombre,type:"Item"}))])}catch(P){console.error("Error loading entities:",P)}},x=P=>{const I=[...n];I[s].contenido=P,r(I),w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{v(I[s])},1500)},v=async P=>{m(!0);try{await X.put(`/escritura/hoja/${P.id}`,{contenido:P.contenido})}catch(I){console.error("Error saving page:",I)}finally{m(!1)}},b=P=>{if(P.key==="@"){const I=P.target.getBoundingClientRect();u({top:I.top+20,left:Math.min(I.left+50,window.innerWidth-300)}),o(!0)}else P.key==="Escape"&&o(!1)},k=P=>{const I=n[s].contenido;x(I+P+" "),o(!1)},z=()=>{s<n.length-1?i(P=>P+1):E()},E=async()=>{try{const P=await X.post(`/escritura/cuaderno/${e.id}/hoja`,{});r([...n,P]),i(n.length)}catch(P){console.error("Error creating page:",P)}},C=n[s]||{contenido:"",numeroPagina:1},A=n[s+1];return l.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#050508] relative overflow-hidden",children:[l.jsxs("header",{className:"h-14 border-b border-white/5 bg-surface-dark/40 backdrop-blur-md flex items-center justify-between px-8 py-2",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{className:"p-2 rounded-lg hover:bg-white/5 text-slate-400 hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:"format_bold"})}),l.jsx("button",{className:"p-2 rounded-lg hover:bg-white/5 text-slate-400 hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:"format_italic"})}),l.jsx("button",{className:"p-2 rounded-lg hover:bg-white/5 text-slate-400 hover:text-white transition-colors",children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:"link"})}),l.jsx("div",{className:"w-px h-6 bg-white/10 mx-2"}),l.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 text-[10px] font-black uppercase tracking-widest text-slate-300 hover:bg-white/10 transition-all",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"auto_stories"}),"Book View"]})]}),l.jsx("div",{className:"flex items-center gap-6 text-[10px] font-black uppercase tracking-[0.2em] text-slate-600",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`size-1.5 rounded-full ${p?"bg-amber-500 animate-pulse":"bg-emerald-500"}`}),p?"SAVING...":"SYNCED"]})})]}),l.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar py-12 px-8 flex justify-center bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat",children:l.jsxs("div",{className:"w-full max-w-4xl flex items-stretch gap-1 bg-surface-dark/40 rounded-[2.5rem] border border-white/5 shadow-[0_50px_100px_-20px_rgba(0,0,0,0.5)] overflow-hidden relative group",children:[l.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-8 -translate-x-1/2 bg-gradient-to-r from-transparent via-black/40 to-transparent z-10 pointer-events-none"}),l.jsxs("article",{className:"flex-1 bg-white/[0.02] p-16 relative border-r border-white/5 flex flex-col gap-8",children:[l.jsxs("header",{className:"flex justify-between items-center opacity-30",children:[l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:(e==null?void 0:e.titulo)||"Untitled"}),l.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Sheet ",C.numeroPagina]})]}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[C.numeroPagina===1?l.jsx("h1",{className:"text-4xl font-manrope font-black text-white mb-12 tracking-tight",children:(e==null?void 0:e.titulo)||"The Stars We Inherit"}):null,l.jsx("textarea",{className:"flex-1 bg-transparent border-none outline-none resize-none text-slate-300 font-serif leading-loose text-lg placeholder:text-slate-700 custom-scrollbar",placeholder:"Once upon a time in the Nebula clusters...",value:C.contenido,onChange:P=>x(P.target.value),onKeyDown:b})]})]}),l.jsxs("article",{className:"flex-1 bg-white/[0.01] p-16 relative flex flex-col gap-8",children:[l.jsxs("header",{className:"flex justify-between items-center opacity-30",children:[l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Workspace"}),l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Viewer"})]}),l.jsx("div",{className:"flex-1 flex flex-col opacity-60",children:A?l.jsx("p",{className:"font-serif leading-loose text-lg select-none text-slate-500 whitespace-pre-wrap line-clamp-[20]",children:A.contenido||"This page is currently empty."}):l.jsx("p",{className:"font-serif leading-loose text-lg select-none pointer-events-none italic text-slate-500",children:"This is the end of the current manuscript. Navigating forward will create a new sheet."})})]}),l.jsx("div",{className:"absolute inset-y-0 left-0 w-20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx("button",{onClick:()=>i(P=>Math.max(0,P-1)),className:"size-12 rounded-full bg-black/40 border border-white/10 backdrop-blur-md text-white flex items-center justify-center hover:bg-black/60 transition-all -ml-4 shadow-xl",children:l.jsx("span",{className:"material-symbols-outlined",children:"chevron_left"})})}),l.jsx("div",{className:"absolute inset-y-0 right-0 w-20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx("button",{onClick:z,className:"size-12 rounded-full bg-black/40 border border-white/10 backdrop-blur-md text-white flex items-center justify-center hover:bg-black/60 transition-all -mr-4 shadow-xl",children:l.jsx("span",{className:"material-symbols-outlined",children:"chevron_right"})})})]})}),a&&l.jsxs(ie,{className:"absolute z-50 w-64 p-2 rounded-2xl border-primary/30 shadow-2xl shadow-primary/20 bg-surface-dark/90 backdrop-blur-xl animate-in fade-in zoom-in-95 duration-200",style:{top:c.top,left:c.left},children:[l.jsx("header",{className:"px-3 py-2 border-b border-white/5 mb-1",children:l.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-slate-500",children:"Reference Entity"})}),l.jsx("div",{className:"space-y-1",children:d.map(P=>l.jsxs("button",{onClick:()=>k(P.name),className:"w-full flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-primary/20 text-xs transition-all text-left",children:[l.jsx("span",{className:"material-symbols-outlined text-primary text-sm",children:P.type==="Character"?"person":P.type==="Location"?"location_on":"diamond"}),l.jsx("span",{className:"flex-1 font-bold text-slate-200",children:P.name}),l.jsx("span",{className:"text-[8px] font-black text-slate-600 uppercase tracking-widest",children:P.type})]},P.id))})]}),l.jsxs("footer",{className:"h-10 border-t border-white/5 bg-background-dark/80 px-8 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-6 text-[9px] font-black uppercase tracking-widest text-slate-600",children:[l.jsxs("span",{children:["Words: ",C.contenido.split(/\s+/).filter(Boolean).length]}),l.jsxs("span",{children:["Characters: ",C.contenido.length]})]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("span",{className:"text-[9px] font-black uppercase tracking-widest text-primary",children:["Sheet ",C.numeroPagina," of ",n.length]})})]})]})};function Yw(){const{id:e}=Dt();_t();const[t,n]=y.useState([]),[r,s]=y.useState(!0),[i,a]=y.useState(null);y.useEffect(()=>{o()},[e]);const o=async()=>{try{s(!0);const d=await X.get("/api/papelera/items");n(d),a(null)}catch(d){console.error("Error loading trash:",d),a("Failed to load trash items.")}finally{s(!1)}},c=async(d,f)=>{try{await X.post(`/api/papelera/restaurar/${d}/${f}`),o()}catch(p){console.error("Restoration failed",p)}},u=async(d,f)=>{if(window.confirm("Are you sure you want to PERMANENTLY delete this item? This cannot be undone."))try{await X.delete(`/api/papelera/eliminar/${d}/${f}`),o()}catch(p){console.error("Deletion failed",p)}};return r?l.jsx("div",{className:"text-white p-8",children:"Loading Trash Bin..."}):l.jsxs("div",{className:"flex flex-col h-full bg-[#09090b] text-white p-8 overflow-y-auto",children:[l.jsx("h1",{className:"text-3xl font-light mb-2 text-white/90",children:"Trash Bin"}),l.jsx("p",{className:"text-white/50 mb-8 font-light text-sm",children:"Items are automatically deleted after 30 days."}),i&&l.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-4 rounded mb-6",children:i}),t.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-50 border border-dashed border-white/10 rounded-xl",children:[l.jsx("span",{className:"material-symbols-outlined text-4xl mb-2",children:"delete_outline"}),l.jsx("p",{children:"Trash is empty"})]}):l.jsx("div",{className:"bg-zinc-900/50 rounded-xl border border-white/5 overflow-hidden",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-white/5 text-xs text-white/40 uppercase tracking-wider",children:[l.jsx("th",{className:"p-4 font-normal",children:"Name"}),l.jsx("th",{className:"p-4 font-normal",children:"Type"}),l.jsx("th",{className:"p-4 font-normal",children:"Deleted Date"}),l.jsx("th",{className:"p-4 font-normal text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-white/5",children:t.map(d=>l.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[l.jsx("td",{className:"p-4 text-white/80 font-medium",children:d.nombre||"Untitled"}),l.jsx("td",{className:"p-4 text-white/50 text-sm",children:d.tipo}),l.jsx("td",{className:"p-4 text-white/50 text-sm font-mono",children:d.deleted_date?new Date(d.deleted_date).toLocaleDateString():"-"}),l.jsxs("td",{className:"p-4 text-right space-x-2",children:[l.jsx("button",{onClick:()=>c(d.tipo,d.id),className:"px-3 py-1.5 text-xs bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 rounded-md transition-colors border border-emerald-500/20",children:"RESTORE"}),l.jsx("button",{onClick:()=>u(d.tipo,d.id),className:"px-3 py-1.5 text-xs bg-red-500/10 text-red-400 hover:bg-red-500/20 rounded-md transition-colors border border-red-500/20",children:"DELETE"})]})]},`${d.tipo}-${d.id}`))})]})})]})}function Ke(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ke(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var sx={exports:{}},lx={},ix={exports:{}},ax={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jr=y;function Xw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kw=typeof Object.is=="function"?Object.is:Xw,Qw=Jr.useState,Zw=Jr.useEffect,qw=Jr.useLayoutEffect,Jw=Jr.useDebugValue;function e1(e,t){var n=t(),r=Qw({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return qw(function(){s.value=n,s.getSnapshot=t,vo(s)&&i({inst:s})},[e,n,t]),Zw(function(){return vo(s)&&i({inst:s}),e(function(){vo(s)&&i({inst:s})})},[e]),Jw(n),n}function vo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kw(e,n)}catch{return!0}}function t1(e,t){return t()}var n1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t1:e1;ax.useSyncExternalStore=Jr.useSyncExternalStore!==void 0?Jr.useSyncExternalStore:n1;ix.exports=ax;var r1=ix.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ea=y,s1=r1;function l1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var i1=typeof Object.is=="function"?Object.is:l1,a1=s1.useSyncExternalStore,o1=Ea.useRef,c1=Ea.useEffect,u1=Ea.useMemo,d1=Ea.useDebugValue;lx.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=o1(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=u1(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),s!==void 0&&a.hasValue){var w=a.value;if(s(w,m))return f=w}return f=m}if(w=f,i1(d,m))return w;var g=r(m);return s!==void 0&&s(w,g)?(d=m,w):(d=m,f=g)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,s]);var o=a1(e,i[0],i[1]);return c1(function(){a.hasValue=!0,a.value=o},[o]),d1(o),o};sx.exports=lx;var f1=sx.exports;const p1=Cp(f1),Df=e=>{let t;const n=new Set,r=(d,f)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const m=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(w=>w(t,m))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{n.clear()}},u=t=e(r,s,c);return c},h1=e=>e?Df(e):Df,{useDebugValue:m1}=D,{useSyncExternalStoreWithSelector:x1}=p1,g1=e=>e;function ox(e,t=g1,n){const r=x1(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return m1(r),r}const Ff=(e,t)=>{const n=h1(e),r=(s,i=t)=>ox(n,s,i);return Object.assign(r,n),r},y1=(e,t)=>e?Ff(e,t):Ff;function Ue(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var v1={value:()=>{}};function _a(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new bi(n)}function bi(e){this._=e}function b1(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}bi.prototype=_a.prototype={constructor:bi,on:function(e,t){var n=this._,r=b1(e+"",n),s,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((s=(e=r[i]).type)&&(s=w1(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(s=(e=r[i]).type)n[s]=Of(n[s],e.name,t);else if(t==null)for(s in n)n[s]=Of(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new bi(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function w1(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function Of(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=v1,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ec="http://www.w3.org/1999/xhtml";const Bf={svg:"http://www.w3.org/2000/svg",xhtml:Ec,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ca(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Bf.hasOwnProperty(t)?{space:Bf[t],local:e}:e}function N1(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ec&&t.documentElement.namespaceURI===Ec?t.createElement(e):t.createElementNS(n,e)}}function j1(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function cx(e){var t=Ca(e);return(t.local?j1:N1)(t)}function k1(){}function Vu(e){return e==null?k1:function(){return this.querySelector(e)}}function S1(e){typeof e!="function"&&(e=Vu(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],a=i.length,o=r[s]=new Array(a),c,u,d=0;d<a;++d)(c=i[d])&&(u=e.call(c,c.__data__,d,i))&&("__data__"in c&&(u.__data__=c.__data__),o[d]=u);return new it(r,this._parents)}function E1(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function _1(){return[]}function ux(e){return e==null?_1:function(){return this.querySelectorAll(e)}}function C1(e){return function(){return E1(e.apply(this,arguments))}}function z1(e){typeof e=="function"?e=C1(e):e=ux(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var a=t[i],o=a.length,c,u=0;u<o;++u)(c=a[u])&&(r.push(e.call(c,c.__data__,u,a)),s.push(c));return new it(r,s)}function dx(e){return function(){return this.matches(e)}}function fx(e){return function(t){return t.matches(e)}}var T1=Array.prototype.find;function P1(e){return function(){return T1.call(this.children,e)}}function M1(){return this.firstElementChild}function $1(e){return this.select(e==null?M1:P1(typeof e=="function"?e:fx(e)))}var R1=Array.prototype.filter;function I1(){return Array.from(this.children)}function A1(e){return function(){return R1.call(this.children,e)}}function L1(e){return this.selectAll(e==null?I1:A1(typeof e=="function"?e:fx(e)))}function D1(e){typeof e!="function"&&(e=dx(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],a=i.length,o=r[s]=[],c,u=0;u<a;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&o.push(c);return new it(r,this._parents)}function px(e){return new Array(e.length)}function F1(){return new it(this._enter||this._groups.map(px),this._parents)}function qi(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}qi.prototype={constructor:qi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function O1(e){return function(){return e}}function B1(e,t,n,r,s,i){for(var a=0,o,c=t.length,u=i.length;a<u;++a)(o=t[a])?(o.__data__=i[a],r[a]=o):n[a]=new qi(e,i[a]);for(;a<c;++a)(o=t[a])&&(s[a]=o)}function V1(e,t,n,r,s,i,a){var o,c,u=new Map,d=t.length,f=i.length,p=new Array(d),m;for(o=0;o<d;++o)(c=t[o])&&(p[o]=m=a.call(c,c.__data__,o,t)+"",u.has(m)?s[o]=c:u.set(m,c));for(o=0;o<f;++o)m=a.call(e,i[o],o,i)+"",(c=u.get(m))?(r[o]=c,c.__data__=i[o],u.delete(m)):n[o]=new qi(e,i[o]);for(o=0;o<d;++o)(c=t[o])&&u.get(p[o])===c&&(s[o]=c)}function U1(e){return e.__data__}function H1(e,t){if(!arguments.length)return Array.from(this,U1);var n=t?V1:B1,r=this._parents,s=this._groups;typeof e!="function"&&(e=O1(e));for(var i=s.length,a=new Array(i),o=new Array(i),c=new Array(i),u=0;u<i;++u){var d=r[u],f=s[u],p=f.length,m=W1(e.call(d,d&&d.__data__,u,r)),w=m.length,g=o[u]=new Array(w),N=a[u]=new Array(w),h=c[u]=new Array(p);n(d,f,g,N,h,m,t);for(var x=0,v=0,b,k;x<w;++x)if(b=g[x]){for(x>=v&&(v=x+1);!(k=N[v])&&++v<w;);b._next=k||null}}return a=new it(a,r),a._enter=o,a._exit=c,a}function W1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function G1(){return new it(this._exit||this._groups.map(px),this._parents)}function Y1(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function X1(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,a=Math.min(s,i),o=new Array(s),c=0;c<a;++c)for(var u=n[c],d=r[c],f=u.length,p=o[c]=new Array(f),m,w=0;w<f;++w)(m=u[w]||d[w])&&(p[w]=m);for(;c<s;++c)o[c]=n[c];return new it(o,this._parents)}function K1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],a;--s>=0;)(a=r[s])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function Q1(e){e||(e=Z1);function t(f,p){return f&&p?e(f.__data__,p.__data__):!f-!p}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var a=n[i],o=a.length,c=s[i]=new Array(o),u,d=0;d<o;++d)(u=a[d])&&(c[d]=u);c.sort(t)}return new it(s,this._parents).order()}function Z1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function q1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function J1(){return Array.from(this)}function eN(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var a=r[s];if(a)return a}return null}function tN(){let e=0;for(const t of this)++e;return e}function nN(){return!this.node()}function rN(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,a=s.length,o;i<a;++i)(o=s[i])&&e.call(o,o.__data__,i,s);return this}function sN(e){return function(){this.removeAttribute(e)}}function lN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function iN(e,t){return function(){this.setAttribute(e,t)}}function aN(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function oN(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function cN(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function uN(e,t){var n=Ca(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?lN:sN:typeof t=="function"?n.local?cN:oN:n.local?aN:iN)(n,t))}function hx(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function dN(e){return function(){this.style.removeProperty(e)}}function fN(e,t,n){return function(){this.style.setProperty(e,t,n)}}function pN(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function hN(e,t,n){return arguments.length>1?this.each((t==null?dN:typeof t=="function"?pN:fN)(e,t,n??"")):es(this.node(),e)}function es(e,t){return e.style.getPropertyValue(t)||hx(e).getComputedStyle(e,null).getPropertyValue(t)}function mN(e){return function(){delete this[e]}}function xN(e,t){return function(){this[e]=t}}function gN(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function yN(e,t){return arguments.length>1?this.each((t==null?mN:typeof t=="function"?gN:xN)(e,t)):this.node()[e]}function mx(e){return e.trim().split(/^|\s+/)}function Uu(e){return e.classList||new xx(e)}function xx(e){this._node=e,this._names=mx(e.getAttribute("class")||"")}xx.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function gx(e,t){for(var n=Uu(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function yx(e,t){for(var n=Uu(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function vN(e){return function(){gx(this,e)}}function bN(e){return function(){yx(this,e)}}function wN(e,t){return function(){(t.apply(this,arguments)?gx:yx)(this,e)}}function NN(e,t){var n=mx(e+"");if(arguments.length<2){for(var r=Uu(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?wN:t?vN:bN)(n,t))}function jN(){this.textContent=""}function kN(e){return function(){this.textContent=e}}function SN(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function EN(e){return arguments.length?this.each(e==null?jN:(typeof e=="function"?SN:kN)(e)):this.node().textContent}function _N(){this.innerHTML=""}function CN(e){return function(){this.innerHTML=e}}function zN(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function TN(e){return arguments.length?this.each(e==null?_N:(typeof e=="function"?zN:CN)(e)):this.node().innerHTML}function PN(){this.nextSibling&&this.parentNode.appendChild(this)}function MN(){return this.each(PN)}function $N(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function RN(){return this.each($N)}function IN(e){var t=typeof e=="function"?e:cx(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function AN(){return null}function LN(e,t){var n=typeof e=="function"?e:cx(e),r=t==null?AN:typeof t=="function"?t:Vu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function DN(){var e=this.parentNode;e&&e.removeChild(this)}function FN(){return this.each(DN)}function ON(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function BN(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function VN(e){return this.select(e?BN:ON)}function UN(e){return arguments.length?this.property("__data__",e):this.node().__data__}function HN(e){return function(t){e.call(this,t,this.__data__)}}function WN(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function GN(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function YN(e,t,n){return function(){var r=this.__on,s,i=HN(t);if(r){for(var a=0,o=r.length;a<o;++a)if((s=r[a]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function XN(e,t,n){var r=WN(e+""),s,i=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var c=0,u=o.length,d;c<u;++c)for(s=0,d=o[c];s<i;++s)if((a=r[s]).type===d.type&&a.name===d.name)return d.value}return}for(o=t?YN:GN,s=0;s<i;++s)this.each(o(r[s],t,n));return this}function vx(e,t,n){var r=hx(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function KN(e,t){return function(){return vx(this,e,t)}}function QN(e,t){return function(){return vx(this,e,t.apply(this,arguments))}}function ZN(e,t){return this.each((typeof t=="function"?QN:KN)(e,t))}function*qN(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,a;s<i;++s)(a=r[s])&&(yield a)}var bx=[null];function it(e,t){this._groups=e,this._parents=t}function zl(){return new it([[document.documentElement]],bx)}function JN(){return this}it.prototype=zl.prototype={constructor:it,select:S1,selectAll:z1,selectChild:$1,selectChildren:L1,filter:D1,data:H1,enter:F1,exit:G1,join:Y1,merge:X1,selection:JN,order:K1,sort:Q1,call:q1,nodes:J1,node:eN,size:tN,empty:nN,each:rN,attr:uN,style:hN,property:yN,classed:NN,text:EN,html:TN,raise:MN,lower:RN,append:IN,insert:LN,remove:FN,clone:VN,datum:UN,on:XN,dispatch:ZN,[Symbol.iterator]:qN};function wt(e){return typeof e=="string"?new it([[document.querySelector(e)]],[document.documentElement]):new it([[e]],bx)}function ej(e){let t;for(;t=e.sourceEvent;)e=t;return e}function $t(e,t){if(e=ej(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const tj={passive:!1},pl={capture:!0,passive:!1};function bo(e){e.stopImmediatePropagation()}function Br(e){e.preventDefault(),e.stopImmediatePropagation()}function wx(e){var t=e.document.documentElement,n=wt(e).on("dragstart.drag",Br,pl);"onselectstart"in t?n.on("selectstart.drag",Br,pl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Nx(e,t){var n=e.document.documentElement,r=wt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Br,pl),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Jl=e=>()=>e;function _c(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:a,y:o,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}_c.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function nj(e){return!e.ctrlKey&&!e.button}function rj(){return this.parentNode}function sj(e,t){return t??{x:e.x,y:e.y}}function lj(){return navigator.maxTouchPoints||"ontouchstart"in this}function ij(){var e=nj,t=rj,n=sj,r=lj,s={},i=_a("start","drag","end"),a=0,o,c,u,d,f=0;function p(b){b.on("mousedown.drag",m).filter(r).on("touchstart.drag",N).on("touchmove.drag",h,tj).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(b,k){if(!(d||!e.call(this,b,k))){var z=v(this,t.call(this,b,k),b,k,"mouse");z&&(wt(b.view).on("mousemove.drag",w,pl).on("mouseup.drag",g,pl),wx(b.view),bo(b),u=!1,o=b.clientX,c=b.clientY,z("start",b))}}function w(b){if(Br(b),!u){var k=b.clientX-o,z=b.clientY-c;u=k*k+z*z>f}s.mouse("drag",b)}function g(b){wt(b.view).on("mousemove.drag mouseup.drag",null),Nx(b.view,u),Br(b),s.mouse("end",b)}function N(b,k){if(e.call(this,b,k)){var z=b.changedTouches,E=t.call(this,b,k),C=z.length,A,P;for(A=0;A<C;++A)(P=v(this,E,b,k,z[A].identifier,z[A]))&&(bo(b),P("start",b,z[A]))}}function h(b){var k=b.changedTouches,z=k.length,E,C;for(E=0;E<z;++E)(C=s[k[E].identifier])&&(Br(b),C("drag",b,k[E]))}function x(b){var k=b.changedTouches,z=k.length,E,C;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),E=0;E<z;++E)(C=s[k[E].identifier])&&(bo(b),C("end",b,k[E]))}function v(b,k,z,E,C,A){var P=i.copy(),I=$t(A||z,k),O,B,j;if((j=n.call(b,new _c("beforestart",{sourceEvent:z,target:p,identifier:C,active:a,x:I[0],y:I[1],dx:0,dy:0,dispatch:P}),E))!=null)return O=j.x-I[0]||0,B=j.y-I[1]||0,function R($,T,_){var S=I,M;switch($){case"start":s[C]=R,M=a++;break;case"end":delete s[C],--a;case"drag":I=$t(_||T,k),M=a;break}P.call($,b,new _c($,{sourceEvent:T,subject:j,target:p,identifier:C,active:M,x:I[0]+O,y:I[1]+B,dx:I[0]-S[0],dy:I[1]-S[1],dispatch:P}),E)}}return p.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Jl(!!b),p):e},p.container=function(b){return arguments.length?(t=typeof b=="function"?b:Jl(b),p):t},p.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Jl(b),p):n},p.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Jl(!!b),p):r},p.on=function(){var b=i.on.apply(i,arguments);return b===i?p:b},p.clickDistance=function(b){return arguments.length?(f=(b=+b)*b,p):Math.sqrt(f)},p}function Hu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jx(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Tl(){}var hl=.7,Ji=1/hl,Vr="\\s*([+-]?\\d+)\\s*",ml="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aj=/^#([0-9a-f]{3,8})$/,oj=new RegExp(`^rgb\\(${Vr},${Vr},${Vr}\\)$`),cj=new RegExp(`^rgb\\(${Lt},${Lt},${Lt}\\)$`),uj=new RegExp(`^rgba\\(${Vr},${Vr},${Vr},${ml}\\)$`),dj=new RegExp(`^rgba\\(${Lt},${Lt},${Lt},${ml}\\)$`),fj=new RegExp(`^hsl\\(${ml},${Lt},${Lt}\\)$`),pj=new RegExp(`^hsla\\(${ml},${Lt},${Lt},${ml}\\)$`),Vf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hu(Tl,xl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Uf,formatHex:Uf,formatHex8:hj,formatHsl:mj,formatRgb:Hf,toString:Hf});function Uf(){return this.rgb().formatHex()}function hj(){return this.rgb().formatHex8()}function mj(){return kx(this).formatHsl()}function Hf(){return this.rgb().formatRgb()}function xl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=aj.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Wf(t):n===3?new qe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ei(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ei(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oj.exec(e))?new qe(t[1],t[2],t[3],1):(t=cj.exec(e))?new qe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uj.exec(e))?ei(t[1],t[2],t[3],t[4]):(t=dj.exec(e))?ei(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fj.exec(e))?Xf(t[1],t[2]/100,t[3]/100,1):(t=pj.exec(e))?Xf(t[1],t[2]/100,t[3]/100,t[4]):Vf.hasOwnProperty(e)?Wf(Vf[e]):e==="transparent"?new qe(NaN,NaN,NaN,0):null}function Wf(e){return new qe(e>>16&255,e>>8&255,e&255,1)}function ei(e,t,n,r){return r<=0&&(e=t=n=NaN),new qe(e,t,n,r)}function xj(e){return e instanceof Tl||(e=xl(e)),e?(e=e.rgb(),new qe(e.r,e.g,e.b,e.opacity)):new qe}function Cc(e,t,n,r){return arguments.length===1?xj(e):new qe(e,t,n,r??1)}function qe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Hu(qe,Cc,jx(Tl,{brighter(e){return e=e==null?Ji:Math.pow(Ji,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hl:Math.pow(hl,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qe(er(this.r),er(this.g),er(this.b),ea(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gf,formatHex:Gf,formatHex8:gj,formatRgb:Yf,toString:Yf}));function Gf(){return`#${Kn(this.r)}${Kn(this.g)}${Kn(this.b)}`}function gj(){return`#${Kn(this.r)}${Kn(this.g)}${Kn(this.b)}${Kn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yf(){const e=ea(this.opacity);return`${e===1?"rgb(":"rgba("}${er(this.r)}, ${er(this.g)}, ${er(this.b)}${e===1?")":`, ${e})`}`}function ea(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function er(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Kn(e){return e=er(e),(e<16?"0":"")+e.toString(16)}function Xf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Nt(e,t,n,r)}function kx(e){if(e instanceof Nt)return new Nt(e.h,e.s,e.l,e.opacity);if(e instanceof Tl||(e=xl(e)),!e)return new Nt;if(e instanceof Nt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,o=i-s,c=(i+s)/2;return o?(t===i?a=(n-r)/o+(n<r)*6:n===i?a=(r-t)/o+2:a=(t-n)/o+4,o/=c<.5?i+s:2-i-s,a*=60):o=c>0&&c<1?0:a,new Nt(a,o,c,e.opacity)}function yj(e,t,n,r){return arguments.length===1?kx(e):new Nt(e,t,n,r??1)}function Nt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Hu(Nt,yj,jx(Tl,{brighter(e){return e=e==null?Ji:Math.pow(Ji,e),new Nt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hl:Math.pow(hl,e),new Nt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new qe(wo(e>=240?e-240:e+120,s,r),wo(e,s,r),wo(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Nt(Kf(this.h),ti(this.s),ti(this.l),ea(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ea(this.opacity);return`${e===1?"hsl(":"hsla("}${Kf(this.h)}, ${ti(this.s)*100}%, ${ti(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Kf(e){return e=(e||0)%360,e<0?e+360:e}function ti(e){return Math.max(0,Math.min(1,e||0))}function wo(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Sx=e=>()=>e;function vj(e,t){return function(n){return e+n*t}}function bj(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function wj(e){return(e=+e)==1?Ex:function(t,n){return n-t?bj(t,n,e):Sx(isNaN(t)?n:t)}}function Ex(e,t){var n=t-e;return n?vj(e,n):Sx(isNaN(e)?t:e)}const Qf=function e(t){var n=wj(t);function r(s,i){var a=n((s=Cc(s)).r,(i=Cc(i)).r),o=n(s.g,i.g),c=n(s.b,i.b),u=Ex(s.opacity,i.opacity);return function(d){return s.r=a(d),s.g=o(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function dn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var zc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,No=new RegExp(zc.source,"g");function Nj(e){return function(){return e}}function jj(e){return function(t){return e(t)+""}}function kj(e,t){var n=zc.lastIndex=No.lastIndex=0,r,s,i,a=-1,o=[],c=[];for(e=e+"",t=t+"";(r=zc.exec(e))&&(s=No.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),o[a]?o[a]+=i:o[++a]=i),(r=r[0])===(s=s[0])?o[a]?o[a]+=s:o[++a]=s:(o[++a]=null,c.push({i:a,x:dn(r,s)})),n=No.lastIndex;return n<t.length&&(i=t.slice(n),o[a]?o[a]+=i:o[++a]=i),o.length<2?c[0]?jj(c[0].x):Nj(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}var Zf=180/Math.PI,Tc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _x(e,t,n,r,s,i){var a,o,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,c/=o),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*Zf,skewX:Math.atan(c)*Zf,scaleX:a,scaleY:o}}var ni;function Sj(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Tc:_x(t.a,t.b,t.c,t.d,t.e,t.f)}function Ej(e){return e==null||(ni||(ni=document.createElementNS("http://www.w3.org/2000/svg","g")),ni.setAttribute("transform",e),!(e=ni.transform.baseVal.consolidate()))?Tc:(e=e.matrix,_x(e.a,e.b,e.c,e.d,e.e,e.f))}function Cx(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function i(u,d,f,p,m,w){if(u!==f||d!==p){var g=m.push("translate(",null,t,null,n);w.push({i:g-4,x:dn(u,f)},{i:g-2,x:dn(d,p)})}else(f||p)&&m.push("translate("+f+t+p+n)}function a(u,d,f,p){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),p.push({i:f.push(s(f)+"rotate(",null,r)-2,x:dn(u,d)})):d&&f.push(s(f)+"rotate("+d+r)}function o(u,d,f,p){u!==d?p.push({i:f.push(s(f)+"skewX(",null,r)-2,x:dn(u,d)}):d&&f.push(s(f)+"skewX("+d+r)}function c(u,d,f,p,m,w){if(u!==f||d!==p){var g=m.push(s(m)+"scale(",null,",",null,")");w.push({i:g-4,x:dn(u,f)},{i:g-2,x:dn(d,p)})}else(f!==1||p!==1)&&m.push(s(m)+"scale("+f+","+p+")")}return function(u,d){var f=[],p=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,f,p),a(u.rotate,d.rotate,f,p),o(u.skewX,d.skewX,f,p),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,p),u=d=null,function(m){for(var w=-1,g=p.length,N;++w<g;)f[(N=p[w]).i]=N.x(m);return f.join("")}}}var _j=Cx(Sj,"px, ","px)","deg)"),Cj=Cx(Ej,", ",")",")"),zj=1e-12;function qf(e){return((e=Math.exp(e))+1/e)/2}function Tj(e){return((e=Math.exp(e))-1/e)/2}function Pj(e){return((e=Math.exp(2*e))-1)/(e+1)}const Mj=function e(t,n,r){function s(i,a){var o=i[0],c=i[1],u=i[2],d=a[0],f=a[1],p=a[2],m=d-o,w=f-c,g=m*m+w*w,N,h;if(g<zj)h=Math.log(p/u)/t,N=function(E){return[o+E*m,c+E*w,u*Math.exp(t*E*h)]};else{var x=Math.sqrt(g),v=(p*p-u*u+r*g)/(2*u*n*x),b=(p*p-u*u-r*g)/(2*p*n*x),k=Math.log(Math.sqrt(v*v+1)-v),z=Math.log(Math.sqrt(b*b+1)-b);h=(z-k)/t,N=function(E){var C=E*h,A=qf(k),P=u/(n*x)*(A*Pj(t*C+k)-Tj(k));return[o+P*m,c+P*w,u*A/qf(t*C+k)]}}return N.duration=h*1e3*t/Math.SQRT2,N}return s.rho=function(i){var a=Math.max(.001,+i),o=a*a,c=o*o;return e(a,o,c)},s}(Math.SQRT2,2,4);var ts=0,Is=0,Ss=0,zx=1e3,ta,As,na=0,ir=0,za=0,gl=typeof performance=="object"&&performance.now?performance:Date,Tx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Wu(){return ir||(Tx($j),ir=gl.now()+za)}function $j(){ir=0}function ra(){this._call=this._time=this._next=null}ra.prototype=Px.prototype={constructor:ra,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Wu():+n)+(t==null?0:+t),!this._next&&As!==this&&(As?As._next=this:ta=this,As=this),this._call=e,this._time=n,Pc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pc())}};function Px(e,t,n){var r=new ra;return r.restart(e,t,n),r}function Rj(){Wu(),++ts;for(var e=ta,t;e;)(t=ir-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ts}function Jf(){ir=(na=gl.now())+za,ts=Is=0;try{Rj()}finally{ts=0,Aj(),ir=0}}function Ij(){var e=gl.now(),t=e-na;t>zx&&(za-=t,na=e)}function Aj(){for(var e,t=ta,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ta=n);As=e,Pc(r)}function Pc(e){if(!ts){Is&&(Is=clearTimeout(Is));var t=e-ir;t>24?(e<1/0&&(Is=setTimeout(Jf,e-gl.now()-za)),Ss&&(Ss=clearInterval(Ss))):(Ss||(na=gl.now(),Ss=setInterval(Ij,zx)),ts=1,Tx(Jf))}}function ep(e,t,n){var r=new ra;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var Lj=_a("start","end","cancel","interrupt"),Dj=[],Mx=0,tp=1,Mc=2,wi=3,np=4,$c=5,Ni=6;function Ta(e,t,n,r,s,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Fj(e,n,{name:t,index:r,group:s,on:Lj,tween:Dj,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Mx})}function Gu(e,t){var n=Ct(e,t);if(n.state>Mx)throw new Error("too late; already scheduled");return n}function Ft(e,t){var n=Ct(e,t);if(n.state>wi)throw new Error("too late; already running");return n}function Ct(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Fj(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=Px(i,0,n.time);function i(u){n.state=tp,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var d,f,p,m;if(n.state!==tp)return c();for(d in r)if(m=r[d],m.name===n.name){if(m.state===wi)return ep(a);m.state===np?(m.state=Ni,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[d]):+d<t&&(m.state=Ni,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[d])}if(ep(function(){n.state===wi&&(n.state=np,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=Mc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Mc){for(n.state=wi,s=new Array(p=n.tween.length),d=0,f=-1;d<p;++d)(m=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=m);s.length=f+1}}function o(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=$c,1),f=-1,p=s.length;++f<p;)s[f].call(e,d);n.state===$c&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Ni,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function ji(e,t){var n=e.__transition,r,s,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){i=!1;continue}s=r.state>Mc&&r.state<$c,r.state=Ni,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}i&&delete e.__transition}}function Oj(e){return this.each(function(){ji(this,e)})}function Bj(e,t){var n,r;return function(){var s=Ft(this,e),i=s.tween;if(i!==n){r=n=i;for(var a=0,o=r.length;a<o;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}s.tween=r}}function Vj(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=Ft(this,e),a=i.tween;if(a!==r){s=(r=a).slice();for(var o={name:t,value:n},c=0,u=s.length;c<u;++c)if(s[c].name===t){s[c]=o;break}c===u&&s.push(o)}i.tween=s}}function Uj(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ct(this.node(),n).tween,s=0,i=r.length,a;s<i;++s)if((a=r[s]).name===e)return a.value;return null}return this.each((t==null?Bj:Vj)(n,e,t))}function Yu(e,t,n){var r=e._id;return e.each(function(){var s=Ft(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Ct(s,r).value[t]}}function $x(e,t){var n;return(typeof t=="number"?dn:t instanceof xl?Qf:(n=xl(t))?(t=n,Qf):kj)(e,t)}function Hj(e){return function(){this.removeAttribute(e)}}function Wj(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Gj(e,t,n){var r,s=n+"",i;return function(){var a=this.getAttribute(e);return a===s?null:a===r?i:i=t(r=a,n)}}function Yj(e,t,n){var r,s=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===s?null:a===r?i:i=t(r=a,n)}}function Xj(e,t,n){var r,s,i;return function(){var a,o=n(this),c;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=o+"",a===c?null:a===r&&c===s?i:(s=c,i=t(r=a,o)))}}function Kj(e,t,n){var r,s,i;return function(){var a,o=n(this),c;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=o+"",a===c?null:a===r&&c===s?i:(s=c,i=t(r=a,o)))}}function Qj(e,t){var n=Ca(e),r=n==="transform"?Cj:$x;return this.attrTween(e,typeof t=="function"?(n.local?Kj:Xj)(n,r,Yu(this,"attr."+e,t)):t==null?(n.local?Wj:Hj)(n):(n.local?Yj:Gj)(n,r,t))}function Zj(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function qj(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Jj(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&qj(e,i)),n}return s._value=t,s}function e2(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Zj(e,i)),n}return s._value=t,s}function t2(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ca(e);return this.tween(n,(r.local?Jj:e2)(r,t))}function n2(e,t){return function(){Gu(this,e).delay=+t.apply(this,arguments)}}function r2(e,t){return t=+t,function(){Gu(this,e).delay=t}}function s2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?n2:r2)(t,e)):Ct(this.node(),t).delay}function l2(e,t){return function(){Ft(this,e).duration=+t.apply(this,arguments)}}function i2(e,t){return t=+t,function(){Ft(this,e).duration=t}}function a2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?l2:i2)(t,e)):Ct(this.node(),t).duration}function o2(e,t){if(typeof t!="function")throw new Error;return function(){Ft(this,e).ease=t}}function c2(e){var t=this._id;return arguments.length?this.each(o2(t,e)):Ct(this.node(),t).ease}function u2(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ft(this,e).ease=n}}function d2(e){if(typeof e!="function")throw new Error;return this.each(u2(this._id,e))}function f2(e){typeof e!="function"&&(e=dx(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],a=i.length,o=r[s]=[],c,u=0;u<a;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&o.push(c);return new en(r,this._parents,this._name,this._id)}function p2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),a=new Array(r),o=0;o<i;++o)for(var c=t[o],u=n[o],d=c.length,f=a[o]=new Array(d),p,m=0;m<d;++m)(p=c[m]||u[m])&&(f[m]=p);for(;o<r;++o)a[o]=t[o];return new en(a,this._parents,this._name,this._id)}function h2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function m2(e,t,n){var r,s,i=h2(t)?Gu:Ft;return function(){var a=i(this,e),o=a.on;o!==r&&(s=(r=o).copy()).on(t,n),a.on=s}}function x2(e,t){var n=this._id;return arguments.length<2?Ct(this.node(),n).on.on(e):this.each(m2(n,e,t))}function g2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function y2(){return this.on("end.remove",g2(this._id))}function v2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Vu(e));for(var r=this._groups,s=r.length,i=new Array(s),a=0;a<s;++a)for(var o=r[a],c=o.length,u=i[a]=new Array(c),d,f,p=0;p<c;++p)(d=o[p])&&(f=e.call(d,d.__data__,p,o))&&("__data__"in d&&(f.__data__=d.__data__),u[p]=f,Ta(u[p],t,n,p,u,Ct(d,n)));return new en(i,this._parents,t,n)}function b2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ux(e));for(var r=this._groups,s=r.length,i=[],a=[],o=0;o<s;++o)for(var c=r[o],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var p=e.call(d,d.__data__,f,c),m,w=Ct(d,n),g=0,N=p.length;g<N;++g)(m=p[g])&&Ta(m,t,n,g,p,w);i.push(p),a.push(d)}return new en(i,a,t,n)}var w2=zl.prototype.constructor;function N2(){return new w2(this._groups,this._parents)}function j2(e,t){var n,r,s;return function(){var i=es(this,e),a=(this.style.removeProperty(e),es(this,e));return i===a?null:i===n&&a===r?s:s=t(n=i,r=a)}}function Rx(e){return function(){this.style.removeProperty(e)}}function k2(e,t,n){var r,s=n+"",i;return function(){var a=es(this,e);return a===s?null:a===r?i:i=t(r=a,n)}}function S2(e,t,n){var r,s,i;return function(){var a=es(this,e),o=n(this),c=o+"";return o==null&&(c=o=(this.style.removeProperty(e),es(this,e))),a===c?null:a===r&&c===s?i:(s=c,i=t(r=a,o))}}function E2(e,t){var n,r,s,i="style."+t,a="end."+i,o;return function(){var c=Ft(this,e),u=c.on,d=c.value[i]==null?o||(o=Rx(t)):void 0;(u!==n||s!==d)&&(r=(n=u).copy()).on(a,s=d),c.on=r}}function _2(e,t,n){var r=(e+="")=="transform"?_j:$x;return t==null?this.styleTween(e,j2(e,r)).on("end.style."+e,Rx(e)):typeof t=="function"?this.styleTween(e,S2(e,r,Yu(this,"style."+e,t))).each(E2(this._id,e)):this.styleTween(e,k2(e,r,t),n).on("end.style."+e,null)}function C2(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function z2(e,t,n){var r,s;function i(){var a=t.apply(this,arguments);return a!==s&&(r=(s=a)&&C2(e,a,n)),r}return i._value=t,i}function T2(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,z2(e,t,n??""))}function P2(e){return function(){this.textContent=e}}function M2(e){return function(){var t=e(this);this.textContent=t??""}}function $2(e){return this.tween("text",typeof e=="function"?M2(Yu(this,"text",e)):P2(e==null?"":e+""))}function R2(e){return function(t){this.textContent=e.call(this,t)}}function I2(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&R2(s)),t}return r._value=e,r}function A2(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,I2(e))}function L2(){for(var e=this._name,t=this._id,n=Ix(),r=this._groups,s=r.length,i=0;i<s;++i)for(var a=r[i],o=a.length,c,u=0;u<o;++u)if(c=a[u]){var d=Ct(c,t);Ta(c,e,n,u,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new en(r,this._parents,e,n)}function D2(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,a){var o={value:a},c={value:function(){--s===0&&i()}};n.each(function(){var u=Ft(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(c)),u.on=t}),s===0&&i()})}var F2=0;function en(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Ix(){return++F2}var Ut=zl.prototype;en.prototype={constructor:en,select:v2,selectAll:b2,selectChild:Ut.selectChild,selectChildren:Ut.selectChildren,filter:f2,merge:p2,selection:N2,transition:L2,call:Ut.call,nodes:Ut.nodes,node:Ut.node,size:Ut.size,empty:Ut.empty,each:Ut.each,on:x2,attr:Qj,attrTween:t2,style:_2,styleTween:T2,text:$2,textTween:A2,remove:y2,tween:Uj,delay:s2,duration:a2,ease:c2,easeVarying:d2,end:D2,[Symbol.iterator]:Ut[Symbol.iterator]};function O2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var B2={time:null,delay:0,duration:250,ease:O2};function V2(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function U2(e){var t,n;e instanceof en?(t=e._id,e=e._name):(t=Ix(),(n=B2).time=Wu(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var a=r[i],o=a.length,c,u=0;u<o;++u)(c=a[u])&&Ta(c,e,t,u,a,n||V2(c,t));return new en(r,this._parents,e,t)}zl.prototype.interrupt=Oj;zl.prototype.transition=U2;const ri=e=>()=>e;function H2(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Xt(e,t,n){this.k=e,this.x=t,this.y=n}Xt.prototype={constructor:Xt,scale:function(e){return e===1?this:new Xt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Xt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Cn=new Xt(1,0,0);Xt.prototype;function jo(e){e.stopImmediatePropagation()}function Es(e){e.preventDefault(),e.stopImmediatePropagation()}function W2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function G2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function rp(){return this.__zoom||Cn}function Y2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function X2(){return navigator.maxTouchPoints||"ontouchstart"in this}function K2(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function Q2(){var e=W2,t=G2,n=K2,r=Y2,s=X2,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=250,c=Mj,u=_a("start","zoom","end"),d,f,p,m=500,w=150,g=0,N=10;function h(j){j.property("__zoom",rp).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",P).filter(s).on("touchstart.zoom",I).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.transform=function(j,R,$,T){var _=j.selection?j.selection():j;_.property("__zoom",rp),j!==_?k(j,R,$,T):_.interrupt().each(function(){z(this,arguments).event(T).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},h.scaleBy=function(j,R,$,T){h.scaleTo(j,function(){var _=this.__zoom.k,S=typeof R=="function"?R.apply(this,arguments):R;return _*S},$,T)},h.scaleTo=function(j,R,$,T){h.transform(j,function(){var _=t.apply(this,arguments),S=this.__zoom,M=$==null?b(_):typeof $=="function"?$.apply(this,arguments):$,L=S.invert(M),F=typeof R=="function"?R.apply(this,arguments):R;return n(v(x(S,F),M,L),_,a)},$,T)},h.translateBy=function(j,R,$,T){h.transform(j,function(){return n(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof $=="function"?$.apply(this,arguments):$),t.apply(this,arguments),a)},null,T)},h.translateTo=function(j,R,$,T,_){h.transform(j,function(){var S=t.apply(this,arguments),M=this.__zoom,L=T==null?b(S):typeof T=="function"?T.apply(this,arguments):T;return n(Cn.translate(L[0],L[1]).scale(M.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof $=="function"?-$.apply(this,arguments):-$),S,a)},T,_)};function x(j,R){return R=Math.max(i[0],Math.min(i[1],R)),R===j.k?j:new Xt(R,j.x,j.y)}function v(j,R,$){var T=R[0]-$[0]*j.k,_=R[1]-$[1]*j.k;return T===j.x&&_===j.y?j:new Xt(j.k,T,_)}function b(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function k(j,R,$,T){j.on("start.zoom",function(){z(this,arguments).event(T).start()}).on("interrupt.zoom end.zoom",function(){z(this,arguments).event(T).end()}).tween("zoom",function(){var _=this,S=arguments,M=z(_,S).event(T),L=t.apply(_,S),F=$==null?b(L):typeof $=="function"?$.apply(_,S):$,W=Math.max(L[1][0]-L[0][0],L[1][1]-L[0][1]),U=_.__zoom,q=typeof R=="function"?R.apply(_,S):R,te=c(U.invert(F).concat(W/U.k),q.invert(F).concat(W/q.k));return function(ne){if(ne===1)ne=q;else{var ce=te(ne),fe=W/ce[2];ne=new Xt(fe,F[0]-ce[0]*fe,F[1]-ce[1]*fe)}M.zoom(null,ne)}})}function z(j,R,$){return!$&&j.__zooming||new E(j,R)}function E(j,R){this.that=j,this.args=R,this.active=0,this.sourceEvent=null,this.extent=t.apply(j,R),this.taps=0}E.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,R){return this.mouse&&j!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var R=wt(this.that).datum();u.call(j,this.that,new H2(j,{sourceEvent:this.sourceEvent,target:h,type:j,transform:this.that.__zoom,dispatch:u}),R)}};function C(j,...R){if(!e.apply(this,arguments))return;var $=z(this,R).event(j),T=this.__zoom,_=Math.max(i[0],Math.min(i[1],T.k*Math.pow(2,r.apply(this,arguments)))),S=$t(j);if($.wheel)($.mouse[0][0]!==S[0]||$.mouse[0][1]!==S[1])&&($.mouse[1]=T.invert($.mouse[0]=S)),clearTimeout($.wheel);else{if(T.k===_)return;$.mouse=[S,T.invert(S)],ji(this),$.start()}Es(j),$.wheel=setTimeout(M,w),$.zoom("mouse",n(v(x(T,_),$.mouse[0],$.mouse[1]),$.extent,a));function M(){$.wheel=null,$.end()}}function A(j,...R){if(p||!e.apply(this,arguments))return;var $=j.currentTarget,T=z(this,R,!0).event(j),_=wt(j.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",W,!0),S=$t(j,$),M=j.clientX,L=j.clientY;wx(j.view),jo(j),T.mouse=[S,this.__zoom.invert(S)],ji(this),T.start();function F(U){if(Es(U),!T.moved){var q=U.clientX-M,te=U.clientY-L;T.moved=q*q+te*te>g}T.event(U).zoom("mouse",n(v(T.that.__zoom,T.mouse[0]=$t(U,$),T.mouse[1]),T.extent,a))}function W(U){_.on("mousemove.zoom mouseup.zoom",null),Nx(U.view,T.moved),Es(U),T.event(U).end()}}function P(j,...R){if(e.apply(this,arguments)){var $=this.__zoom,T=$t(j.changedTouches?j.changedTouches[0]:j,this),_=$.invert(T),S=$.k*(j.shiftKey?.5:2),M=n(v(x($,S),T,_),t.apply(this,R),a);Es(j),o>0?wt(this).transition().duration(o).call(k,M,T,j):wt(this).call(h.transform,M,T,j)}}function I(j,...R){if(e.apply(this,arguments)){var $=j.touches,T=$.length,_=z(this,R,j.changedTouches.length===T).event(j),S,M,L,F;for(jo(j),M=0;M<T;++M)L=$[M],F=$t(L,this),F=[F,this.__zoom.invert(F),L.identifier],_.touch0?!_.touch1&&_.touch0[2]!==F[2]&&(_.touch1=F,_.taps=0):(_.touch0=F,S=!0,_.taps=1+!!d);d&&(d=clearTimeout(d)),S&&(_.taps<2&&(f=F[0],d=setTimeout(function(){d=null},m)),ji(this),_.start())}}function O(j,...R){if(this.__zooming){var $=z(this,R).event(j),T=j.changedTouches,_=T.length,S,M,L,F;for(Es(j),S=0;S<_;++S)M=T[S],L=$t(M,this),$.touch0&&$.touch0[2]===M.identifier?$.touch0[0]=L:$.touch1&&$.touch1[2]===M.identifier&&($.touch1[0]=L);if(M=$.that.__zoom,$.touch1){var W=$.touch0[0],U=$.touch0[1],q=$.touch1[0],te=$.touch1[1],ne=(ne=q[0]-W[0])*ne+(ne=q[1]-W[1])*ne,ce=(ce=te[0]-U[0])*ce+(ce=te[1]-U[1])*ce;M=x(M,Math.sqrt(ne/ce)),L=[(W[0]+q[0])/2,(W[1]+q[1])/2],F=[(U[0]+te[0])/2,(U[1]+te[1])/2]}else if($.touch0)L=$.touch0[0],F=$.touch0[1];else return;$.zoom("touch",n(v(M,L,F),$.extent,a))}}function B(j,...R){if(this.__zooming){var $=z(this,R).event(j),T=j.changedTouches,_=T.length,S,M;for(jo(j),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),S=0;S<_;++S)M=T[S],$.touch0&&$.touch0[2]===M.identifier?delete $.touch0:$.touch1&&$.touch1[2]===M.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(M=$t(M,this),Math.hypot(f[0]-M[0],f[1]-M[1])<N)){var L=wt(this).on("dblclick.zoom");L&&L.apply(this,arguments)}}}return h.wheelDelta=function(j){return arguments.length?(r=typeof j=="function"?j:ri(+j),h):r},h.filter=function(j){return arguments.length?(e=typeof j=="function"?j:ri(!!j),h):e},h.touchable=function(j){return arguments.length?(s=typeof j=="function"?j:ri(!!j),h):s},h.extent=function(j){return arguments.length?(t=typeof j=="function"?j:ri([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),h):t},h.scaleExtent=function(j){return arguments.length?(i[0]=+j[0],i[1]=+j[1],h):[i[0],i[1]]},h.translateExtent=function(j){return arguments.length?(a[0][0]=+j[0][0],a[1][0]=+j[1][0],a[0][1]=+j[0][1],a[1][1]=+j[1][1],h):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},h.constrain=function(j){return arguments.length?(n=j,h):n},h.duration=function(j){return arguments.length?(o=+j,h):o},h.interpolate=function(j){return arguments.length?(c=j,h):c},h.on=function(){var j=u.on.apply(u,arguments);return j===u?h:j},h.clickDistance=function(j){return arguments.length?(g=(j=+j)*j,h):Math.sqrt(g)},h.tapDistance=function(j){return arguments.length?(N=+j,h):N},h}const Pa=y.createContext(null),Z2=Pa.Provider,tn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Ax=tn.error001();function ke(e,t){const n=y.useContext(Pa);if(n===null)throw new Error(Ax);return ox(n,e,t)}const Re=()=>{const e=y.useContext(Pa);if(e===null)throw new Error(Ax);return y.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},q2=e=>e.userSelectionActive?"none":"all";function Lx({position:e,children:t,className:n,style:r,...s}){const i=ke(q2),a=`${e}`.split("-");return D.createElement("div",{className:Ke(["react-flow__panel",n,...a]),style:{...r,pointerEvents:i},...s},t)}function J2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:D.createElement(Lx,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},D.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const ek=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:a=[2,4],labelBgBorderRadius:o=2,children:c,className:u,...d})=>{const f=y.useRef(null),[p,m]=y.useState({x:0,y:0,width:0,height:0}),w=Ke(["react-flow__edge-textwrapper",u]);return y.useEffect(()=>{if(f.current){const g=f.current.getBBox();m({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:D.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:w,visibility:p.width?"visible":"hidden",...d},s&&D.createElement("rect",{width:p.width+2*a[0],x:-a[0],y:-a[1],height:p.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:o,ry:o}),D.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:f,style:r},n),c)};var tk=y.memo(ek);const Xu=e=>({width:e.offsetWidth,height:e.offsetHeight}),ns=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ku=(e={x:0,y:0},t)=>({x:ns(e.x,t[0][0],t[1][0]),y:ns(e.y,t[0][1],t[1][1])}),sp=(e,t,n)=>e<t?ns(Math.abs(e-t),1,50)/50:e>n?-ns(Math.abs(e-n),1,50)/50:0,Dx=(e,t)=>{const n=sp(e.x,35,t.width-35)*20,r=sp(e.y,35,t.height-35)*20;return[n,r]},Fx=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},nk=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Qu=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),rk=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),lp=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Rc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},sk=e=>ft(e.width)&&ft(e.height)&&ft(e.x)&&ft(e.y),ft=e=>!isNaN(e)&&isFinite(e),Ee=Symbol.for("internals"),Ox=["Enter"," ","Escape"],lk=(e,t)=>{},ik=e=>"nativeEvent"in e;function Ic(e){var s,i;const t=ik(e)?e.nativeEvent:e,n=((i=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Bx=e=>"clientX"in e,zn=(e,t)=>{var i,a;const n=Bx(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},sa=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Pl=({id:e,path:t,labelX:n,labelY:r,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:p,interactionWidth:m=20})=>D.createElement(D.Fragment,null,D.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:p}),m&&D.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),s&&ft(n)&&ft(r)?D.createElement(tk,{x:n,y:r,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u}):null);Pl.displayName="BaseEdge";function _s(e,t,n){return n===void 0?n:r=>{const s=t().edges.find(i=>i.id===e);s&&n(r,{...s})}}function Vx({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,a=Math.abs(r-t)/2,o=r<t?r+a:r-a;return[i,o,s,a]}function Ux({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:a,targetControlY:o}){const c=e*.125+s*.375+a*.375+n*.125,u=t*.125+i*.375+o*.375+r*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var ar;(function(e){e.Strict="strict",e.Loose="loose"})(ar||(ar={}));var Qn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Qn||(Qn={}));var yl;(function(e){e.Partial="partial",e.Full="full"})(yl||(yl={}));var mn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(mn||(mn={}));var la;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(la||(la={}));var Q;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Q||(Q={}));function ip({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===Q.Left||e===Q.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function Hx({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:s,targetPosition:i=Q.Top}){const[a,o]=ip({pos:n,x1:e,y1:t,x2:r,y2:s}),[c,u]=ip({pos:i,x1:r,y1:s,x2:e,y2:t}),[d,f,p,m]=Ux({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:o,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${o} ${c},${u} ${r},${s}`,d,f,p,m]}const Zu=y.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=Q.Bottom,targetPosition:i=Q.Top,label:a,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:w,interactionWidth:g})=>{const[N,h,x]=Hx({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i});return D.createElement(Pl,{path:N,labelX:h,labelY:x,label:a,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:w,interactionWidth:g})});Zu.displayName="SimpleBezierEdge";const ap={[Q.Left]:{x:-1,y:0},[Q.Right]:{x:1,y:0},[Q.Top]:{x:0,y:-1},[Q.Bottom]:{x:0,y:1}},ak=({source:e,sourcePosition:t=Q.Bottom,target:n})=>t===Q.Left||t===Q.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},op=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function ok({source:e,sourcePosition:t=Q.Bottom,target:n,targetPosition:r=Q.Top,center:s,offset:i}){const a=ap[t],o=ap[r],c={x:e.x+a.x*i,y:e.y+a.y*i},u={x:n.x+o.x*i,y:n.y+o.y*i},d=ak({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",p=d[f];let m=[],w,g;const N={x:0,y:0},h={x:0,y:0},[x,v,b,k]=Vx({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[f]*o[f]===-1){w=s.x??x,g=s.y??v;const E=[{x:w,y:c.y},{x:w,y:u.y}],C=[{x:c.x,y:g},{x:u.x,y:g}];a[f]===p?m=f==="x"?E:C:m=f==="x"?C:E}else{const E=[{x:c.x,y:u.y}],C=[{x:u.x,y:c.y}];if(f==="x"?m=a.x===p?C:E:m=a.y===p?E:C,t===r){const B=Math.abs(e[f]-n[f]);if(B<=i){const j=Math.min(i-1,i-B);a[f]===p?N[f]=(c[f]>e[f]?-1:1)*j:h[f]=(u[f]>n[f]?-1:1)*j}}if(t!==r){const B=f==="x"?"y":"x",j=a[f]===o[B],R=c[B]>u[B],$=c[B]<u[B];(a[f]===1&&(!j&&R||j&&$)||a[f]!==1&&(!j&&$||j&&R))&&(m=f==="x"?E:C)}const A={x:c.x+N.x,y:c.y+N.y},P={x:u.x+h.x,y:u.y+h.y},I=Math.max(Math.abs(A.x-m[0].x),Math.abs(P.x-m[0].x)),O=Math.max(Math.abs(A.y-m[0].y),Math.abs(P.y-m[0].y));I>=O?(w=(A.x+P.x)/2,g=m[0].y):(w=m[0].x,g=(A.y+P.y)/2)}return[[e,{x:c.x+N.x,y:c.y+N.y},...m,{x:u.x+h.x,y:u.y+h.y},n],w,g,b,k]}function ck(e,t,n,r){const s=Math.min(op(e,t)/2,op(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+s*u},${a}Q ${i},${a} ${i},${a+s*d}`}const o=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${a+s*c}Q ${i},${a} ${i+s*o},${a}`}function Ac({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:s,targetPosition:i=Q.Top,borderRadius:a=5,centerX:o,centerY:c,offset:u=20}){const[d,f,p,m,w]=ok({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:o,y:c},offset:u});return[d.reduce((N,h,x)=>{let v="";return x>0&&x<d.length-1?v=ck(d[x-1],h,d[x+1],a):v=`${x===0?"M":"L"}${h.x} ${h.y}`,N+=v,N},""),f,p,m,w]}const Ma=y.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=Q.Bottom,targetPosition:p=Q.Top,markerEnd:m,markerStart:w,pathOptions:g,interactionWidth:N})=>{const[h,x,v]=Ac({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:p,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return D.createElement(Pl,{path:h,labelX:x,labelY:v,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:w,interactionWidth:N})});Ma.displayName="SmoothStepEdge";const qu=y.memo(e=>{var t;return D.createElement(Ma,{...e,pathOptions:y.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});qu.displayName="StepEdge";function uk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,a,o]=Vx({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,a,o]}const Ju=y.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:p,interactionWidth:m})=>{const[w,g,N]=uk({sourceX:e,sourceY:t,targetX:n,targetY:r});return D.createElement(Pl,{path:w,labelX:g,labelY:N,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:p,interactionWidth:m})});Ju.displayName="StraightEdge";function si(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function cp({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case Q.Left:return[t-si(t-r,i),n];case Q.Right:return[t+si(r-t,i),n];case Q.Top:return[t,n-si(n-s,i)];case Q.Bottom:return[t,n+si(s-n,i)]}}function Wx({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:s,targetPosition:i=Q.Top,curvature:a=.25}){const[o,c]=cp({pos:n,x1:e,y1:t,x2:r,y2:s,c:a}),[u,d]=cp({pos:i,x1:r,y1:s,x2:e,y2:t,c:a}),[f,p,m,w]=Ux({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${o},${c} ${u},${d} ${r},${s}`,f,p,m,w]}const ia=y.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=Q.Bottom,targetPosition:i=Q.Top,label:a,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:w,pathOptions:g,interactionWidth:N})=>{const[h,x,v]=Wx({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i,curvature:g==null?void 0:g.curvature});return D.createElement(Pl,{path:h,labelX:x,labelY:v,label:a,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:w,interactionWidth:N})});ia.displayName="BezierEdge";const ed=y.createContext(null),dk=ed.Provider;ed.Consumer;const fk=()=>y.useContext(ed),pk=e=>"id"in e&&"source"in e&&"target"in e,hk=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Lc=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,mk=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Gx=(e,t)=>{if(!e.source||!e.target)return t;let n;return pk(e)?n={...e}:n={...e,id:hk(e)},mk(n,t)?t:t.concat(n)},Dc=({x:e,y:t},[n,r,s],i,[a,o])=>{const c={x:(e-n)/s,y:(t-r)/s};return i?{x:a*Math.round(c.x/a),y:o*Math.round(c.y/o)}:c},Yx=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r}),Ur=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],s={x:e.position.x-n,y:e.position.y-r};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:s}},td=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const{x:i,y:a}=Ur(s,t).positionAbsolute;return nk(r,Qu({x:i,y:a,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return rk(n)},Xx=(e,t,[n,r,s]=[0,0,1],i=!1,a=!1,o=[0,0])=>{const c={x:(t.x-n)/s,y:(t.y-r)/s,width:t.width/s,height:t.height/s},u=[];return e.forEach(d=>{const{width:f,height:p,selectable:m=!0,hidden:w=!1}=d;if(a&&!m||w)return!1;const{positionAbsolute:g}=Ur(d,o),N={x:g.x,y:g.y,width:f||0,height:p||0},h=Rc(c,N),x=typeof f>"u"||typeof p>"u"||f===null||p===null,v=i&&h>0,b=(f||0)*(p||0);(x||v||h>=b||d.dragging)&&u.push(d)}),u},Kx=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},Qx=(e,t,n,r,s,i=.1)=>{const a=t/(e.width*(1+i)),o=n/(e.height*(1+i)),c=Math.min(a,o),u=ns(c,r,s),d=e.x+e.width/2,f=e.y+e.height/2,p=t/2-d*u,m=n/2-f*u;return{x:p,y:m,zoom:u}},Wn=(e,t=0)=>e.transition().duration(t);function up(e,t,n,r){return(t[n]||[]).reduce((s,i)=>{var a,o;return`${e.id}-${i.id}-${n}`!==r&&s.push({id:i.id||null,type:n,nodeId:e.id,x:(((a=e.positionAbsolute)==null?void 0:a.x)??0)+i.x+i.width/2,y:(((o=e.positionAbsolute)==null?void 0:o.y)??0)+i.y+i.height/2}),s},[])}function xk(e,t,n,r,s,i){const{x:a,y:o}=zn(e),u=t.elementsFromPoint(a,o).find(w=>w.classList.contains("react-flow__handle"));if(u){const w=u.getAttribute("data-nodeid");if(w){const g=nd(void 0,u),N=u.getAttribute("data-handleid"),h=i({nodeId:w,id:N,type:g});if(h){const x=s.find(v=>v.nodeId===w&&v.type===g&&v.id===N);return{handle:{id:N,type:g,nodeId:w,x:(x==null?void 0:x.x)||n.x,y:(x==null?void 0:x.y)||n.y},validHandleResult:h}}}}let d=[],f=1/0;if(s.forEach(w=>{const g=Math.sqrt((w.x-n.x)**2+(w.y-n.y)**2);if(g<=r){const N=i(w);g<=f&&(g<f?d=[{handle:w,validHandleResult:N}]:g===f&&d.push({handle:w,validHandleResult:N}),f=g)}}),!d.length)return{handle:null,validHandleResult:Zx()};if(d.length===1)return d[0];const p=d.some(({validHandleResult:w})=>w.isValid),m=d.some(({handle:w})=>w.type==="target");return d.find(({handle:w,validHandleResult:g})=>m?w.type==="target":p?g.isValid:!0)||d[0]}const gk={source:null,target:null,sourceHandle:null,targetHandle:null},Zx=()=>({handleDomNode:null,isValid:!1,connection:gk,endHandle:null});function qx(e,t,n,r,s,i,a){const o=s==="target",c=a.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...Zx(),handleDomNode:c};if(c){const d=nd(void 0,c),f=c.getAttribute("data-nodeid"),p=c.getAttribute("data-handleid"),m=c.classList.contains("connectable"),w=c.classList.contains("connectableend"),g={source:o?f:n,sourceHandle:o?p:r,target:o?n:f,targetHandle:o?r:p};u.connection=g,m&&w&&(t===ar.Strict?o&&d==="source"||!o&&d==="target":f!==n||p!==r)&&(u.endHandle={nodeId:f,handleId:p,type:d},u.isValid=i(g))}return u}function yk({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((s,i)=>{if(i[Ee]){const{handleBounds:a}=i[Ee];let o=[],c=[];a&&(o=up(i,a,"source",`${t}-${n}-${r}`),c=up(i,a,"target",`${t}-${n}-${r}`)),s.push(...o,...c)}return s},[])}function nd(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function ko(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function vk(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Jx({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:s,getState:i,setState:a,isValidConnection:o,edgeUpdaterType:c,onReconnectEnd:u}){const d=Fx(e.target),{connectionMode:f,domNode:p,autoPanOnConnect:m,connectionRadius:w,onConnectStart:g,panBy:N,getNodes:h,cancelConnection:x}=i();let v=0,b;const{x:k,y:z}=zn(e),E=d==null?void 0:d.elementFromPoint(k,z),C=nd(c,E),A=p==null?void 0:p.getBoundingClientRect();if(!A||!C)return;let P,I=zn(e,A),O=!1,B=null,j=!1,R=null;const $=yk({nodes:h(),nodeId:n,handleId:t,handleType:C}),T=()=>{if(!m)return;const[M,L]=Dx(I,A);N({x:M,y:L}),v=requestAnimationFrame(T)};a({connectionPosition:I,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:n,handleId:t,type:C},connectionEndHandle:null}),g==null||g(e,{nodeId:n,handleId:t,handleType:C});function _(M){const{transform:L}=i();I=zn(M,A);const{handle:F,validHandleResult:W}=xk(M,d,Dc(I,L,!1,[1,1]),w,$,U=>qx(U,f,n,t,s?"target":"source",o,d));if(b=F,O||(T(),O=!0),R=W.handleDomNode,B=W.connection,j=W.isValid,a({connectionPosition:b&&j?Yx({x:b.x,y:b.y},L):I,connectionStatus:vk(!!b,j),connectionEndHandle:W.endHandle}),!b&&!j&&!R)return ko(P);B.source!==B.target&&R&&(ko(P),P=R,R.classList.add("connecting","react-flow__handle-connecting"),R.classList.toggle("valid",j),R.classList.toggle("react-flow__handle-valid",j))}function S(M){var L,F;(b||R)&&B&&j&&(r==null||r(B)),(F=(L=i()).onConnectEnd)==null||F.call(L,M),c&&(u==null||u(M)),ko(P),x(),cancelAnimationFrame(v),O=!1,j=!1,B=null,R=null,d.removeEventListener("mousemove",_),d.removeEventListener("mouseup",S),d.removeEventListener("touchmove",_),d.removeEventListener("touchend",S)}d.addEventListener("mousemove",_),d.addEventListener("mouseup",S),d.addEventListener("touchmove",_),d.addEventListener("touchend",S)}const dp=()=>!0,bk=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),wk=(e,t,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:a}=r;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n}},eg=y.forwardRef(({type:e="source",position:t=Q.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:a,onConnect:o,children:c,className:u,onMouseDown:d,onTouchStart:f,...p},m)=>{var A,P;const w=a||null,g=e==="target",N=Re(),h=fk(),{connectOnClick:x,noPanClassName:v}=ke(bk,Ue),{connecting:b,clickConnecting:k}=ke(wk(h,w,e),Ue);h||(P=(A=N.getState()).onError)==null||P.call(A,"010",tn.error010());const z=I=>{const{defaultEdgeOptions:O,onConnect:B,hasDefaultEdges:j}=N.getState(),R={...O,...I};if(j){const{edges:$,setEdges:T}=N.getState();T(Gx(R,$))}B==null||B(R),o==null||o(R)},E=I=>{if(!h)return;const O=Bx(I);s&&(O&&I.button===0||!O)&&Jx({event:I,handleId:w,nodeId:h,onConnect:z,isTarget:g,getState:N.getState,setState:N.setState,isValidConnection:n||N.getState().isValidConnection||dp}),O?d==null||d(I):f==null||f(I)},C=I=>{const{onClickConnectStart:O,onClickConnectEnd:B,connectionClickStartHandle:j,connectionMode:R,isValidConnection:$}=N.getState();if(!h||!j&&!s)return;if(!j){O==null||O(I,{nodeId:h,handleId:w,handleType:e}),N.setState({connectionClickStartHandle:{nodeId:h,type:e,handleId:w}});return}const T=Fx(I.target),_=n||$||dp,{connection:S,isValid:M}=qx({nodeId:h,id:w,type:e},R,j.nodeId,j.handleId||null,j.type,_,T);M&&z(S),B==null||B(I),N.setState({connectionClickStartHandle:null})};return D.createElement("div",{"data-handleid":w,"data-nodeid":h,"data-handlepos":t,"data-id":`${h}-${w}-${e}`,className:Ke(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",v,u,{source:!g,target:g,connectable:r,connectablestart:s,connectableend:i,connecting:k,connectionindicator:r&&(s&&!b||i&&b)}]),onMouseDown:E,onTouchStart:E,onClick:x?C:void 0,ref:m,...p},c)});eg.displayName="Handle";var rs=y.memo(eg);const tg=({data:e,isConnectable:t,targetPosition:n=Q.Top,sourcePosition:r=Q.Bottom})=>D.createElement(D.Fragment,null,D.createElement(rs,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,D.createElement(rs,{type:"source",position:r,isConnectable:t}));tg.displayName="DefaultNode";var Fc=y.memo(tg);const ng=({data:e,isConnectable:t,sourcePosition:n=Q.Bottom})=>D.createElement(D.Fragment,null,e==null?void 0:e.label,D.createElement(rs,{type:"source",position:n,isConnectable:t}));ng.displayName="InputNode";var rg=y.memo(ng);const sg=({data:e,isConnectable:t,targetPosition:n=Q.Top})=>D.createElement(D.Fragment,null,D.createElement(rs,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);sg.displayName="OutputNode";var lg=y.memo(sg);const rd=()=>null;rd.displayName="GroupNode";const Nk=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),li=e=>e.id;function jk(e,t){return Ue(e.selectedNodes.map(li),t.selectedNodes.map(li))&&Ue(e.selectedEdges.map(li),t.selectedEdges.map(li))}const ig=y.memo(({onSelectionChange:e})=>{const t=Re(),{selectedNodes:n,selectedEdges:r}=ke(Nk,jk);return y.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChange.forEach(i=>i(s))},[n,r,e]),null});ig.displayName="SelectionListener";const kk=e=>!!e.onSelectionChange;function Sk({onSelectionChange:e}){const t=ke(kk);return e||t?D.createElement(ig,{onSelectionChange:e}):null}const Ek=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function gr(e,t){y.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function se(e,t,n){y.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const _k=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:i,onConnectEnd:a,onClickConnectStart:o,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:p,edgesUpdatable:m,elevateNodesOnSelect:w,minZoom:g,maxZoom:N,nodeExtent:h,onNodesChange:x,onEdgesChange:v,elementsSelectable:b,connectionMode:k,snapGrid:z,snapToGrid:E,translateExtent:C,connectOnClick:A,defaultEdgeOptions:P,fitView:I,fitViewOptions:O,onNodesDelete:B,onEdgesDelete:j,onNodeDrag:R,onNodeDragStart:$,onNodeDragStop:T,onSelectionDrag:_,onSelectionDragStart:S,onSelectionDragStop:M,noPanClassName:L,nodeOrigin:F,rfId:W,autoPanOnConnect:U,autoPanOnNodeDrag:q,onError:te,connectionRadius:ne,isValidConnection:ce,nodeDragThreshold:fe})=>{const{setNodes:ue,setEdges:H,setDefaultNodesAndEdges:G,setMinZoom:J,setMaxZoom:ee,setTranslateExtent:K,setNodeExtent:he,reset:ae}=ke(Ek,Ue),Z=Re();return y.useEffect(()=>{const He=r==null?void 0:r.map(An=>({...An,...P}));return G(n,He),()=>{ae()}},[]),se("defaultEdgeOptions",P,Z.setState),se("connectionMode",k,Z.setState),se("onConnect",s,Z.setState),se("onConnectStart",i,Z.setState),se("onConnectEnd",a,Z.setState),se("onClickConnectStart",o,Z.setState),se("onClickConnectEnd",c,Z.setState),se("nodesDraggable",u,Z.setState),se("nodesConnectable",d,Z.setState),se("nodesFocusable",f,Z.setState),se("edgesFocusable",p,Z.setState),se("edgesUpdatable",m,Z.setState),se("elementsSelectable",b,Z.setState),se("elevateNodesOnSelect",w,Z.setState),se("snapToGrid",E,Z.setState),se("snapGrid",z,Z.setState),se("onNodesChange",x,Z.setState),se("onEdgesChange",v,Z.setState),se("connectOnClick",A,Z.setState),se("fitViewOnInit",I,Z.setState),se("fitViewOnInitOptions",O,Z.setState),se("onNodesDelete",B,Z.setState),se("onEdgesDelete",j,Z.setState),se("onNodeDrag",R,Z.setState),se("onNodeDragStart",$,Z.setState),se("onNodeDragStop",T,Z.setState),se("onSelectionDrag",_,Z.setState),se("onSelectionDragStart",S,Z.setState),se("onSelectionDragStop",M,Z.setState),se("noPanClassName",L,Z.setState),se("nodeOrigin",F,Z.setState),se("rfId",W,Z.setState),se("autoPanOnConnect",U,Z.setState),se("autoPanOnNodeDrag",q,Z.setState),se("onError",te,Z.setState),se("connectionRadius",ne,Z.setState),se("isValidConnection",ce,Z.setState),se("nodeDragThreshold",fe,Z.setState),gr(e,ue),gr(t,H),gr(g,J),gr(N,ee),gr(C,K),gr(h,he),null},fp={display:"none"},Ck={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ag="react-flow__node-desc",og="react-flow__edge-desc",zk="react-flow__aria-live",Tk=e=>e.ariaLiveMessage;function Pk({rfId:e}){const t=ke(Tk);return D.createElement("div",{id:`${zk}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Ck},t)}function Mk({rfId:e,disableKeyboardA11y:t}){return D.createElement(D.Fragment,null,D.createElement("div",{id:`${ag}-${e}`,style:fp},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),D.createElement("div",{id:`${og}-${e}`,style:fp},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&D.createElement(Pk,{rfId:e}))}var vl=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=y.useState(!1),s=y.useRef(!1),i=y.useRef(new Set([])),[a,o]=y.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,p)=>f.concat(...p),[]);return[u,d]}return[[],[]]},[e]);return y.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=m=>{if(s.current=m.ctrlKey||m.metaKey||m.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&Ic(m))return!1;const g=hp(m.code,o);i.current.add(m[g]),pp(a,i.current,!1)&&(m.preventDefault(),r(!0))},f=m=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&Ic(m))return!1;const g=hp(m.code,o);pp(a,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(m[g]),m.key==="Meta"&&i.current.clear(),s.current=!1},p=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",p),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",p)}}},[e,r]),n};function pp(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function hp(e,t){return t.includes(e)?"code":"key"}function cg(e,t,n,r){var o,c;const s=e.parentNode||e.parentId;if(!s)return n;const i=t.get(s),a=Ur(i,r);return cg(i,t,{x:(n.x??0)+a.x,y:(n.y??0)+a.y,z:(((o=i[Ee])==null?void 0:o.z)??0)>(n.z??0)?((c=i[Ee])==null?void 0:c.z)??0:n.z??0},r)}function ug(e,t,n){e.forEach(r=>{var i;const s=r.parentNode||r.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:a,y:o,z:c}=cg(r,e,{...r.position,z:((i=r[Ee])==null?void 0:i.z)??0},t);r.positionAbsolute={x:a,y:o},r[Ee].z=c,n!=null&&n[r.id]&&(r[Ee].isParent=!0)}})}function So(e,t,n,r){const s=new Map,i={},a=r?1e3:0;return e.forEach(o=>{var m;const c=(ft(o.zIndex)?o.zIndex:0)+(o.selected?a:0),u=t.get(o.id),d={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},f=o.parentNode||o.parentId;f&&(i[f]=!0);const p=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==o.type;Object.defineProperty(d,Ee,{enumerable:!1,value:{handleBounds:p||(m=u==null?void 0:u[Ee])==null?void 0:m.handleBounds,z:c}}),s.set(o.id,d)}),ug(s,n,i),s}function dg(e,t={}){const{getNodes:n,width:r,height:s,minZoom:i,maxZoom:a,d3Zoom:o,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),p=t.initial&&!u&&d;if(o&&c&&(p||!t.initial)){const w=n().filter(N=>{var x;const h=t.includeHiddenNodes?N.width&&N.height:!N.hidden;return(x=t.nodes)!=null&&x.length?h&&t.nodes.some(v=>v.id===N.id):h}),g=w.every(N=>N.width&&N.height);if(w.length>0&&g){const N=td(w,f),{x:h,y:x,zoom:v}=Qx(N,r,s,t.minZoom??i,t.maxZoom??a,t.padding??.1),b=Cn.translate(h,x).scale(v);return typeof t.duration=="number"&&t.duration>0?o.transform(Wn(c,t.duration),b):o.transform(c,b),!0}}return!1}function $k(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Ee]:r[Ee],selected:n.selected})}),new Map(t)}function Rk(e,t){return t.map(n=>{const r=e.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function ii({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:s,edges:i,onNodesChange:a,onEdgesChange:o,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:$k(e,s)}),a==null||a(e)),t!=null&&t.length&&(u&&r({edges:Rk(t,i)}),o==null||o(t))}const yr=()=>{},Ik={zoomIn:yr,zoomOut:yr,zoomTo:yr,getZoom:()=>1,setViewport:yr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:yr,fitBounds:yr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Ak=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Lk=()=>{const e=Re(),{d3Zoom:t,d3Selection:n}=ke(Ak,Ue);return y.useMemo(()=>n&&t?{zoomIn:s=>t.scaleBy(Wn(n,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(Wn(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>t.scaleTo(Wn(n,i==null?void 0:i.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,i)=>{const[a,o,c]=e.getState().transform,u=Cn.translate(s.x??a,s.y??o).scale(s.zoom??c);t.transform(Wn(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[s,i,a]=e.getState().transform;return{x:s,y:i,zoom:a}},fitView:s=>dg(e.getState,s),setCenter:(s,i,a)=>{const{width:o,height:c,maxZoom:u}=e.getState(),d=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:u,f=o/2-s*d,p=c/2-i*d,m=Cn.translate(f,p).scale(d);t.transform(Wn(n,a==null?void 0:a.duration),m)},fitBounds:(s,i)=>{const{width:a,height:o,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:p}=Qx(s,a,o,c,u,(i==null?void 0:i.padding)??.1),m=Cn.translate(d,f).scale(p);t.transform(Wn(n,i==null?void 0:i.duration),m)},project:s=>{const{transform:i,snapToGrid:a,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Dc(s,i,a,o)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:a,snapGrid:o,domNode:c}=e.getState();if(!c)return s;const{x:u,y:d}=c.getBoundingClientRect(),f={x:s.x-u,y:s.y-d};return Dc(f,i,a,o)},flowToScreenPosition:s=>{const{transform:i,domNode:a}=e.getState();if(!a)return s;const{x:o,y:c}=a.getBoundingClientRect(),u=Yx(s,i);return{x:u.x+o,y:u.y+c}},viewportInitialized:!0}:Ik,[t,n])};function $a(){const e=Lk(),t=Re(),n=y.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),r=y.useCallback(g=>t.getState().nodeInternals.get(g),[]),s=y.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(N=>({...N}))},[]),i=y.useCallback(g=>{const{edges:N=[]}=t.getState();return N.find(h=>h.id===g)},[]),a=y.useCallback(g=>{const{getNodes:N,setNodes:h,hasDefaultNodes:x,onNodesChange:v}=t.getState(),b=N(),k=typeof g=="function"?g(b):g;if(x)h(k);else if(v){const z=k.length===0?b.map(E=>({type:"remove",id:E.id})):k.map(E=>({item:E,type:"reset"}));v(z)}},[]),o=y.useCallback(g=>{const{edges:N=[],setEdges:h,hasDefaultEdges:x,onEdgesChange:v}=t.getState(),b=typeof g=="function"?g(N):g;if(x)h(b);else if(v){const k=b.length===0?N.map(z=>({type:"remove",id:z.id})):b.map(z=>({item:z,type:"reset"}));v(k)}},[]),c=y.useCallback(g=>{const N=Array.isArray(g)?g:[g],{getNodes:h,setNodes:x,hasDefaultNodes:v,onNodesChange:b}=t.getState();if(v){const z=[...h(),...N];x(z)}else if(b){const k=N.map(z=>({item:z,type:"add"}));b(k)}},[]),u=y.useCallback(g=>{const N=Array.isArray(g)?g:[g],{edges:h=[],setEdges:x,hasDefaultEdges:v,onEdgesChange:b}=t.getState();if(v)x([...h,...N]);else if(b){const k=N.map(z=>({item:z,type:"add"}));b(k)}},[]),d=y.useCallback(()=>{const{getNodes:g,edges:N=[],transform:h}=t.getState(),[x,v,b]=h;return{nodes:g().map(k=>({...k})),edges:N.map(k=>({...k})),viewport:{x,y:v,zoom:b}}},[]),f=y.useCallback(({nodes:g,edges:N})=>{const{nodeInternals:h,getNodes:x,edges:v,hasDefaultNodes:b,hasDefaultEdges:k,onNodesDelete:z,onEdgesDelete:E,onNodesChange:C,onEdgesChange:A}=t.getState(),P=(g||[]).map(R=>R.id),I=(N||[]).map(R=>R.id),O=x().reduce((R,$)=>{const T=$.parentNode||$.parentId,_=!P.includes($.id)&&T&&R.find(M=>M.id===T);return(typeof $.deletable=="boolean"?$.deletable:!0)&&(P.includes($.id)||_)&&R.push($),R},[]),B=v.filter(R=>typeof R.deletable=="boolean"?R.deletable:!0),j=B.filter(R=>I.includes(R.id));if(O||j){const R=Kx(O,B),$=[...j,...R],T=$.reduce((_,S)=>(_.includes(S.id)||_.push(S.id),_),[]);if((k||b)&&(k&&t.setState({edges:v.filter(_=>!T.includes(_.id))}),b&&(O.forEach(_=>{h.delete(_.id)}),t.setState({nodeInternals:new Map(h)}))),T.length>0&&(E==null||E($),A&&A(T.map(_=>({id:_,type:"remove"})))),O.length>0&&(z==null||z(O),C)){const _=O.map(S=>({id:S.id,type:"remove"}));C(_)}}},[]),p=y.useCallback(g=>{const N=sk(g),h=N?null:t.getState().nodeInternals.get(g.id);return!N&&!h?[null,null,N]:[N?g:lp(h),h,N]},[]),m=y.useCallback((g,N=!0,h)=>{const[x,v,b]=p(g);return x?(h||t.getState().getNodes()).filter(k=>{if(!b&&(k.id===v.id||!k.positionAbsolute))return!1;const z=lp(k),E=Rc(z,x);return N&&E>0||E>=x.width*x.height}):[]},[]),w=y.useCallback((g,N,h=!0)=>{const[x]=p(g);if(!x)return!1;const v=Rc(x,N);return h&&v>0||v>=x.width*x.height},[]);return y.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:s,getEdge:i,setNodes:a,setEdges:o,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:m,isNodeIntersecting:w}),[e,n,r,s,i,a,o,c,u,d,f,m,w])}const Dk={actInsideInputWithModifier:!1};var Fk=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Re(),{deleteElements:r}=$a(),s=vl(e,Dk),i=vl(t);y.useEffect(()=>{if(s){const{edges:a,getNodes:o}=n.getState(),c=o().filter(d=>d.selected),u=a.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[s]),y.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function Ok(e){const t=Re();y.useEffect(()=>{let n;const r=()=>{var i,a;if(!e.current)return;const s=Xu(e.current);(s.height===0||s.width===0)&&((a=(i=t.getState()).onError)==null||a.call(i,"004",tn.error004())),t.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const sd={position:"absolute",width:"100%",height:"100%",top:0,left:0},Bk=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ai=e=>({x:e.x,y:e.y,zoom:e.k}),vr=(e,t)=>e.target.closest(`.${t}`),mp=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),xp=e=>{const t=e.ctrlKey&&sa()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},Vk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Uk=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:a=!1,panOnScrollSpeed:o=.5,panOnScrollMode:c=Qn.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:p,translateExtent:m,minZoom:w,maxZoom:g,zoomActivationKeyCode:N,preventScrolling:h=!0,children:x,noWheelClassName:v,noPanClassName:b})=>{const k=y.useRef(),z=Re(),E=y.useRef(!1),C=y.useRef(!1),A=y.useRef(null),P=y.useRef({x:0,y:0,zoom:0}),{d3Zoom:I,d3Selection:O,d3ZoomHandler:B,userSelectionActive:j}=ke(Vk,Ue),R=vl(N),$=y.useRef(0),T=y.useRef(!1),_=y.useRef();return Ok(A),y.useEffect(()=>{if(A.current){const S=A.current.getBoundingClientRect(),M=Q2().scaleExtent([w,g]).translateExtent(m),L=wt(A.current).call(M),F=Cn.translate(p.x,p.y).scale(ns(p.zoom,w,g)),W=[[0,0],[S.width,S.height]],U=M.constrain()(F,W,m);M.transform(L,U),M.wheelDelta(xp),z.setState({d3Zoom:M,d3Selection:L,d3ZoomHandler:L.on("wheel.zoom"),transform:[U.x,U.y,U.k],domNode:A.current.closest(".react-flow")})}},[]),y.useEffect(()=>{O&&I&&(a&&!R&&!j?O.on("wheel.zoom",S=>{if(vr(S,v))return!1;S.preventDefault(),S.stopImmediatePropagation();const M=O.property("__zoom").k||1;if(S.ctrlKey&&i){const ce=$t(S),fe=xp(S),ue=M*Math.pow(2,fe);I.scaleTo(O,ue,ce,S);return}const L=S.deltaMode===1?20:1;let F=c===Qn.Vertical?0:S.deltaX*L,W=c===Qn.Horizontal?0:S.deltaY*L;!sa()&&S.shiftKey&&c!==Qn.Vertical&&(F=S.deltaY*L,W=0),I.translateBy(O,-(F/M)*o,-(W/M)*o,{internal:!0});const U=ai(O.property("__zoom")),{onViewportChangeStart:q,onViewportChange:te,onViewportChangeEnd:ne}=z.getState();clearTimeout(_.current),T.current||(T.current=!0,t==null||t(S,U),q==null||q(U)),T.current&&(e==null||e(S,U),te==null||te(U),_.current=setTimeout(()=>{n==null||n(S,U),ne==null||ne(U),T.current=!1},150))},{passive:!1}):typeof B<"u"&&O.on("wheel.zoom",function(S,M){if(!h&&S.type==="wheel"&&!S.ctrlKey||vr(S,v))return null;S.preventDefault(),B.call(this,S,M)},{passive:!1}))},[j,a,c,O,I,B,R,i,h,v,t,e,n]),y.useEffect(()=>{I&&I.on("start",S=>{var F,W;if(!S.sourceEvent||S.sourceEvent.internal)return null;$.current=(F=S.sourceEvent)==null?void 0:F.button;const{onViewportChangeStart:M}=z.getState(),L=ai(S.transform);E.current=!0,P.current=L,((W=S.sourceEvent)==null?void 0:W.type)==="mousedown"&&z.setState({paneDragging:!0}),M==null||M(L),t==null||t(S.sourceEvent,L)})},[I,t]),y.useEffect(()=>{I&&(j&&!E.current?I.on("zoom",null):j||I.on("zoom",S=>{var L;const{onViewportChange:M}=z.getState();if(z.setState({transform:[S.transform.x,S.transform.y,S.transform.k]}),C.current=!!(r&&mp(f,$.current??0)),(e||M)&&!((L=S.sourceEvent)!=null&&L.internal)){const F=ai(S.transform);M==null||M(F),e==null||e(S.sourceEvent,F)}}))},[j,I,e,f,r]),y.useEffect(()=>{I&&I.on("end",S=>{if(!S.sourceEvent||S.sourceEvent.internal)return null;const{onViewportChangeEnd:M}=z.getState();if(E.current=!1,z.setState({paneDragging:!1}),r&&mp(f,$.current??0)&&!C.current&&r(S.sourceEvent),C.current=!1,(n||M)&&Bk(P.current,S.transform)){const L=ai(S.transform);P.current=L,clearTimeout(k.current),k.current=setTimeout(()=>{M==null||M(L),n==null||n(S.sourceEvent,L)},a?150:0)}})},[I,a,f,n,r]),y.useEffect(()=>{I&&I.filter(S=>{const M=R||s,L=i&&S.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&S.button===1&&S.type==="mousedown"&&(vr(S,"react-flow__node")||vr(S,"react-flow__edge")))return!0;if(!f&&!M&&!a&&!u&&!i||j||!u&&S.type==="dblclick"||vr(S,v)&&S.type==="wheel"||vr(S,b)&&(S.type!=="wheel"||a&&S.type==="wheel"&&!R)||!i&&S.ctrlKey&&S.type==="wheel"||!M&&!a&&!L&&S.type==="wheel"||!f&&(S.type==="mousedown"||S.type==="touchstart")||Array.isArray(f)&&!f.includes(S.button)&&S.type==="mousedown")return!1;const F=Array.isArray(f)&&f.includes(S.button)||!S.button||S.button<=1;return(!S.ctrlKey||S.type==="wheel")&&F})},[j,I,s,i,a,u,f,d,R]),D.createElement("div",{className:"react-flow__renderer",ref:A,style:sd},x)},Hk=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Wk(){const{userSelectionActive:e,userSelectionRect:t}=ke(Hk,Ue);return e&&t?D.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function gp(e,t){const n=t.parentNode||t.parentId,r=e.find(s=>s.id===n);if(r){const s=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(s>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),i>0&&(r.style.height+=i),t.position.x<0){const a=Math.abs(t.position.x);r.position.x=r.position.x-a,r.style.width+=a,t.position.x=0}if(t.position.y<0){const a=Math.abs(t.position.y);r.position.y=r.position.y-a,r.style.height+=a,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function fg(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,s)=>{const i=e.filter(o=>o.id===s.id);if(i.length===0)return r.push(s),r;const a={...s};for(const o of i)if(o)switch(o.type){case"select":{a.selected=o.selected;break}case"position":{typeof o.position<"u"&&(a.position=o.position),typeof o.positionAbsolute<"u"&&(a.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(a.dragging=o.dragging),a.expandParent&&gp(r,a);break}case"dimensions":{typeof o.dimensions<"u"&&(a.width=o.dimensions.width,a.height=o.dimensions.height),typeof o.updateStyle<"u"&&(a.style={...a.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(a.resizing=o.resizing),a.expandParent&&gp(r,a);break}case"remove":return r}return r.push(a),r},n)}function pg(e,t){return fg(e,t)}function Gk(e,t){return fg(e,t)}const fn=(e,t)=>({id:e,type:"select",selected:t});function $r(e,t){return e.reduce((n,r)=>{const s=t.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(fn(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(fn(r.id,!1))),n},[])}const Eo=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Yk=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),hg=y.memo(({isSelecting:e,selectionMode:t=yl.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:a,onPaneScroll:o,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const p=y.useRef(null),m=Re(),w=y.useRef(0),g=y.useRef(0),N=y.useRef(),{userSelectionActive:h,elementsSelectable:x,dragging:v}=ke(Yk,Ue),b=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,g.current=0},k=B=>{i==null||i(B),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},z=B=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){B.preventDefault();return}a==null||a(B)},E=o?B=>o(B):void 0,C=B=>{const{resetSelectedElements:j,domNode:R}=m.getState();if(N.current=R==null?void 0:R.getBoundingClientRect(),!x||!e||B.button!==0||B.target!==p.current||!N.current)return;const{x:$,y:T}=zn(B,N.current);j(),m.setState({userSelectionRect:{width:0,height:0,startX:$,startY:T,x:$,y:T}}),r==null||r(B)},A=B=>{const{userSelectionRect:j,nodeInternals:R,edges:$,transform:T,onNodesChange:_,onEdgesChange:S,nodeOrigin:M,getNodes:L}=m.getState();if(!e||!N.current||!j)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const F=zn(B,N.current),W=j.startX??0,U=j.startY??0,q={...j,x:F.x<W?F.x:W,y:F.y<U?F.y:U,width:Math.abs(F.x-W),height:Math.abs(F.y-U)},te=L(),ne=Xx(R,q,T,t===yl.Partial,!0,M),ce=Kx(ne,$).map(ue=>ue.id),fe=ne.map(ue=>ue.id);if(w.current!==fe.length){w.current=fe.length;const ue=$r(te,fe);ue.length&&(_==null||_(ue))}if(g.current!==ce.length){g.current=ce.length;const ue=$r($,ce);ue.length&&(S==null||S(ue))}m.setState({userSelectionRect:q})},P=B=>{if(B.button!==0)return;const{userSelectionRect:j}=m.getState();!h&&j&&B.target===p.current&&(k==null||k(B)),m.setState({nodesSelectionActive:w.current>0}),b(),s==null||s(B)},I=B=>{h&&(m.setState({nodesSelectionActive:w.current>0}),s==null||s(B)),b()},O=x&&(e||h);return D.createElement("div",{className:Ke(["react-flow__pane",{dragging:v,selection:e}]),onClick:O?void 0:Eo(k,p),onContextMenu:Eo(z,p),onWheel:Eo(E,p),onMouseEnter:O?void 0:c,onMouseDown:O?C:void 0,onMouseMove:O?A:u,onMouseUp:O?P:void 0,onMouseLeave:O?I:d,ref:p,style:sd},f,D.createElement(Wk,null))});hg.displayName="Pane";function mg(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:mg(r,t):!1}function yp(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Xk(e,t,n,r){return Array.from(e.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!mg(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var i,a;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((a=s.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function Kk(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function xg(e,t,n,r,s=[0,0],i){const a=Kk(e,e.extent||r);let o=a;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=n.get(c),{x:p,y:m}=Ur(f,s).positionAbsolute;o=f&&ft(p)&&ft(m)&&ft(f.width)&&ft(f.height)?[[p+e.width*s[0],m+e.height*s[1]],[p+f.width-e.width+e.width*s[0],m+f.height-e.height+e.height*s[1]]]:o}else i==null||i("005",tn.error005()),o=a;else if(e.extent&&c&&e.extent!=="parent"){const f=n.get(c),{x:p,y:m}=Ur(f,s).positionAbsolute;o=[[e.extent[0][0]+p,e.extent[0][1]+m],[e.extent[1][0]+p,e.extent[1][1]+m]]}let u={x:0,y:0};if(c){const f=n.get(c);u=Ur(f,s).positionAbsolute}const d=o&&o!=="parent"?Ku(t,o):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function _o({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?r.find(s=>s.id===e):r[0],r]}const vp=(e,t,n,r)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const i=Array.from(s),a=t.getBoundingClientRect(),o={x:a.width*r[0],y:a.height*r[1]};return i.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-a.left-o.x)/n,y:(u.top-a.top-o.y)/n,...Xu(c)}})};function Cs(e,t,n){return n===void 0?n:r=>{const s=t().nodeInternals.get(e);s&&n(r,{...s})}}function Oc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:a,nodeInternals:o,onError:c}=t.getState(),u=o.get(e);if(!u){c==null||c("012",tn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&a)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function Qk(){const e=Re();return y.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:i}=e.getState(),a=n.touches?n.touches[0].clientX:n.clientX,o=n.touches?n.touches[0].clientY:n.clientY,c={x:(a-r[0])/r[2],y:(o-r[1])/r[2]};return{xSnapped:i?s[0]*Math.round(c.x/s[0]):c.x,ySnapped:i?s[1]*Math.round(c.y/s[1]):c.y,...c}},[])}function Co(e){return(t,n,r)=>e==null?void 0:e(t,r)}function gg({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,selectNodesOnDrag:a}){const o=Re(),[c,u]=y.useState(!1),d=y.useRef([]),f=y.useRef({x:null,y:null}),p=y.useRef(0),m=y.useRef(null),w=y.useRef({x:0,y:0}),g=y.useRef(null),N=y.useRef(!1),h=y.useRef(!1),x=y.useRef(!1),v=Qk();return y.useEffect(()=>{if(e!=null&&e.current){const b=wt(e.current),k=({x:C,y:A})=>{const{nodeInternals:P,onNodeDrag:I,onSelectionDrag:O,updateNodePositions:B,nodeExtent:j,snapGrid:R,snapToGrid:$,nodeOrigin:T,onError:_}=o.getState();f.current={x:C,y:A};let S=!1,M={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&j){const F=td(d.current,T);M=Qu(F)}if(d.current=d.current.map(F=>{const W={x:C-F.distance.x,y:A-F.distance.y};$&&(W.x=R[0]*Math.round(W.x/R[0]),W.y=R[1]*Math.round(W.y/R[1]));const U=[[j[0][0],j[0][1]],[j[1][0],j[1][1]]];d.current.length>1&&j&&!F.extent&&(U[0][0]=F.positionAbsolute.x-M.x+j[0][0],U[1][0]=F.positionAbsolute.x+(F.width??0)-M.x2+j[1][0],U[0][1]=F.positionAbsolute.y-M.y+j[0][1],U[1][1]=F.positionAbsolute.y+(F.height??0)-M.y2+j[1][1]);const q=xg(F,W,P,U,T,_);return S=S||F.position.x!==q.position.x||F.position.y!==q.position.y,F.position=q.position,F.positionAbsolute=q.positionAbsolute,F}),!S)return;B(d.current,!0,!0),u(!0);const L=s?I:Co(O);if(L&&g.current){const[F,W]=_o({nodeId:s,dragItems:d.current,nodeInternals:P});L(g.current,F,W)}},z=()=>{if(!m.current)return;const[C,A]=Dx(w.current,m.current);if(C!==0||A!==0){const{transform:P,panBy:I}=o.getState();f.current.x=(f.current.x??0)-C/P[2],f.current.y=(f.current.y??0)-A/P[2],I({x:C,y:A})&&k(f.current)}p.current=requestAnimationFrame(z)},E=C=>{var T;const{nodeInternals:A,multiSelectionActive:P,nodesDraggable:I,unselectNodesAndEdges:O,onNodeDragStart:B,onSelectionDragStart:j}=o.getState();h.current=!0;const R=s?B:Co(j);(!a||!i)&&!P&&s&&((T=A.get(s))!=null&&T.selected||O()),s&&i&&a&&Oc({id:s,store:o,nodeRef:e});const $=v(C);if(f.current=$,d.current=Xk(A,I,$,s),R&&d.current){const[_,S]=_o({nodeId:s,dragItems:d.current,nodeInternals:A});R(C.sourceEvent,_,S)}};if(t)b.on(".drag",null);else{const C=ij().on("start",A=>{const{domNode:P,nodeDragThreshold:I}=o.getState();I===0&&E(A),x.current=!1;const O=v(A);f.current=O,m.current=(P==null?void 0:P.getBoundingClientRect())||null,w.current=zn(A.sourceEvent,m.current)}).on("drag",A=>{var B,j;const P=v(A),{autoPanOnNodeDrag:I,nodeDragThreshold:O}=o.getState();if(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1&&(x.current=!0),!x.current){if(!N.current&&h.current&&I&&(N.current=!0,z()),!h.current){const R=P.xSnapped-(((B=f==null?void 0:f.current)==null?void 0:B.x)??0),$=P.ySnapped-(((j=f==null?void 0:f.current)==null?void 0:j.y)??0);Math.sqrt(R*R+$*$)>O&&E(A)}(f.current.x!==P.xSnapped||f.current.y!==P.ySnapped)&&d.current&&h.current&&(g.current=A.sourceEvent,w.current=zn(A.sourceEvent,m.current),k(P))}}).on("end",A=>{if(!(!h.current||x.current)&&(u(!1),N.current=!1,h.current=!1,cancelAnimationFrame(p.current),d.current)){const{updateNodePositions:P,nodeInternals:I,onNodeDragStop:O,onSelectionDragStop:B}=o.getState(),j=s?O:Co(B);if(P(d.current,!1,!1),j){const[R,$]=_o({nodeId:s,dragItems:d.current,nodeInternals:I});j(A.sourceEvent,R,$)}}}).filter(A=>{const P=A.target;return!A.button&&(!n||!yp(P,`.${n}`,e))&&(!r||yp(P,r,e))});return b.call(C),()=>{b.on(".drag",null)}}}},[e,t,n,r,i,o,s,a,v]),c}function yg(){const e=Re();return y.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:i,getNodes:a,snapToGrid:o,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=a().filter(x=>x.selected&&(x.draggable||d&&typeof x.draggable>"u")),p=o?c[0]:5,m=o?c[1]:5,w=n.isShiftPressed?4:1,g=n.x*p*w,N=n.y*m*w,h=f.map(x=>{if(x.positionAbsolute){const v={x:x.positionAbsolute.x+g,y:x.positionAbsolute.y+N};o&&(v.x=c[0]*Math.round(v.x/c[0]),v.y=c[1]*Math.round(v.y/c[1]));const{positionAbsolute:b,position:k}=xg(x,v,r,s,void 0,u);x.position=k,x.positionAbsolute=b}return x});i(h,!0,!1)},[])}const Hr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var zs=e=>{const t=({id:n,type:r,data:s,xPos:i,yPos:a,xPosOrigin:o,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:p,onMouseLeave:m,onContextMenu:w,onDoubleClick:g,style:N,className:h,isDraggable:x,isSelectable:v,isConnectable:b,isFocusable:k,selectNodesOnDrag:z,sourcePosition:E,targetPosition:C,hidden:A,resizeObserver:P,dragHandle:I,zIndex:O,isParent:B,noDragClassName:j,noPanClassName:R,initialized:$,disableKeyboardA11y:T,ariaLabel:_,rfId:S,hasHandleBounds:M})=>{const L=Re(),F=y.useRef(null),W=y.useRef(null),U=y.useRef(E),q=y.useRef(C),te=y.useRef(r),ne=v||x||d||f||p||m,ce=yg(),fe=Cs(n,L.getState,f),ue=Cs(n,L.getState,p),H=Cs(n,L.getState,m),G=Cs(n,L.getState,w),J=Cs(n,L.getState,g),ee=ae=>{const{nodeDragThreshold:Z}=L.getState();if(v&&(!z||!x||Z>0)&&Oc({id:n,store:L,nodeRef:F}),d){const He=L.getState().nodeInternals.get(n);He&&d(ae,{...He})}},K=ae=>{if(!Ic(ae)&&!T)if(Ox.includes(ae.key)&&v){const Z=ae.key==="Escape";Oc({id:n,store:L,unselect:Z,nodeRef:F})}else x&&u&&Object.prototype.hasOwnProperty.call(Hr,ae.key)&&(L.setState({ariaLiveMessage:`Moved selected node ${ae.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~a}`}),ce({x:Hr[ae.key].x,y:Hr[ae.key].y,isShiftPressed:ae.shiftKey}))};y.useEffect(()=>()=>{W.current&&(P==null||P.unobserve(W.current),W.current=null)},[]),y.useEffect(()=>{if(F.current&&!A){const ae=F.current;(!$||!M||W.current!==ae)&&(W.current&&(P==null||P.unobserve(W.current)),P==null||P.observe(ae),W.current=ae)}},[A,$,M]),y.useEffect(()=>{const ae=te.current!==r,Z=U.current!==E,He=q.current!==C;F.current&&(ae||Z||He)&&(ae&&(te.current=r),Z&&(U.current=E),He&&(q.current=C),L.getState().updateNodeDimensions([{id:n,nodeElement:F.current,forceUpdate:!0}]))},[n,r,E,C]);const he=gg({nodeRef:F,disabled:A||!x,noDragClassName:j,handleSelector:I,nodeId:n,isSelectable:v,selectNodesOnDrag:z});return A?null:D.createElement("div",{className:Ke(["react-flow__node",`react-flow__node-${r}`,{[R]:x},h,{selected:u,selectable:v,parent:B,dragging:he}]),ref:F,style:{zIndex:O,transform:`translate(${o}px,${c}px)`,pointerEvents:ne?"all":"none",visibility:$?"visible":"hidden",...N},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:fe,onMouseMove:ue,onMouseLeave:H,onContextMenu:G,onClick:ee,onDoubleClick:J,onKeyDown:k?K:void 0,tabIndex:k?0:void 0,role:k?"button":void 0,"aria-describedby":T?void 0:`${ag}-${S}`,"aria-label":_},D.createElement(dk,{value:n},D.createElement(e,{id:n,data:s,type:r,xPos:i,yPos:a,selected:u,isConnectable:b,sourcePosition:E,targetPosition:C,dragging:he,dragHandle:I,zIndex:O})))};return t.displayName="NodeWrapper",y.memo(t)};const Zk=e=>{const t=e.getNodes().filter(n=>n.selected);return{...td(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function qk({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Re(),{width:s,height:i,x:a,y:o,transformString:c,userSelectionActive:u}=ke(Zk,Ue),d=yg(),f=y.useRef(null);if(y.useEffect(()=>{var w;n||(w=f.current)==null||w.focus({preventScroll:!0})},[n]),gg({nodeRef:f}),u||!s||!i)return null;const p=e?w=>{const g=r.getState().getNodes().filter(N=>N.selected);e(w,g)}:void 0,m=w=>{Object.prototype.hasOwnProperty.call(Hr,w.key)&&d({x:Hr[w.key].x,y:Hr[w.key].y,isShiftPressed:w.shiftKey})};return D.createElement("div",{className:Ke(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},D.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:s,height:i,top:o,left:a}}))}var Jk=y.memo(qk);const eS=e=>e.nodesSelectionActive,vg=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,deleteKeyCode:o,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:p,selectionMode:m,onSelectionStart:w,onSelectionEnd:g,multiSelectionKeyCode:N,panActivationKeyCode:h,zoomActivationKeyCode:x,elementsSelectable:v,zoomOnScroll:b,zoomOnPinch:k,panOnScroll:z,panOnScrollSpeed:E,panOnScrollMode:C,zoomOnDoubleClick:A,panOnDrag:P,defaultViewport:I,translateExtent:O,minZoom:B,maxZoom:j,preventScrolling:R,onSelectionContextMenu:$,noWheelClassName:T,noPanClassName:_,disableKeyboardA11y:S})=>{const M=ke(eS),L=vl(f),F=vl(h),W=F||P,U=F||z,q=L||p&&W!==!0;return Fk({deleteKeyCode:o,multiSelectionKeyCode:N}),D.createElement(Uk,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:v,zoomOnScroll:b,zoomOnPinch:k,panOnScroll:U,panOnScrollSpeed:E,panOnScrollMode:C,zoomOnDoubleClick:A,panOnDrag:!L&&W,defaultViewport:I,translateExtent:O,minZoom:B,maxZoom:j,zoomActivationKeyCode:x,preventScrolling:R,noWheelClassName:T,noPanClassName:_},D.createElement(hg,{onSelectionStart:w,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:W,isSelecting:!!q,selectionMode:m},e,M&&D.createElement(Jk,{onSelectionContextMenu:$,noPanClassName:_,disableKeyboardA11y:S})))};vg.displayName="FlowRenderer";var tS=y.memo(vg);function nS(e){return ke(y.useCallback(n=>e?Xx(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function rS(e){const t={input:zs(e.input||rg),default:zs(e.default||Fc),output:zs(e.output||lg),group:zs(e.group||rd)},n={},r=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=zs(e[i]||Fc),s),n);return{...t,...r}}const sS=({x:e,y:t,width:n,height:r,origin:s})=>!n||!r?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-n*s[0],y:t-r*s[1]},lS=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),bg=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:i,onError:a}=ke(lS,Ue),o=nS(e.onlyRenderVisibleElements),c=y.useRef(),u=y.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const p=f.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));i(p)});return c.current=d,d},[]);return y.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),D.createElement("div",{className:"react-flow__nodes",style:sd},o.map(d=>{var k,z,E;let f=d.type||"default";e.nodeTypes[f]||(a==null||a("003",tn.error003(f)),f="default");const p=e.nodeTypes[f]||e.nodeTypes.default,m=!!(d.draggable||t&&typeof d.draggable>"u"),w=!!(d.selectable||s&&typeof d.selectable>"u"),g=!!(d.connectable||n&&typeof d.connectable>"u"),N=!!(d.focusable||r&&typeof d.focusable>"u"),h=e.nodeExtent?Ku(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,x=(h==null?void 0:h.x)??0,v=(h==null?void 0:h.y)??0,b=sS({x,y:v,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return D.createElement(p,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||Q.Bottom,targetPosition:d.targetPosition||Q.Top,hidden:d.hidden,xPos:x,yPos:v,xPosOrigin:b.x,yPosOrigin:b.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:m,isSelectable:w,isConnectable:g,isFocusable:N,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((k=d[Ee])==null?void 0:k.z)??0,isParent:!!((z=d[Ee])!=null&&z.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((E=d[Ee])!=null&&E.handleBounds)})}))};bg.displayName="NodeRenderer";var iS=y.memo(bg);const aS=(e,t,n)=>n===Q.Left?e-t:n===Q.Right?e+t:e,oS=(e,t,n)=>n===Q.Top?e-t:n===Q.Bottom?e+t:e,bp="react-flow__edgeupdater",wp=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:a,type:o})=>D.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:a,className:Ke([bp,`${bp}-${o}`]),cx:aS(t,r,e),cy:oS(n,r,e),r,stroke:"transparent",fill:"transparent"}),cS=()=>!0;var br=e=>{const t=({id:n,className:r,type:s,data:i,onClick:a,onEdgeDoubleClick:o,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:w,labelBgBorderRadius:g,style:N,source:h,target:x,sourceX:v,sourceY:b,targetX:k,targetY:z,sourcePosition:E,targetPosition:C,elementsSelectable:A,hidden:P,sourceHandleId:I,targetHandleId:O,onContextMenu:B,onMouseEnter:j,onMouseMove:R,onMouseLeave:$,reconnectRadius:T,onReconnect:_,onReconnectStart:S,onReconnectEnd:M,markerEnd:L,markerStart:F,rfId:W,ariaLabel:U,isFocusable:q,isReconnectable:te,pathOptions:ne,interactionWidth:ce,disableKeyboardA11y:fe})=>{const ue=y.useRef(null),[H,G]=y.useState(!1),[J,ee]=y.useState(!1),K=Re(),he=y.useMemo(()=>`url('#${Lc(F,W)}')`,[F,W]),ae=y.useMemo(()=>`url('#${Lc(L,W)}')`,[L,W]);if(P)return null;const Z=De=>{var zt;const{edges:xt,addSelectedEdges:Fn,unselectNodesAndEdges:On,multiSelectionActive:Bn}=K.getState(),Bt=xt.find(ds=>ds.id===n);Bt&&(A&&(K.setState({nodesSelectionActive:!1}),Bt.selected&&Bn?(On({nodes:[],edges:[Bt]}),(zt=ue.current)==null||zt.blur()):Fn([n])),a&&a(De,Bt))},He=_s(n,K.getState,o),An=_s(n,K.getState,B),cs=_s(n,K.getState,j),ur=_s(n,K.getState,R),dr=_s(n,K.getState,$),Ot=(De,xt)=>{if(De.button!==0)return;const{edges:Fn,isValidConnection:On}=K.getState(),Bn=xt?x:h,Bt=(xt?O:I)||null,zt=xt?"target":"source",ds=On||cS,Ra=xt,fs=Fn.find(Vn=>Vn.id===n);ee(!0),S==null||S(De,fs,zt);const Ia=Vn=>{ee(!1),M==null||M(Vn,fs,zt)};Jx({event:De,handleId:Bt,nodeId:Bn,onConnect:Vn=>_==null?void 0:_(fs,Vn),isTarget:Ra,getState:K.getState,setState:K.setState,isValidConnection:ds,edgeUpdaterType:zt,onReconnectEnd:Ia})},fr=De=>Ot(De,!0),Ln=De=>Ot(De,!1),Dn=()=>G(!0),pr=()=>G(!1),hr=!A&&!a,us=De=>{var xt;if(!fe&&Ox.includes(De.key)&&A){const{unselectNodesAndEdges:Fn,addSelectedEdges:On,edges:Bn}=K.getState();De.key==="Escape"?((xt=ue.current)==null||xt.blur(),Fn({edges:[Bn.find(zt=>zt.id===n)]})):On([n])}};return D.createElement("g",{className:Ke(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:c,animated:u,inactive:hr,updating:H}]),onClick:Z,onDoubleClick:He,onContextMenu:An,onMouseEnter:cs,onMouseMove:ur,onMouseLeave:dr,onKeyDown:q?us:void 0,tabIndex:q?0:void 0,role:q?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":U===null?void 0:U||`Edge from ${h} to ${x}`,"aria-describedby":q?`${og}-${W}`:void 0,ref:ue},!J&&D.createElement(e,{id:n,source:h,target:x,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:w,labelBgBorderRadius:g,data:i,style:N,sourceX:v,sourceY:b,targetX:k,targetY:z,sourcePosition:E,targetPosition:C,sourceHandleId:I,targetHandleId:O,markerStart:he,markerEnd:ae,pathOptions:ne,interactionWidth:ce}),te&&D.createElement(D.Fragment,null,(te==="source"||te===!0)&&D.createElement(wp,{position:E,centerX:v,centerY:b,radius:T,onMouseDown:fr,onMouseEnter:Dn,onMouseOut:pr,type:"source"}),(te==="target"||te===!0)&&D.createElement(wp,{position:C,centerX:k,centerY:z,radius:T,onMouseDown:Ln,onMouseEnter:Dn,onMouseOut:pr,type:"target"})))};return t.displayName="EdgeWrapper",y.memo(t)};function uS(e){const t={default:br(e.default||ia),straight:br(e.bezier||Ju),step:br(e.step||qu),smoothstep:br(e.step||Ma),simplebezier:br(e.simplebezier||Zu)},n={},r=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=br(e[i]||ia),s),n);return{...t,...r}}function Np(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,s=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,a=(n==null?void 0:n.height)||t.height;switch(e){case Q.Top:return{x:r+i/2,y:s};case Q.Right:return{x:r+i,y:s+a/2};case Q.Bottom:return{x:r+i/2,y:s+a};case Q.Left:return{x:r,y:s+a/2}}}function jp(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const dS=(e,t,n,r,s,i)=>{const a=Np(n,e,t),o=Np(i,r,s);return{sourceX:a.x,sourceY:a.y,targetX:o.x,targetY:o.y}};function fS({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:i,width:a,height:o,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+r,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Qu({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:a/c[2],height:o/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),p=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*p)>0}function kp(e){var r,s,i,a,o;const t=((r=e==null?void 0:e[Ee])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)||0,y:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const pS=[{level:0,isMaxLevel:!0,edges:[]}];function hS(e,t,n=!1){let r=-1;const s=e.reduce((a,o)=>{var d,f;const c=ft(o.zIndex);let u=c?o.zIndex:0;if(n){const p=t.get(o.target),m=t.get(o.source),w=o.selected||(p==null?void 0:p.selected)||(m==null?void 0:m.selected),g=Math.max(((d=m==null?void 0:m[Ee])==null?void 0:d.z)||0,((f=p==null?void 0:p[Ee])==null?void 0:f.z)||0,1e3);u=(c?o.zIndex:0)+(w?g:0)}return a[u]?a[u].push(o):a[u]=[o],r=u>r?u:r,a},{}),i=Object.entries(s).map(([a,o])=>{const c=+a;return{edges:o,level:c,isMaxLevel:c===r}});return i.length===0?pS:i}function mS(e,t,n){const r=ke(y.useCallback(s=>e?s.edges.filter(i=>{const a=t.get(i.source),o=t.get(i.target);return(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&fS({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:o.width,targetHeight:o.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return hS(r,t,n)}const xS=({color:e="none",strokeWidth:t=1})=>D.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),gS=({color:e="none",strokeWidth:t=1})=>D.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Sp={[la.Arrow]:xS,[la.ArrowClosed]:gS};function yS(e){const t=Re();return y.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(Sp,e)?Sp[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",tn.error009(e)),null)},[e])}const vS=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:o="auto-start-reverse"})=>{const c=yS(t);return c?D.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:o,refX:"0",refY:"0"},D.createElement(c,{color:n,strokeWidth:a})):null},bS=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const o=Lc(a,t);r.includes(o)||(s.push({id:o,color:a.color||e,...a}),r.push(o))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},wg=({defaultColor:e,rfId:t})=>{const n=ke(y.useCallback(bS({defaultColor:e,rfId:t}),[e,t]),(r,s)=>!(r.length!==s.length||r.some((i,a)=>i.id!==s[a].id)));return D.createElement("defs",null,n.map(r=>D.createElement(vS,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};wg.displayName="MarkerDefinitions";var wS=y.memo(wg);const NS=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Ng=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:a,onEdgeMouseEnter:o,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:p,onReconnectStart:m,onReconnectEnd:w,reconnectRadius:g,children:N,disableKeyboardA11y:h})=>{const{edgesFocusable:x,edgesUpdatable:v,elementsSelectable:b,width:k,height:z,connectionMode:E,nodeInternals:C,onError:A}=ke(NS,Ue),P=mS(t,C,n);return k?D.createElement(D.Fragment,null,P.map(({level:I,edges:O,isMaxLevel:B})=>D.createElement("svg",{key:I,style:{zIndex:I},width:k,height:z,className:"react-flow__edges react-flow__container"},B&&D.createElement(wS,{defaultColor:e,rfId:r}),D.createElement("g",null,O.map(j=>{const[R,$,T]=kp(C.get(j.source)),[_,S,M]=kp(C.get(j.target));if(!T||!M)return null;let L=j.type||"default";s[L]||(A==null||A("011",tn.error011(L)),L="default");const F=s[L]||s.default,W=E===ar.Strict?S.target:(S.target??[]).concat(S.source??[]),U=jp($.source,j.sourceHandle),q=jp(W,j.targetHandle),te=(U==null?void 0:U.position)||Q.Bottom,ne=(q==null?void 0:q.position)||Q.Top,ce=!!(j.focusable||x&&typeof j.focusable>"u"),fe=j.reconnectable||j.updatable,ue=typeof p<"u"&&(fe||v&&typeof fe>"u");if(!U||!q)return A==null||A("008",tn.error008(U,j)),null;const{sourceX:H,sourceY:G,targetX:J,targetY:ee}=dS(R,U,te,_,q,ne);return D.createElement(F,{key:j.id,id:j.id,className:Ke([j.className,i]),type:L,data:j.data,selected:!!j.selected,animated:!!j.animated,hidden:!!j.hidden,label:j.label,labelStyle:j.labelStyle,labelShowBg:j.labelShowBg,labelBgStyle:j.labelBgStyle,labelBgPadding:j.labelBgPadding,labelBgBorderRadius:j.labelBgBorderRadius,style:j.style,source:j.source,target:j.target,sourceHandleId:j.sourceHandle,targetHandleId:j.targetHandle,markerEnd:j.markerEnd,markerStart:j.markerStart,sourceX:H,sourceY:G,targetX:J,targetY:ee,sourcePosition:te,targetPosition:ne,elementsSelectable:b,onContextMenu:a,onMouseEnter:o,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:p,onReconnectStart:m,onReconnectEnd:w,reconnectRadius:g,rfId:r,ariaLabel:j.ariaLabel,isFocusable:ce,isReconnectable:ue,pathOptions:"pathOptions"in j?j.pathOptions:void 0,interactionWidth:j.interactionWidth,disableKeyboardA11y:h})})))),N):null};Ng.displayName="EdgeRenderer";var jS=y.memo(Ng);const kS=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function SS({children:e}){const t=ke(kS);return D.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function ES(e){const t=$a(),n=y.useRef(!1);y.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const _S={[Q.Left]:Q.Right,[Q.Right]:Q.Left,[Q.Top]:Q.Bottom,[Q.Bottom]:Q.Top},jg=({nodeId:e,handleType:t,style:n,type:r=mn.Bezier,CustomComponent:s,connectionStatus:i})=>{var z,E,C;const{fromNode:a,handleId:o,toX:c,toY:u,connectionMode:d}=ke(y.useCallback(A=>({fromNode:A.nodeInternals.get(e),handleId:A.connectionHandleId,toX:(A.connectionPosition.x-A.transform[0])/A.transform[2],toY:(A.connectionPosition.y-A.transform[1])/A.transform[2],connectionMode:A.connectionMode}),[e]),Ue),f=(z=a==null?void 0:a[Ee])==null?void 0:z.handleBounds;let p=f==null?void 0:f[t];if(d===ar.Loose&&(p=p||(f==null?void 0:f[t==="source"?"target":"source"])),!a||!p)return null;const m=o?p.find(A=>A.id===o):p[0],w=m?m.x+m.width/2:(a.width??0)/2,g=m?m.y+m.height/2:a.height??0,N=(((E=a.positionAbsolute)==null?void 0:E.x)??0)+w,h=(((C=a.positionAbsolute)==null?void 0:C.y)??0)+g,x=m==null?void 0:m.position,v=x?_S[x]:null;if(!x||!v)return null;if(s)return D.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:a,fromHandle:m,fromX:N,fromY:h,toX:c,toY:u,fromPosition:x,toPosition:v,connectionStatus:i});let b="";const k={sourceX:N,sourceY:h,sourcePosition:x,targetX:c,targetY:u,targetPosition:v};return r===mn.Bezier?[b]=Wx(k):r===mn.Step?[b]=Ac({...k,borderRadius:0}):r===mn.SmoothStep?[b]=Ac(k):r===mn.SimpleBezier?[b]=Hx(k):b=`M${N},${h} ${c},${u}`,D.createElement("path",{d:b,fill:"none",className:"react-flow__connection-path",style:n})};jg.displayName="ConnectionLine";const CS=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function zS({containerStyle:e,style:t,type:n,component:r}){const{nodeId:s,handleType:i,nodesConnectable:a,width:o,height:c,connectionStatus:u}=ke(CS,Ue);return!(s&&i&&o&&a)?null:D.createElement("svg",{style:e,width:o,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},D.createElement("g",{className:Ke(["react-flow__connection",u])},D.createElement(jg,{nodeId:s,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Ep(e,t){return y.useRef(null),Re(),y.useMemo(()=>t(e),[e])}const kg=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:i,onNodeClick:a,onEdgeClick:o,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:m,onSelectionContextMenu:w,onSelectionStart:g,onSelectionEnd:N,connectionLineType:h,connectionLineStyle:x,connectionLineComponent:v,connectionLineContainerStyle:b,selectionKeyCode:k,selectionOnDrag:z,selectionMode:E,multiSelectionKeyCode:C,panActivationKeyCode:A,zoomActivationKeyCode:P,deleteKeyCode:I,onlyRenderVisibleElements:O,elementsSelectable:B,selectNodesOnDrag:j,defaultViewport:R,translateExtent:$,minZoom:T,maxZoom:_,preventScrolling:S,defaultMarkerColor:M,zoomOnScroll:L,zoomOnPinch:F,panOnScroll:W,panOnScrollSpeed:U,panOnScrollMode:q,zoomOnDoubleClick:te,panOnDrag:ne,onPaneClick:ce,onPaneMouseEnter:fe,onPaneMouseMove:ue,onPaneMouseLeave:H,onPaneScroll:G,onPaneContextMenu:J,onEdgeContextMenu:ee,onEdgeMouseEnter:K,onEdgeMouseMove:he,onEdgeMouseLeave:ae,onReconnect:Z,onReconnectStart:He,onReconnectEnd:An,reconnectRadius:cs,noDragClassName:ur,noWheelClassName:dr,noPanClassName:Ot,elevateEdgesOnSelect:fr,disableKeyboardA11y:Ln,nodeOrigin:Dn,nodeExtent:pr,rfId:hr})=>{const us=Ep(e,rS),De=Ep(t,uS);return ES(i),D.createElement(tS,{onPaneClick:ce,onPaneMouseEnter:fe,onPaneMouseMove:ue,onPaneMouseLeave:H,onPaneContextMenu:J,onPaneScroll:G,deleteKeyCode:I,selectionKeyCode:k,selectionOnDrag:z,selectionMode:E,onSelectionStart:g,onSelectionEnd:N,multiSelectionKeyCode:C,panActivationKeyCode:A,zoomActivationKeyCode:P,elementsSelectable:B,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:L,zoomOnPinch:F,zoomOnDoubleClick:te,panOnScroll:W,panOnScrollSpeed:U,panOnScrollMode:q,panOnDrag:ne,defaultViewport:R,translateExtent:$,minZoom:T,maxZoom:_,onSelectionContextMenu:w,preventScrolling:S,noDragClassName:ur,noWheelClassName:dr,noPanClassName:Ot,disableKeyboardA11y:Ln},D.createElement(SS,null,D.createElement(jS,{edgeTypes:De,onEdgeClick:o,onEdgeDoubleClick:u,onlyRenderVisibleElements:O,onEdgeContextMenu:ee,onEdgeMouseEnter:K,onEdgeMouseMove:he,onEdgeMouseLeave:ae,onReconnect:Z,onReconnectStart:He,onReconnectEnd:An,reconnectRadius:cs,defaultMarkerColor:M,noPanClassName:Ot,elevateEdgesOnSelect:!!fr,disableKeyboardA11y:Ln,rfId:hr},D.createElement(zS,{style:x,type:h,component:v,containerStyle:b})),D.createElement("div",{className:"react-flow__edgelabel-renderer"}),D.createElement(iS,{nodeTypes:us,onNodeClick:a,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:m,selectNodesOnDrag:j,onlyRenderVisibleElements:O,noPanClassName:Ot,noDragClassName:ur,disableKeyboardA11y:Ln,nodeOrigin:Dn,nodeExtent:pr,rfId:hr})))};kg.displayName="GraphView";var TS=y.memo(kg);const Bc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],on={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Bc,nodeExtent:Bc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ar.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:lk,isValidConnection:void 0},PS=()=>y1((e,t)=>({...on,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:i}=t();e({nodeInternals:So(n,r,s,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",i=typeof r<"u",a=s?So(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:i?r:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:a,fitViewOnInitOptions:o,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:p}=new window.DOMMatrixReadOnly(f.transform),m=n.reduce((g,N)=>{const h=s.get(N.id);if(h!=null&&h.hidden)s.set(h.id,{...h,[Ee]:{...h[Ee],handleBounds:void 0}});else if(h){const x=Xu(N.nodeElement);!!(x.width&&x.height&&(h.width!==x.width||h.height!==x.height||N.forceUpdate))&&(s.set(h.id,{...h,[Ee]:{...h[Ee],handleBounds:{source:vp(".source",N.nodeElement,p,u),target:vp(".target",N.nodeElement,p,u)}},...x}),g.push({id:h.id,type:"dimensions",dimensions:x}))}return g},[]);ug(s,u);const w=a||i&&!a&&dg(t,{initial:!0,...o});e({nodeInternals:new Map(s),fitViewOnInitDone:w}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:i}=t(),a=n.map(o=>{const c={id:o.id,type:"position",dragging:s};return r&&(c.positionAbsolute=o.positionAbsolute,c.position=o.position),c});i(a)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:a,getNodes:o,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(i){const u=pg(n,o()),d=So(u,s,a,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let a,o=null;r?a=n.map(c=>fn(c,!0)):(a=$r(i(),n),o=$r(s,[])),ii({changedNodes:a,changedEdges:o,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let a,o=null;r?a=n.map(c=>fn(c,!0)):(a=$r(s,n),o=$r(i(),[])),ii({changedNodes:o,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:i}=t(),a=n||i(),o=r||s,c=a.map(d=>(d.selected=!1,fn(d.id,!1))),u=o.map(d=>fn(d.id,!1));ii({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=t();r==null||r.scaleExtent([n,s]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=t();r==null||r.scaleExtent([s,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(o=>o.selected).map(o=>fn(o.id,!1)),a=n.filter(o=>o.selected).map(o=>fn(o.id,!1));ii({changedNodes:i,changedEdges:a,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(s=>{s.positionAbsolute=Ku(s.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:i,d3Zoom:a,d3Selection:o,translateExtent:c}=t();if(!a||!o||!n.x&&!n.y)return!1;const u=Cn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,i]],f=a==null?void 0:a.constrain()(u,d,c);return a.transform(o,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:on.connectionNodeId,connectionHandleId:on.connectionHandleId,connectionHandleType:on.connectionHandleType,connectionStatus:on.connectionStatus,connectionStartHandle:on.connectionStartHandle,connectionEndHandle:on.connectionEndHandle}),reset:()=>e({...on})}),Object.is),ld=({children:e})=>{const t=y.useRef(null);return t.current||(t.current=PS()),D.createElement(Z2,{value:t.current},e)};ld.displayName="ReactFlowProvider";const Sg=({children:e})=>y.useContext(Pa)?D.createElement(D.Fragment,null,e):D.createElement(ld,null,e);Sg.displayName="ReactFlowWrapper";const MS={input:rg,default:Fc,output:lg,group:rd},$S={default:ia,straight:Ju,step:qu,smoothstep:Ma,simplebezier:Zu},RS=[0,0],IS=[15,15],AS={x:0,y:0,zoom:1},LS={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Eg=y.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i=MS,edgeTypes:a=$S,onNodeClick:o,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:p,onConnect:m,onConnectStart:w,onConnectEnd:g,onClickConnectStart:N,onClickConnectEnd:h,onNodeMouseEnter:x,onNodeMouseMove:v,onNodeMouseLeave:b,onNodeContextMenu:k,onNodeDoubleClick:z,onNodeDragStart:E,onNodeDrag:C,onNodeDragStop:A,onNodesDelete:P,onEdgesDelete:I,onSelectionChange:O,onSelectionDragStart:B,onSelectionDrag:j,onSelectionDragStop:R,onSelectionContextMenu:$,onSelectionStart:T,onSelectionEnd:_,connectionMode:S=ar.Strict,connectionLineType:M=mn.Bezier,connectionLineStyle:L,connectionLineComponent:F,connectionLineContainerStyle:W,deleteKeyCode:U="Backspace",selectionKeyCode:q="Shift",selectionOnDrag:te=!1,selectionMode:ne=yl.Full,panActivationKeyCode:ce="Space",multiSelectionKeyCode:fe=sa()?"Meta":"Control",zoomActivationKeyCode:ue=sa()?"Meta":"Control",snapToGrid:H=!1,snapGrid:G=IS,onlyRenderVisibleElements:J=!1,selectNodesOnDrag:ee=!0,nodesDraggable:K,nodesConnectable:he,nodesFocusable:ae,nodeOrigin:Z=RS,edgesFocusable:He,edgesUpdatable:An,elementsSelectable:cs,defaultViewport:ur=AS,minZoom:dr=.5,maxZoom:Ot=2,translateExtent:fr=Bc,preventScrolling:Ln=!0,nodeExtent:Dn,defaultMarkerColor:pr="#b1b1b7",zoomOnScroll:hr=!0,zoomOnPinch:us=!0,panOnScroll:De=!1,panOnScrollSpeed:xt=.5,panOnScrollMode:Fn=Qn.Free,zoomOnDoubleClick:On=!0,panOnDrag:Bn=!0,onPaneClick:Bt,onPaneMouseEnter:zt,onPaneMouseMove:ds,onPaneMouseLeave:Ra,onPaneScroll:fs,onPaneContextMenu:Ia,children:ad,onEdgeContextMenu:Vn,onEdgeDoubleClick:Pg,onEdgeMouseEnter:Mg,onEdgeMouseMove:$g,onEdgeMouseLeave:Rg,onEdgeUpdate:Ig,onEdgeUpdateStart:Ag,onEdgeUpdateEnd:Lg,onReconnect:Dg,onReconnectStart:Fg,onReconnectEnd:Og,reconnectRadius:Bg=10,edgeUpdaterRadius:Vg=10,onNodesChange:Ug,onEdgesChange:Hg,noDragClassName:Wg="nodrag",noWheelClassName:Gg="nowheel",noPanClassName:od="nopan",fitView:Yg=!1,fitViewOptions:Xg,connectOnClick:Kg=!0,attributionPosition:Qg,proOptions:Zg,defaultEdgeOptions:qg,elevateNodesOnSelect:Jg=!0,elevateEdgesOnSelect:e0=!1,disableKeyboardA11y:cd=!1,autoPanOnConnect:t0=!0,autoPanOnNodeDrag:n0=!0,connectionRadius:r0=20,isValidConnection:s0,onError:l0,style:i0,id:ud,nodeDragThreshold:a0,...o0},c0)=>{const Aa=ud||"1";return D.createElement("div",{...o0,style:{...i0,...LS},ref:c0,className:Ke(["react-flow",s]),"data-testid":"rf__wrapper",id:ud},D.createElement(Sg,null,D.createElement(TS,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:p,onNodeClick:o,onEdgeClick:c,onNodeMouseEnter:x,onNodeMouseMove:v,onNodeMouseLeave:b,onNodeContextMenu:k,onNodeDoubleClick:z,nodeTypes:i,edgeTypes:a,connectionLineType:M,connectionLineStyle:L,connectionLineComponent:F,connectionLineContainerStyle:W,selectionKeyCode:q,selectionOnDrag:te,selectionMode:ne,deleteKeyCode:U,multiSelectionKeyCode:fe,panActivationKeyCode:ce,zoomActivationKeyCode:ue,onlyRenderVisibleElements:J,selectNodesOnDrag:ee,defaultViewport:ur,translateExtent:fr,minZoom:dr,maxZoom:Ot,preventScrolling:Ln,zoomOnScroll:hr,zoomOnPinch:us,zoomOnDoubleClick:On,panOnScroll:De,panOnScrollSpeed:xt,panOnScrollMode:Fn,panOnDrag:Bn,onPaneClick:Bt,onPaneMouseEnter:zt,onPaneMouseMove:ds,onPaneMouseLeave:Ra,onPaneScroll:fs,onPaneContextMenu:Ia,onSelectionContextMenu:$,onSelectionStart:T,onSelectionEnd:_,onEdgeContextMenu:Vn,onEdgeDoubleClick:Pg,onEdgeMouseEnter:Mg,onEdgeMouseMove:$g,onEdgeMouseLeave:Rg,onReconnect:Dg??Ig,onReconnectStart:Fg??Ag,onReconnectEnd:Og??Lg,reconnectRadius:Bg??Vg,defaultMarkerColor:pr,noDragClassName:Wg,noWheelClassName:Gg,noPanClassName:od,elevateEdgesOnSelect:e0,rfId:Aa,disableKeyboardA11y:cd,nodeOrigin:Z,nodeExtent:Dn}),D.createElement(_k,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:w,onConnectEnd:g,onClickConnectStart:N,onClickConnectEnd:h,nodesDraggable:K,nodesConnectable:he,nodesFocusable:ae,edgesFocusable:He,edgesUpdatable:An,elementsSelectable:cs,elevateNodesOnSelect:Jg,minZoom:dr,maxZoom:Ot,nodeExtent:Dn,onNodesChange:Ug,onEdgesChange:Hg,snapToGrid:H,snapGrid:G,connectionMode:S,translateExtent:fr,connectOnClick:Kg,defaultEdgeOptions:qg,fitView:Yg,fitViewOptions:Xg,onNodesDelete:P,onEdgesDelete:I,onNodeDragStart:E,onNodeDrag:C,onNodeDragStop:A,onSelectionDrag:j,onSelectionDragStart:B,onSelectionDragStop:R,noPanClassName:od,nodeOrigin:Z,rfId:Aa,autoPanOnConnect:t0,autoPanOnNodeDrag:n0,onError:l0,connectionRadius:r0,isValidConnection:s0,nodeDragThreshold:a0}),D.createElement(Sk,{onSelectionChange:O}),ad,D.createElement(J2,{proOptions:Zg,position:Qg}),D.createElement(Mk,{rfId:Aa,disableKeyboardA11y:cd})))});Eg.displayName="ReactFlow";function _g(e){return t=>{const[n,r]=y.useState(t),s=y.useCallback(i=>r(a=>e(i,a)),[]);return[n,r,s]}}const DS=_g(pg),FS=_g(Gk);function OS(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},D.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function BS(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},D.createElement("path",{d:"M0 0h32v4.2H0z"}))}function VS(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},D.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function US(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},D.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function HS(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},D.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Ls=({children:e,className:t,...n})=>D.createElement("button",{type:"button",className:Ke(["react-flow__controls-button",t]),...n},e);Ls.displayName="ControlButton";const WS=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Cg=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:a,onFitView:o,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const p=Re(),[m,w]=y.useState(!1),{isInteractive:g,minZoomReached:N,maxZoomReached:h}=ke(WS,Ue),{zoomIn:x,zoomOut:v,fitView:b}=$a();if(y.useEffect(()=>{w(!0)},[]),!m)return null;const k=()=>{x(),i==null||i()},z=()=>{v(),a==null||a()},E=()=>{b(s),o==null||o()},C=()=>{p.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),c==null||c(!g)};return D.createElement(Lx,{className:Ke(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&D.createElement(D.Fragment,null,D.createElement(Ls,{onClick:k,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:h},D.createElement(OS,null)),D.createElement(Ls,{onClick:z,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:N},D.createElement(BS,null))),n&&D.createElement(Ls,{className:"react-flow__controls-fitview",onClick:E,title:"fit view","aria-label":"fit view"},D.createElement(VS,null)),r&&D.createElement(Ls,{className:"react-flow__controls-interactive",onClick:C,title:"toggle interactivity","aria-label":"toggle interactivity"},g?D.createElement(HS,null):D.createElement(US,null)),d)};Cg.displayName="Controls";var GS=y.memo(Cg),St;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(St||(St={}));function YS({color:e,dimensions:t,lineWidth:n}){return D.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function XS({color:e,radius:t}){return D.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const KS={[St.Dots]:"#91919a",[St.Lines]:"#eee",[St.Cross]:"#e2e2e2"},QS={[St.Dots]:1,[St.Lines]:1,[St.Cross]:6},ZS=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function zg({id:e,variant:t=St.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=2,color:a,style:o,className:c}){const u=y.useRef(null),{transform:d,patternId:f}=ke(ZS,Ue),p=a||KS[t],m=r||QS[t],w=t===St.Dots,g=t===St.Cross,N=Array.isArray(n)?n:[n,n],h=[N[0]*d[2]||1,N[1]*d[2]||1],x=m*d[2],v=g?[x,x]:h,b=w?[x/i,x/i]:[v[0]/i,v[1]/i];return D.createElement("svg",{className:Ke(["react-flow__background",c]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},D.createElement("pattern",{id:f+e,x:d[0]%h[0],y:d[1]%h[1],width:h[0],height:h[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${b[0]},-${b[1]})`},w?D.createElement(XS,{color:p,radius:x/i}):D.createElement(YS,{dimensions:v,color:p,lineWidth:s})),D.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}zg.displayName="Background";var qS=y.memo(zg);const JS=({entity:e,active:t})=>t?l.jsx("div",{className:"w-full h-full p-4 animate-fade-in",children:l.jsxs(ie,{className:"w-full h-[600px] relative overflow-hidden bg-black/40 border-white/10 group",children:[l.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-900 via-[#09090b] to-black opacity-80"}),l.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/cartographer.png")'}}),l.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff05_1px,transparent_1px),linear-gradient(to_bottom,#ffffff05_1px,transparent_1px)] bg-[size:40px_40px]"}),l.jsxs("div",{className:"absolute top-1/3 left-1/4 flex flex-col items-center gap-2 group/pin cursor-pointer hover:scale-110 transition-transform",children:[l.jsx("span",{className:"material-symbols-outlined text-4xl text-emerald-500 drop-shadow-[0_0_15px_rgba(16,185,129,0.5)]",children:"location_on"}),l.jsx("span",{className:"text-[10px] uppercase font-black tracking-widest text-emerald-100 bg-black/50 px-2 py-1 rounded-full border border-emerald-500/30 opacity-0 group-hover/pin:opacity-100 transition-opacity",children:"Capital City"})]}),l.jsxs("div",{className:"absolute bottom-1/3 right-1/3 flex flex-col items-center gap-2 group/pin cursor-pointer hover:scale-110 transition-transform",children:[l.jsx("span",{className:"material-symbols-outlined text-4xl text-indigo-500 drop-shadow-[0_0_15px_rgba(99,102,241,0.5)]",children:"castle"}),l.jsx("span",{className:"text-[10px] uppercase font-black tracking-widest text-indigo-100 bg-black/50 px-2 py-1 rounded-full border border-indigo-500/30 opacity-0 group-hover/pin:opacity-100 transition-opacity",children:"Old Fortress"})]}),l.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[l.jsx("button",{className:"p-2 rounded-xl bg-surface-light/80 backdrop-blur border border-glass-border hover:bg-white/10 text-white transition-all shadow-xl",children:l.jsx("span",{className:"material-symbols-outlined",children:"add_location"})}),l.jsx("button",{className:"p-2 rounded-xl bg-surface-light/80 backdrop-blur border border-glass-border hover:bg-white/10 text-white transition-all shadow-xl",children:l.jsx("span",{className:"material-symbols-outlined",children:"layers"})})]}),l.jsx("div",{className:"absolute bottom-4 right-4 text-xs font-mono text-white/30",children:"COORD: 45.32, -12.04 | SCALE: 1:50000"})]})}):null,eE=({entity:e,active:t})=>{if(!t)return null;const n=[{year:"450 BE",title:"The Great Fracture",desc:"The world split into three continents."},{year:"102 AE",title:"Rise of the First King",desc:"Unification of the northern tribes."},{year:"Present",title:"Current Era",desc:"The age of uncertain peace."}];return l.jsx("div",{className:"w-full max-w-3xl mx-auto p-4 animate-slide-up",children:l.jsxs("div",{className:"relative border-l-2 border-white/10 ml-6 space-y-12 py-8",children:[n.map((r,s)=>l.jsxs("div",{className:"relative pl-12 group",children:[l.jsx("div",{className:"absolute left-[-9px] top-0 size-4 rounded-full bg-background-dark border-2 border-primary group-hover:scale-125 group-hover:bg-primary transition-all shadow-[0_0_10px_rgba(99,102,241,0.3)]"}),l.jsxs(ie,{className:"p-6 border-white/5 hover:border-primary/30 transition-all hover:-translate-y-1 cursor-pointer",children:[l.jsx("span",{className:"text-xs font-black text-primary uppercase tracking-widest mb-1 block",children:r.year}),l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:r.title}),l.jsx("p",{className:"text-sm text-text-muted leading-relaxed",children:r.desc})]})]},s)),l.jsxs("div",{className:"relative pl-12 group cursor-pointer opacity-50 hover:opacity-100 transition-opacity",children:[l.jsx("div",{className:"absolute left-[-9px] top-2 size-4 rounded-full bg-background-dark border-2 border-dashed border-white/30"}),l.jsxs("div",{className:"p-4 border-2 border-dashed border-white/10 rounded-2xl flex items-center justify-center text-text-muted hover:border-primary/50 hover:text-white transition-all",children:[l.jsx("span",{className:"material-symbols-outlined mr-2",children:"add_circle"}),l.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Add Historical Event"})]})]})]})})},tE=({attribute:e,value:t,onChange:n,linkableEntities:r=[]})=>{const{plantilla:s}=e,i=()=>{switch(s.tipo){case"text":return l.jsx("textarea",{className:"w-full bg-transparent text-white text-sm font-medium focus:outline-none resize-none no-scrollbar h-auto min-h-[100px]",value:t||"",onChange:c=>n(c.target.value),placeholder:"..."});case"short_text":return l.jsx("input",{type:"text",className:"w-full bg-transparent text-white text-sm font-medium focus:outline-none",value:t||"",onChange:c=>n(c.target.value),placeholder:"..."});case"number":return l.jsx("input",{type:"number",className:"w-full bg-transparent text-white text-sm font-medium focus:outline-none",value:t||"",onChange:c=>n(c.target.value)});case"boolean":return l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>n(t==="true"?"false":"true"),className:`size-6 rounded-lg border flex items-center justify-center transition-all ${t==="true"?"bg-primary border-primary text-white":"border-glass-border text-transparent hover:border-primary/50"}`,children:l.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})}),l.jsx("span",{className:"text-xs text-text-muted",children:t==="true"?"Enabled":"Disabled"})]});case"select":let a=[];try{a=JSON.parse(s.metadata||"{}").options||[]}catch(c){console.error("Invalid metadata for select",c)}return l.jsxs("div",{className:"relative",children:[l.jsxs("select",{className:"w-full bg-black/30 border border-white/5 rounded-xl px-4 py-2.5 text-sm text-white focus:outline-none focus:border-primary/50 appearance-none cursor-pointer",value:t||"",onChange:c=>n(c.target.value),children:[l.jsx("option",{value:"",children:"Select an option..."}),a.map((c,u)=>l.jsx("option",{value:c,className:"bg-surface-dark text-white p-2",children:c},u))]}),l.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-white/50",children:l.jsx("span",{className:"material-symbols-outlined text-sm",children:"unfold_more"})})]});case"date":return l.jsx("input",{type:"date",className:"w-full bg-transparent text-white text-sm font-medium focus:outline-none [color-scheme:dark]",value:t||"",onChange:c=>n(c.target.value)});case"entity_link":return l.jsxs("div",{className:"relative",children:[l.jsxs("select",{className:"w-full bg-black/30 border border-white/5 rounded-xl px-4 py-2.5 text-sm text-white focus:outline-none focus:border-primary/50 appearance-none cursor-pointer",value:t||"",onChange:c=>n(c.target.value),children:[l.jsx("option",{value:"",children:"Select an Entity Link..."}),r.map(c=>l.jsx("option",{value:c.id,className:"bg-surface-dark text-white p-2",children:c.nombre},c.id))]}),l.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-white/50",children:l.jsx("span",{className:"material-symbols-outlined text-sm",children:"link"})})]});case"image":return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex gap-2",children:l.jsx("input",{type:"text",className:"flex-1 bg-black/30 border border-white/5 rounded-xl px-4 py-2 text-xs text-text-muted focus:text-white focus:outline-none",placeholder:"Image URL...",value:t||"",onChange:c=>n(c.target.value)})}),t&&l.jsx("div",{className:"w-full aspect-video rounded-xl bg-black/40 border border-white/5 overflow-hidden relative group",children:l.jsx("img",{src:t,alt:"Preview",className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"})}),!t&&l.jsx("div",{className:"w-full h-20 rounded-xl bg-white/5 border border-dashed border-white/10 flex items-center justify-center text-text-muted/30",children:l.jsx("span",{className:"material-symbols-outlined",children:"image"})})]});case"table":const o=t||"[]";return l.jsxs("div",{className:"space-y-2",children:[l.jsx("textarea",{className:"w-full h-32 bg-black/30 border border-white/5 rounded-xl p-3 text-xs font-mono text-white/70 focus:outline-none focus:border-primary/50",value:o,onChange:c=>n(c.target.value),placeholder:'[{"Item": "Sword", "Qty": 1}, ...]'}),l.jsxs("div",{className:"text-[10px] text-text-muted flex justify-between",children:[l.jsx("span",{children:"JSON Format supported"}),l.jsx("span",{className:"material-symbols-outlined text-xs",children:"data_array"})]})]});default:return l.jsxs("div",{className:"text-sm font-medium text-white/70 italic p-2 rounded-lg bg-white/5 border border-white/5",children:[l.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-500 mr-2",children:s.tipo}),t]})}};return l.jsxs("div",{className:"p-4 border border-white/5 rounded-2xl bg-surface-dark/50 backdrop-blur-sm relative overflow-hidden h-full flex flex-col group hover:border-primary/20 transition-all",children:[l.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-text-muted mb-3 flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-xs opacity-50",children:"label"}),s.nombre]}),l.jsx("div",{className:"flex-1 nodrag",children:i()}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]})},nE=({data:e,selected:t})=>l.jsxs("div",{className:`shadow-xl rounded-2xl min-w-[300px] transition-all duration-300 ${t?"ring-2 ring-primary scale-105":""}`,children:[l.jsx(rs,{type:"target",position:Q.Left,className:"!bg-primary !w-3 !h-3"}),l.jsx(tE,{attribute:e.attribute,value:e.value,onChange:e.onChange,linkableEntities:e.linkableEntities}),l.jsx(rs,{type:"source",position:Q.Right,className:"!bg-primary !w-3 !h-3"})]}),rE=y.memo(nE),sE={custom:rE},lE=({mode:e})=>{var ue;const{username:t,projectName:n,entitySlug:r,folderSlug:s,type:i}=Dt(),a=useNavigate(),o=e==="creation",{setRightOpen:c,setRightPanelMode:u,setAvailableTemplates:d,setAddAttributeHandler:f,setCreateTemplateHandler:p}=_l(),[m,w]=y.useState(null),[g,N]=y.useState(!1),[h,x]=y.useState({nombre:"",tipo:"text",global:!1}),[v,b]=y.useState(!0),[k,z]=y.useState(!1),[E,C]=y.useState("attributes"),[A,P]=y.useState([]),[I,O,B]=DS([]),[j,R,$]=FS([]),T=y.useRef(null);$a(),y.useEffect(()=>(u("TOOLBOX"),c(!0),_(),o?S():M(),()=>{u("NOTES")}),[r,s,o]);const _=async()=>{try{const H=await X.get("/world-bible/entities");P(H)}catch(H){console.error("Could not load linkable entities",H)}},S=async()=>{b(!0);try{const H=await X.get(`/world-bible/folders/${s}`),G=await X.get(`/world-bible/folders/${s}/templates`);w({nombre:`Nuevo ${i==="map"?"Mapa":i==="timeline"?"Cronograma":"Ente"}`,carpeta:H,tipoEspecial:i,isNew:!0}),d(G);let J=[],ee=50;J.push({id:"core-name",type:"custom",position:{x:50,y:ee},data:{attribute:{nombre:"Nombre",tipo:"short_text",descripcion:"Nombre de la entidad"},value:"",onChange:K=>F("nombre",K),isCore:!0}}),ee+=150,J.push({id:"core-desc",type:"custom",position:{x:50,y:ee},data:{attribute:{nombre:"Descripcin",tipo:"text",descripcion:"Descripcin principal"},value:"",onChange:K=>F("descripcion",K),isCore:!0}}),ee+=300,J.push({id:"core-tags",type:"custom",position:{x:50,y:ee},data:{attribute:{nombre:"Etiquetas",tipo:"short_text",descripcion:"Separadas por comas"},value:"",onChange:K=>F("tags",K),isCore:!0}}),G.forEach((K,he)=>{J.push({id:`temp-${K.id}`,type:"custom",position:{x:450+he%2*350,y:50+Math.floor(he/2)*200},data:{attribute:K,value:K.valorDefecto||"",onChange:ae=>L(K.id,ae)}})}),O(J)}catch(H){console.error("Error preparing creation mode:",H)}finally{b(!1)}},M=async()=>{var H;b(!0);try{const G=await X.get(`/world-bible/entities/${r}`);w(G);let J=[],ee=50;if(J.push({id:"core-name",type:"custom",position:{x:50,y:ee},data:{attribute:{nombre:"Nombre",tipo:"short_text",descripcion:"Nombre de la entidad"},value:G.nombre,onChange:K=>F("nombre",K),isCore:!0}}),ee+=150,J.push({id:"core-desc",type:"custom",position:{x:50,y:ee},data:{attribute:{nombre:"Descripcin General",tipo:"text",descripcion:"Descripcin principal."},value:G.descripcion||"",onChange:K=>F("descripcion",K),isCore:!0}}),ee+=300,J.push({id:"core-tags",type:"custom",position:{x:50,y:ee},data:{attribute:{nombre:"Etiquetas",tipo:"short_text",descripcion:"Separadas por comas"},value:G.tags||"",onChange:K=>F("tags",K),isCore:!0}}),G.valores&&G.valores.forEach((K,he)=>{J.push({id:K.id.toString(),type:"custom",position:{x:450+he%2*350,y:50+Math.floor(he/2)*200},data:{attribute:K.plantilla,value:K.valor,onChange:ae=>W(K.id,ae)}})}),O(J),(H=G.carpeta)!=null&&H.id){const K=await X.get(`/world-bible/folders/${G.carpeta.id}/templates`);d(K)}}catch(G){console.error("Error loading entity:",G)}finally{b(!1)}},L=(H,G)=>{O(J=>J.map(ee=>ee.id===`temp-${H}`?{...ee,data:{...ee.data,value:G}}:ee))};y.useEffect(()=>{const H=(m==null?void 0:m.tipoEspecial)||i;C(H==="map"||H==="timeline"?"special":"attributes")},[m==null?void 0:m.tipoEspecial,i]),y.useEffect(()=>{I.length>0&&A.length>0&&O(H=>H.map(G=>({...G,data:{...G.data,linkableEntities:A}})))},[A.length]);const F=(H,G)=>{H==="nombre"&&w(J=>({...J,nombre:G})),O(J=>J.map(ee=>ee.data.isCore&&ee.id===`core-${H}`?{...ee,data:{...ee.data,value:G}}:ee))},W=y.useCallback((H,G)=>{O(J=>J.map(ee=>ee.id===H.toString()?{...ee,data:{...ee.data,value:G}}:ee))},[O]),U=async H=>{if(o){const G=availableTemplates.find(J=>J.id===parseInt(H));if(!G)return;O(J=>[...J,{id:`temp-${G.id}`,type:"custom",position:{x:400,y:400},data:{attribute:G,value:G.valorDefecto||"",onChange:ee=>L(G.id,ee)}}])}else try{await X.post(`/world-bible/entities/${m.id}/attributes`,{plantillaId:H}),M()}catch(G){console.error("Failed to add attribute",G)}},q=async()=>{if(m){z(!0);try{const H=I.find(K=>K.id==="core-name"),G=I.find(K=>K.id==="core-desc"),J=I.find(K=>K.id==="core-tags"),ee={nombre:(H==null?void 0:H.data.value)||m.nombre,descripcion:(G==null?void 0:G.data.value)||"",tags:(J==null?void 0:J.data.value)||"",tipoEspecial:m.tipoEspecial||"entidadindividual"};if(o){ee.carpetaId=m.carpeta.id;const K=await X.post("/world-bible/entities",ee),he=I.filter(ae=>ae.id.startsWith("temp-"));for(const ae of he){const Z=parseInt(ae.id.replace("temp-","")),He=await X.post(`/world-bible/entities/${K.id}/attributes`,{plantillaId:Z});await X.patch(`/world-bible/entities/${K.id}/values`,[{valorId:He.id,nuevoValor:ae.data.value}])}z(!1),a(`/${t}/${n}/bible/folder/${s}/entity/${K.slug||K.id}`,{replace:!0})}else{ee.nombre!==m.nombre&&await X.put(`/world-bible/entities/${m.id}`,{nombre:ee.nombre}),await X.patch(`/world-bible/entities/${m.id}/details`,{descripcion:ee.descripcion,tags:ee.tags});const K=I.filter(he=>!he.data.isCore&&!he.id.startsWith("link-")&&!he.id.startsWith("temp-")).map(he=>({valorId:parseInt(he.id),nuevoValor:he.data.value}));K.length>0&&await X.patch(`/world-bible/entities/${m.id}/values`,K),z(!1)}}catch(H){console.error("Error saving entity:",H),z(!1),alert("Error al guardar la entidad.")}}},te=y.useCallback(H=>R(G=>Gx(H,G)),[R]),ne=y.useCallback(H=>{H.preventDefault(),H.dataTransfer.dropEffect="move"},[]),ce=y.useCallback(async H=>{H.preventDefault();const G=H.dataTransfer.getData("application/reactflow/type");if(!(typeof G>"u"||!G)&&G==="attribute"){const J=H.dataTransfer.getData("templateId");await U(J)}},[entityId]),fe=async H=>{var G;H.preventDefault();try{if(await X.post(`/world-bible/folders/${m.carpeta.id}/templates`,h),N(!1),x({nombre:"",tipo:"text",global:!1}),(G=m.carpeta)!=null&&G.id){const J=await X.get(`/world-bible/folders/${m.carpeta.id}/templates`);d(J)}}catch(J){console.error("Failed to create template",J)}};return v?l.jsx("div",{className:"p-20 text-center animate-pulse text-text-muted uppercase tracking-widest font-black",children:"Summoning Entity..."}):m?l.jsxs("div",{className:"flex-1 flex flex-col h-full w-full relative",children:[g&&l.jsx("div",{className:"absolute inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-surface-dark border border-glass-border rounded-2xl p-6 w-full max-w-md shadow-2xl animate-scale-in",children:[l.jsx("h3",{className:"text-xl font-black text-white mb-4",children:"Nueva Plantilla"}),l.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase font-bold text-text-muted block mb-1",children:"Nombre"}),l.jsx("input",{autoFocus:!0,className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 text-white focus:border-primary",value:h.nombre,onChange:H=>x({...h,nombre:H.target.value}),required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs uppercase font-bold text-text-muted block mb-1",children:"Tipo"}),l.jsxs("select",{className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 text-white focus:border-primary",value:h.tipo,onChange:H=>x({...h,tipo:H.target.value}),children:[l.jsx("option",{value:"text",children:"Texto Largo"}),l.jsx("option",{value:"short_text",children:"Texto Corto"}),l.jsx("option",{value:"number",children:"Nmero"}),l.jsx("option",{value:"boolean",children:"Si/No"}),l.jsx("option",{value:"date",children:"Fecha"}),l.jsx("option",{value:"entity_link",children:"Vnculo Entidad"}),l.jsx("option",{value:"image",children:"Imagen URL"})]})]}),l.jsx("div",{className:"flex items-center",children:l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-3 bg-white/5 rounded-xl w-full hover:bg-white/10 transition-colors",children:[l.jsx("input",{type:"checkbox",checked:h.global,onChange:H=>x({...h,global:H.target.checked}),className:"accent-primary size-4"}),l.jsx("span",{className:"text-sm font-bold text-white",children:"Es Global?"})]})})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-text-muted hover:text-white font-bold",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary text-white rounded-xl font-bold shadow-lg shadow-primary/20 hover:scale-105 transition-transform",children:"Crear"})]})]})]})}),l.jsxs("header",{className:"flex-none p-6 flex items-end justify-between gap-6 border-b border-white/5 bg-background-dark/50 backdrop-blur z-10",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-3 text-xs font-black uppercase tracking-widest text-primary italic",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"folder"}),((ue=m.carpeta)==null?void 0:ue.nombre)||"Root"]}),l.jsx("h1",{className:"text-4xl font-black text-white tracking-tighter",children:m.nombre}),m.tags&&l.jsx("div",{className:"flex gap-2",children:m.tags.split(",").map((H,G)=>l.jsx("span",{className:"px-2 py-0.5 rounded-md bg-white/5 text-[10px] uppercase font-bold text-text-muted border border-white/5",children:H.trim()},G))})]}),l.jsx("div",{className:"flex gap-2",children:l.jsx("button",{onClick:q,disabled:k,className:`size-12 rounded-2xl bg-primary flex items-center justify-center text-white shadow-lg shadow-primary/20 hover:scale-105 active:scale-95 transition-all ${k&&"opacity-50 animate-pulse"}`,children:l.jsx("span",{className:"material-symbols-outlined",children:k?"sync":"save"})})})]}),l.jsx("div",{className:`flex-1 w-full h-full relative ${E!=="attributes"?"hidden":""}`,ref:T,children:l.jsxs(Eg,{nodes:I,edges:j,onNodesChange:B,onEdgesChange:$,onConnect:te,onDrop:ce,onDragOver:ne,nodeTypes:sE,fitView:!0,className:"bg-background-dark",children:[l.jsx(qS,{color:"#ffffff",gap:20,size:1,variant:"dots",className:"opacity-5"}),l.jsx(GS,{className:"bg-surface-dark border border-white/10 text-white fill-white"})]})}),E==="special"&&((m==null?void 0:m.tipoEspecial)==="map"||i==="map")&&l.jsx(JS,{entity:m}),E==="special"&&((m==null?void 0:m.tipoEspecial)==="timeline"||i==="timeline")&&l.jsx(eE,{entity:m})]}):l.jsx("div",{className:"p-20 text-center text-red-500",children:"Entity lost in the void."})},Ts=({mode:e})=>l.jsx(ld,{children:l.jsx(lE,{mode:e})}),iE=e=>{switch(e==null?void 0:e.toLowerCase()){case"text":return"notes";case"short_text":return"short_text";case"number":return"pin";case"date":return"calendar_today";case"select":return"list";case"boolean":return"check_box";case"map":return"map";case"timeline":return"timeline";case"character":case"entidadindividual":return"person";case"location":case"zona":case"construccion":return"location_on";case"culture":case"entidadcolectiva":return"groups";case"universe":case"galaxy":case"system":case"planet":return"public";case"entity_link":return"link";default:return"description"}},Ds=({item:e,type:t,linkTo:n,onContextMenu:r})=>{const s=t==="folder";return l.jsxs(Cl,{to:n,onContextMenu:r,className:"group relative flex flex-col p-4 rounded-3xl bg-surface-dark border border-glass-border hover:border-primary/50 hover:bg-white/5 transition-all duration-300 backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsx("div",{className:`
                    size-12 rounded-2xl flex items-center justify-center text-xl transition-transform group-hover:scale-110 
                    ${s?"bg-primary/20 text-primary":"bg-white/5 text-text-muted group-hover:text-white"}
                `,children:l.jsx("span",{className:"material-symbols-outlined",children:s?"folder":iE(e.tipoEspecial)})}),s&&l.jsx("div",{className:"px-2 py-1 rounded-lg bg-surface-light/50 border border-glass-border text-[10px] font-black text-white shadow-sm",children:e.itemCount||0})]}),l.jsxs("div",{className:"mt-auto",children:[l.jsx("h3",{className:"text-sm font-bold text-white truncate group-hover:text-primary transition-colors",children:e.nombre}),l.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-text-muted mt-1 opacity-70 group-hover:opacity-100 transition-opacity",children:s?"Folder":e.tipoEspecial||"Entity"})]}),l.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity transform group-hover:translate-x-1 duration-300",children:l.jsx("span",{className:"material-symbols-outlined text-primary text-sm",children:"arrow_forward"})})]})},Zn={UNIVERSE:{id:"UNIVERSE",label:"Universo / Multiverso",description:"Contenedor supremo de realidades.",icon:"public",color:"text-purple-400",bgColor:"bg-purple-900/20"},GALAXY:{id:"GALAXY",label:"Galaxia",description:"Agrupacin masiva de sistemas estelares.",icon:"auto_awesome",color:"text-indigo-400",bgColor:"bg-indigo-900/20"},SYSTEM:{id:"SYSTEM",label:"Sistema Solar",description:"Estrella central y sus cuerpos orbitales.",icon:"wb_sunny",color:"text-yellow-400",bgColor:"bg-yellow-900/20"},PLANET:{id:"PLANET",label:"Planeta / Mundo",description:"Cuerpo celeste o plano de existencia principal.",icon:"public",color:"text-emerald-400",bgColor:"bg-emerald-900/20"},GEOGRAPHY:{id:"GEOGRAPHY",label:"Geografa",icon:"map",color:"text-green-300"},ENTITIES:{id:"ENTITIES",label:"Entidades",icon:"groups",color:"text-blue-300"},MAGIC:{id:"MAGIC",label:"Magia",icon:"auto_fix_high",color:"text-pink-300"},TIMELINE:{id:"TIMELINE",label:"Cronologa",icon:"history",color:"text-orange-300"},FACTIONS:{id:"FACTIONS",label:"Facciones",icon:"security",color:"text-red-300"},ITEMS:{id:"ITEMS",label:"Objetos",icon:"inventory_2",color:"text-gray-300"},FOLDER:{id:"FOLDER",label:"Carpeta",icon:"folder",color:"text-gray-400"}},Vc=e=>Zn[e]||Zn.FOLDER,aE=()=>{const{username:e,projectName:t,folderSlug:n}=Dt(),r=_t(),{handleCreateEntity:s,handleOpenCreateModal:i}=_l(),[a,o]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState(null),[p,m]=y.useState(!0);y.useEffect(()=>{w()},[n]);const w=async()=>{m(!0);try{const[h,x,v]=await Promise.all([X.get(`/world-bible/folders/${n}/entities`),X.get(`/world-bible/folders/${n}/subfolders`),X.get(`/world-bible/folders/${n}`)]);o(h),u(x),f(v||{name:"Folder"})}catch(h){console.error("Error loading folder content:",h)}finally{m(!1)}};if(p)return l.jsx("div",{className:"p-20 text-center animate-pulse text-text-muted",children:"Loading sector..."});const g=d&&d.tipo&&(["UNIVERSE","GALAXY","SYSTEM","PLANET"].includes(d.tipo)||d.tipo==="MAGIC"),N=d?Vc(d.tipo):Zn.FOLDER;return g?l.jsxs("div",{className:"flex-1 overflow-y-auto bg-[#0a0a0c] text-white w-full h-full relative",children:[l.jsxs("div",{className:`w-full min-h-[300px] ${N.bgColor} relative flex items-end p-10 border-b border-white/5`,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a0a0c] to-transparent opacity-80 pointer-events-none"}),l.jsxs("div",{className:"relative z-10 flex gap-8 items-end w-full max-w-7xl mx-auto",children:[l.jsx("div",{className:`w-32 h-32 rounded-3xl ${N.bgColor} border border-white/10 flex items-center justify-center shadow-2xl`,children:l.jsx("span",{className:`material-symbols-outlined text-6xl ${N.color}`,children:N.icon})}),l.jsxs("div",{className:"flex-1 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border border-white/10 ${N.bgColor} ${N.color}`,children:N.label}),l.jsxs("span",{className:"text-white/30 text-xs font-mono tracking-widest uppercase",children:["ID: ",d.id]})]}),l.jsx("h1",{className:"text-6xl font-black tracking-tighter text-white mb-2",children:d.nombre}),l.jsx("p",{className:"text-lg text-white/50 max-w-2xl font-light leading-relaxed",children:d.descripcion||"Sin descripcin definida para este sector cosmolgico."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>r(`/${e}/${t}/bible/folder/${n}/entity/new/entidadindividual`),className:"px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 transition-all",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"person_add"})," Nueva Entidad"]}),l.jsxs("button",{onClick:()=>r(`/${e}/${t}/bible/folder/${n}/entity/new/map`),className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 transition-all border border-glass-border",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"map"})," Mapa"]}),l.jsxs("button",{onClick:()=>r(`/${e}/${t}/bible/folder/${n}/entity/new/timeline`),className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 transition-all border border-glass-border",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"timeline"})," Cronologa"]}),l.jsxs("button",{onClick:()=>i(d),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 transition-all shadow-lg shadow-indigo-500/20",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"create_new_folder"})," Nuevo Espacio"]})]})]})]}),l.jsxs("div",{className:"max-w-7xl mx-auto p-10 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-[#13141f] border border-white/5 rounded-2xl p-6",children:[l.jsx("h3",{className:"text-xs font-bold text-white/40 uppercase tracking-widest mb-4",children:"Estadsticas"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-black text-white",children:c.length}),l.jsx("div",{className:"text-[10px] text-white/40 uppercase",children:"Sub-Zonas"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-black text-white",children:a.length}),l.jsx("div",{className:"text-[10px] text-white/40 uppercase",children:"Entidades"})]})]})]}),l.jsxs("div",{className:"bg-[#13141f] border border-white/5 rounded-2xl p-6 h-64 flex flex-col",children:[l.jsx("h3",{className:"text-xs font-bold text-white/40 uppercase tracking-widest mb-4",children:"Notas Rpidas"}),l.jsx("textarea",{className:"flex-1 bg-transparent resize-none outline-none text-sm text-white/70 placeholder-white/20",placeholder:"Escribir notas de la zona..."})]})]}),l.jsxs("div",{className:"lg:col-span-2",children:[l.jsx("h3",{className:"text-xs font-bold text-white/40 uppercase tracking-widest mb-4",children:"Contenido Interno"}),c.length===0&&a.length===0&&l.jsxs("div",{className:"p-12 border border-dashed border-white/10 rounded-2xl text-center",children:[l.jsx("span",{className:"material-symbols-outlined text-4xl text-white/20 mb-2",children:"folder_open"}),l.jsx("p",{className:"text-white/30 text-sm",children:"Este sector est vaco."})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[c.map(h=>l.jsx(Ds,{item:h,type:"folder",linkTo:`/${e}/${t}/bible/folder/${h.slug||h.id}`},h.id)),a.map(h=>l.jsx(Ds,{item:h,type:"entity",linkTo:`/${e}/${t}/bible/folder/${d.slug||n}/entity/${h.slug||h.id}`},h.id))]})]})]})]}):l.jsxs("div",{className:"flex-1 p-8 max-w-[1600px] mx-auto w-full h-full overflow-y-auto",children:[l.jsxs("header",{className:"mb-8 flex items-end justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxs(Cl,{to:`/${e}/${t}/bible`,className:"text-xs font-bold text-text-muted hover:text-primary transition-colors flex items-center gap-1",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back"})," Root"]}),d&&l.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] bg-white/5 border border-white/10 ${N.color}`,children:N.label})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`material-symbols-outlined text-3xl ${N.color}`,children:N.icon}),l.jsx("h1",{className:"text-4xl font-black text-white tracking-tighter",children:(d==null?void 0:d.nombre)||"Unnamed Folder"})]}),l.jsx("p",{className:"text-white/50 text-sm mt-2 max-w-xl",children:d==null?void 0:d.descripcion})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>i(d),className:"h-10 px-4 rounded-xl bg-surface-light border border-white/5 hover:bg-white/10 transition flex items-center gap-2 text-xs font-bold text-white shadow-lg",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"create_new_folder"}),l.jsx("span",{children:"Nuevo Espacio"})]}),l.jsx("div",{className:"h-8 w-px bg-white/10 mx-2"}),l.jsxs("button",{onClick:()=>r(`/${e}/${t}/bible/folder/${n}/entity/new/entidadindividual`),className:"h-10 px-4 rounded-xl bg-primary hover:bg-primary-light transition flex items-center gap-2 text-xs font-bold text-white shadow-lg shadow-primary/20",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"person"}),l.jsx("span",{children:"Nueva Entidad"})]}),l.jsxs("button",{onClick:()=>r(`/${e}/${t}/bible/folder/${n}/entity/new/map`),className:"h-10 px-4 rounded-xl bg-surface-light border border-white/5 hover:bg-white/10 transition flex items-center gap-2 text-xs font-bold text-white",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"map"}),l.jsx("span",{children:"Mapa"})]}),l.jsxs("button",{onClick:()=>r(`/${e}/${t}/bible/folder/${n}/entity/new/timeline`),className:"h-10 px-4 rounded-xl bg-surface-light border border-white/5 hover:bg-white/10 transition flex items-center gap-2 text-xs font-bold text-white",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"timeline"}),l.jsx("span",{children:"Cronologa"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[c.map(h=>l.jsx(Ds,{item:h,type:"folder",linkTo:`/${e}/${t}/bible/folder/${h.slug||h.id}`},h.id)),a.map(h=>l.jsx(Ds,{item:h,type:"entity",linkTo:`/${e}/${t}/bible/folder/${(d==null?void 0:d.slug)||n}/entity/${h.slug||h.id}`},h.id))]}),c.length===0&&a.length===0&&l.jsx("div",{className:"p-20 text-center border-2 border-dashed border-glass-border rounded-[3rem] opacity-30 mt-8",children:l.jsx("p",{className:"text-text-muted font-bold uppercase tracking-widest",children:"Empty Folder"})})]})},oE=e=>{switch(e==null?void 0:e.toLowerCase()){case"text":return"notes";case"short_text":return"short_text";case"number":return"pin";case"date":return"calendar_today";case"select":return"list";case"boolean":return"check_box";case"map":return"map";case"timeline":return"timeline";case"character":case"entidadindividual":return"person";case"location":case"zona":case"construccion":return"location_on";case"culture":case"entidadcolectiva":return"groups";case"universe":case"galaxy":case"system":case"planet":return"public";case"entity_link":return"link";default:return"description"}},cE=(e,t,n,r)=>{const s=n.slug||n.id;return`/${e}/${t}/bible/folder/${r||"root"}/entity/${s}`},Tg=({folder:e,onCreateSubfolder:t,onRename:n,onDeleteFolder:r,onDeleteEntity:s,onCreateTemplate:i,onMoveEntity:a,onCreateEntity:o,onConfirmCreate:c,className:u})=>{const{username:d,projectName:f}=Dt(),p=_t(),[m,w]=y.useState(!1),[g,N]=y.useState({folders:[],entities:[]}),[h,x]=y.useState(!1),[v,b]=y.useState(null),[k,z]=y.useState(e.nombre);y.useEffect(()=>{z(e.nombre)},[e.nombre]),y.useEffect(()=>{const T=_=>{var ne,ce,fe,ue;const{folderId:S,optimisticType:M,confirmedType:L,removeId:F,item:W,oldId:U,expand:q,type:te}=_.detail||{};if(S===e.id){if(q&&(w(!0),h||E()),h)if(M){const H=M==="folder"?"folders":"entities";N(G=>({...G,[H]:[...G[H].filter(J=>J.id!==W.id),W]}))}else if(L){const H=L==="folder"?"folders":"entities";N(G=>({...G,[H]:G[H].map(J=>J.id===U?W:J)}))}else if(F){const H=te==="folder"?"folders":"entities";N(G=>({...G,[H]:G[H].filter(J=>J.id!==F)}))}else!M&&!L&&!F&&E()}else((ne=_.detail)==null?void 0:ne.targetFolderId)===e.id&&((ce=_.detail)==null?void 0:ce.type)==="move-in"?h&&E():((fe=_.detail)==null?void 0:fe.sourceFolderId)===e.id&&((ue=_.detail)==null?void 0:ue.type)==="move-out"&&h&&N(H=>({...H,entities:H.entities.filter(G=>G.id!==G.detail.entityId)}))};return window.addEventListener("folder-update",T),()=>window.removeEventListener("folder-update",T)},[e.id,h]);const E=async()=>{try{const[T,_]=await Promise.all([X.get(`/world-bible/folders/${e.id}/subfolders`),X.get(`/world-bible/folders/${e.id}/entities`)]);N({folders:T,entities:_}),x(!0)}catch(T){console.error("Error reloading folder content:",T)}},C=T=>{T.stopPropagation(),w(!m),!h&&!m&&E()},A=()=>p(`/${d}/${f}/bible/folder/${e.slug||e.id}`),P=(T,_,S,M)=>{T.preventDefault(),T.stopPropagation(),b({x:T.clientX,y:T.clientY,type:_,id:S,name:M})},I=()=>b(null);y.useEffect(()=>{if(v)return window.addEventListener("click",I),()=>window.removeEventListener("click",I)},[v]);const O=T=>{if(T.key==="Enter"){T.preventDefault();const _=T.target.value.trim();_?c(e.id,_,"folder",e.parentId,e.tipoEspecial):e.isNew&&s(e.id,e.parentId)}};if(e.isNew)return l.jsx("div",{className:"px-3 py-1 animate-in fade-in zoom-in-95 duration-200",children:l.jsx("input",{autoFocus:!0,type:"text",className:"w-full bg-surface-light border border-primary/50 rounded px-2 py-1 text-xs text-white outline-none",placeholder:"Folder Name...",onKeyDown:O,onBlur:T=>{const _=T.target.value.trim();_?c(e.id,_,"folder",e.parentId):s(e.id,e.parentId)}})});const B=({item:T,type:_})=>l.jsx("div",{className:"px-3 py-1 animate-in fade-in zoom-in-95 duration-200",children:l.jsx("input",{autoFocus:!0,type:"text",className:"w-full bg-surface-light border border-primary/50 rounded px-2 py-1 text-xs text-white outline-none",placeholder:"Name...",onKeyDown:S=>{if(S.key==="Enter"){S.preventDefault();const M=S.target.value.trim();M?c(T.id,M,_,e.id,T.tipoEspecial):s(T.id,e.id)}},onBlur:S=>{const M=S.target.value.trim();M?c(T.id,M,_,e.id,T.tipoEspecial):s(T.id,e.id)}})}),j=T=>{T.preventDefault(),T.stopPropagation(),T.currentTarget.classList.add("bg-primary/20")},R=T=>{T.preventDefault(),T.stopPropagation(),T.currentTarget.classList.remove("bg-primary/20")},$=T=>{T.preventDefault(),T.stopPropagation(),T.currentTarget.classList.remove("bg-primary/20");const _=T.dataTransfer.getData("entityId"),S=T.dataTransfer.getData("sourceFolderId");_&&S&&S!==String(e.id)&&a(_,e.id,S)};return l.jsxs("div",{className:`space-y-1 select-none ${u||""}`,children:[l.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-xl text-xs font-bold text-text-muted hover:text-white hover:bg-white/5 cursor-pointer transition-all group relative",onClick:A,onContextMenu:T=>P(T,"folder",e.id,e.nombre),onDragOver:j,onDragLeave:R,onDrop:$,children:[l.jsx("span",{onClick:C,className:`material-symbols-outlined text-lg transition-transform hover:text-primary ${m?"rotate-90 text-primary":"opacity-50"}`,children:"chevron_right"}),l.jsx("span",{className:`material-symbols-outlined text-lg ${Vc(e.tipo).color}`,children:Vc(e.tipo).icon}),l.jsx("span",{className:"truncate flex-1",children:k})]}),v&&l.jsxs("div",{className:"fixed bg-surface-dark border border-glass-border shadow-2xl rounded-xl py-2 z-50 w-48 text-xs font-medium flex flex-col",style:{top:v.y,left:v.x},onClick:T=>T.stopPropagation(),children:[l.jsx("div",{className:"px-4 py-2 border-b border-white/5 font-bold text-text-muted truncate",children:v.name}),v.type==="folder"?l.jsxs(l.Fragment,{children:[l.jsxs("button",{className:"px-4 py-2 hover:bg-white/5 text-left flex items-center gap-2",onClick:()=>{t(e),I()},children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"create_new_folder"})," New Subfolder"]}),l.jsxs("button",{className:"px-4 py-2 hover:bg-white/5 text-left flex items-center gap-2",onClick:()=>{o(e.id,"entidadindividual"),I()},children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"person"})," New Character"]}),l.jsxs("button",{className:"px-4 py-2 hover:bg-white/5 text-left flex items-center gap-2",onClick:()=>{o(e.id,"map"),I()},children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"map"})," New Map"]}),l.jsx("div",{className:"h-px bg-white/5 my-1"}),l.jsxs("button",{className:"px-4 py-2 hover:bg-red-500/10 text-red-400 text-left flex items-center gap-2",onClick:()=>{r(e.id),I()},children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"})," Delete Folder"]})]}):l.jsxs("button",{className:"px-4 py-2 hover:bg-red-500/10 text-red-400 text-left flex items-center gap-2",onClick:()=>{s(v.id,e.id),I()},children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"})," Delete Entity"]})]}),m&&l.jsxs("div",{className:"ml-6 pl-4 border-l border-glass-border space-y-1 animate-slide-in",children:[g.folders.map(T=>T.isNew?l.jsx(B,{item:T,type:"folder"},T.id):l.jsx(Tg,{folder:T,onCreateSubfolder:t,onRename:n,onDeleteFolder:r,onDeleteEntity:s,onCreateTemplate:i,onMoveEntity:a,onCreateEntity:o,onConfirmCreate:c,className:T.pending?"opacity-50 pointer-events-none":""},T.uiKey||T.id)),g.entities.map(T=>T.isNew?l.jsx(B,{item:T,type:"entity"},T.id):l.jsxs(Cl,{to:cE(d,f,T,e.slug||e.id),onContextMenu:_=>P(_,"entity",T.id,T.nombre),className:`flex items-center gap-3 px-3 py-2 rounded-xl text-[11px] font-medium text-text-muted hover:text-white hover:bg-primary/10 transition-all group cursor-grab active:cursor-grabbing ${T.pending?"opacity-50 pointer-events-none":""}`,draggable:!T.pending,onDragStart:_=>{_.dataTransfer.setData("entityId",T.id),_.dataTransfer.setData("sourceFolderId",e.id)},children:[l.jsx("span",{className:"material-symbols-outlined text-sm opacity-70 group-hover:text-primary transition-colors",children:oE(T.tipoEspecial)}),l.jsx("span",{className:"truncate",children:T.nombre})]},T.id)),h&&g.folders.length===0&&g.entities.length===0&&l.jsx("div",{className:"px-3 py-2 text-[10px] text-text-muted/30 uppercase font-black italic tracking-tighter",children:"Empty Sector"})]})]})},uE=({isOpen:e,onClose:t,onCreate:n,parentFolder:r})=>{const[s,i]=y.useState(1),[a,o]=y.useState({nombre:"",descripcion:"",tipo:"FOLDER",canvasType:"BLANK"});if(!e)return null;const c=()=>{s<3&&i(s+1)},u=()=>{s>1&&i(s-1)},d=()=>{n(a),t(),i(1),o({nombre:"",descripcion:"",tipo:"FOLDER",canvasType:"BLANK"})},f=[Zn.UNIVERSE,Zn.GALAXY,Zn.SYSTEM,Zn.PLANET];return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-[#1a1b26] w-full max-w-4xl rounded-2xl shadow-2xl border border-white/10 overflow-hidden flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-[#1f202e]",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-500/20 flex items-center justify-center text-indigo-400",children:l.jsx("span",{className:"material-icons text-sm",children:"add"})}),l.jsx("h2",{className:"text-xl font-semibold text-white",children:r?"Crear Nuevo Espacio":"Crear Nuevo Mapa"})]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition",children:l.jsx("span",{className:"material-icons",children:"close"})})]}),l.jsxs("div",{className:"p-8 overflow-y-auto flex-1",children:[l.jsxs("div",{className:`transition-opacity duration-300 ${s===1?"block":"hidden"}`,children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold text-sm",children:"1"}),l.jsx("h3",{className:"text-lg font-medium text-white",children:"Identidad y Jerarqua"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-2",children:"Nombre"}),l.jsx("input",{type:"text",value:a.nombre,onChange:p=>o({...a,nombre:p.target.value}),className:"w-full bg-[#13141f] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition",placeholder:"ej. El Bosque Susurrante"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-2",children:"Ubicacin Padre"}),l.jsxs("div",{className:"w-full bg-[#13141f] border border-white/10 rounded-xl px-4 py-3 text-gray-400 flex justify-between items-center cursor-not-allowed",children:[l.jsx("span",{children:r?r.nombre:"Raz (Nivel Superior)"}),l.jsx("span",{className:"material-icons text-sm",children:"lock"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Definido por la navegacin actual."})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-2",children:"Descripcin"}),l.jsx("textarea",{value:a.descripcion,onChange:p=>o({...a,descripcion:p.target.value}),className:"w-full h-full min-h-[140px] bg-[#13141f] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-indigo-500 resize-none transition",placeholder:"Breve descripcin..."})]})]})]}),l.jsxs("div",{className:`transition-opacity duration-300 ${s===2?"block":"hidden"}`,children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold text-sm",children:"2"}),l.jsx("h3",{className:"text-lg font-medium text-white",children:"Tipo de Espacio"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.map(p=>l.jsxs("div",{onClick:()=>o({...a,tipo:p.id}),className:`relative p-6 rounded-xl border-2 cursor-pointer transition-all hover:bg-white/5 ${a.tipo===p.id?"border-indigo-500 bg-indigo-500/10":"border-white/5 bg-[#13141f]"}`,children:[l.jsx("div",{className:`w-12 h-12 rounded-lg ${p.bgColor} flex items-center justify-center mb-4`,children:l.jsx("span",{className:`material-icons ${p.color} text-2xl`,children:p.icon})}),l.jsx("h4",{className:"text-white font-medium mb-1",children:p.label}),l.jsx("p",{className:"text-xs text-gray-400",children:p.description}),a.tipo===p.id&&l.jsx("div",{className:"absolute top-4 right-4 text-indigo-500",children:l.jsx("span",{className:"material-icons",children:"check_circle"})})]},p.id)),l.jsxs("div",{onClick:()=>o({...a,tipo:"FOLDER"}),className:`relative p-6 rounded-xl border-2 cursor-pointer transition-all hover:bg-white/5 ${a.tipo==="FOLDER"?"border-indigo-500 bg-indigo-500/10":"border-white/5 bg-[#13141f]"}`,children:[l.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-800 flex items-center justify-center mb-4",children:l.jsx("span",{className:"material-icons text-gray-400 text-2xl",children:"folder"})}),l.jsx("h4",{className:"text-white font-medium mb-1",children:"Espacio Simple"}),l.jsx("p",{className:"text-xs text-gray-400",children:"Contenedor genrico."}),a.tipo==="FOLDER"&&l.jsx("div",{className:"absolute top-4 right-4 text-indigo-500",children:l.jsx("span",{className:"material-icons",children:"check_circle"})})]})]})]}),l.jsxs("div",{className:`transition-opacity duration-300 ${s===3?"block":"hidden"}`,children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold text-sm",children:"3"}),l.jsx("h3",{className:"text-lg font-medium text-white",children:"Visualizacin (Opcional)"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{onClick:()=>o({...a,canvasType:"BLANK"}),className:`h-64 rounded-2xl border-2 border-dashed flex flex-col items-center justify-center cursor-pointer transition hover:bg-white/5 ${a.canvasType==="BLANK"?"border-indigo-500 bg-indigo-500/5":"border-white/10"}`,children:[l.jsx("span",{className:"material-icons text-5xl text-gray-500 mb-4",children:"format_paint"}),l.jsx("h4",{className:"text-white font-medium text-lg",children:"Sin Mapa"}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Solo estructura de datos"})]}),l.jsxs("div",{className:"h-64 rounded-2xl border-2 border-dashed border-white/10 flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 opacity-50",children:[l.jsx("span",{className:"material-icons text-5xl text-gray-500 mb-4",children:"cloud_upload"}),l.jsx("h4",{className:"text-white font-medium text-lg",children:"Cargar Imagen"}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"N/A"})]})]})]})]}),l.jsxs("div",{className:"p-6 border-t border-white/5 flex justify-between bg-[#1f202e]",children:[l.jsx("button",{onClick:s===1?t:u,className:"px-6 py-2.5 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition font-medium",children:s===1?"Cancelar":"Atrs"}),l.jsxs("button",{onClick:s===3?d:c,className:"px-8 py-2.5 rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white font-medium shadow-lg shadow-indigo-500/20 transition flex items-center gap-2",children:[s===3?"Crear":"Siguiente",s<3&&l.jsx("span",{className:"material-icons text-sm",children:"arrow_forward"}),s===3&&l.jsx("span",{className:"material-icons text-sm",children:"check"})]})]})]})})},dE=()=>{const{username:e,projectName:t}=Dt(),n=_t(),{handleCreateEntity:r,...s}=_l()||{},[i,a]=y.useState([]),[o,c]=y.useState(!1),[u,d]=y.useState(!1),[f,p]=y.useState(null),m=`/${e}/${t}/bible`;y.useEffect(()=>{w()},[t]);const w=async()=>{try{const k=await X.get("/world-bible/folders");a(k)}catch(k){console.error("Error loading folders:",k)}},g=(k=null)=>{p(k),d(!0),c(!1)},N=async k=>{try{const z=f?f.id:null,E=await X.post("/world-bible/folders",{nombre:k.nombre,descripcion:k.descripcion,padreId:z,tipo:k.tipo});z===null?a(C=>[...C,E]):window.dispatchEvent(new CustomEvent("folder-update",{detail:{folderId:z,optimisticType:"folder",item:E,expand:!0}}))}catch(z){console.error(z),alert("Error creating folder/zone.")}},h=async(k,z="entidadindividual")=>{const E=prompt("Nombre de la entidad:");if(E)try{const C=await X.post("/world-bible/entities",{nombre:E,carpetaId:k,tipoEspecial:z});window.dispatchEvent(new CustomEvent("folder-update",{detail:{folderId:k,optimisticType:"entity",item:C,expand:!0}})),n(`${m}/entity/${C.slug||C.id}`)}catch{alert("Failed to create entity")}},x=async(k,z)=>{try{await X.put(`/world-bible/folders/${k}`,{nombre:z}),a(E=>E.map(C=>C.id===k?{...C,nombre:z}:C))}catch(E){throw E}},v=async k=>{if(confirm("Are you sure?"))try{await X.delete(`/world-bible/folders/${k}`),a(z=>z.filter(E=>E.id!==k)),window.dispatchEvent(new CustomEvent("folder-update",{detail:{removeId:k,type:"folder"}})),w()}catch(z){console.error(z)}},b=async(k,z,E,C,A)=>{};return l.jsxs("div",{className:"flex h-full w-full bg-background-dark max-w-[1920px] mx-auto",children:[l.jsxs("aside",{className:"w-80 flex-none flex flex-col border-r border-glass-border bg-surface-dark/50 z-10",children:[l.jsxs("div",{className:"p-4 border-b border-glass-border",children:[l.jsxs("div",{className:"relative group mb-3",children:[l.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-text-muted text-sm group-focus-within:text-primary transition-colors",children:"search"}),l.jsx("input",{type:"text",placeholder:"Buscar en Biblia...",className:"w-full bg-surface-light/50 border border-glass-border rounded-xl py-2 pl-9 pr-3 text-xs focus:border-primary/50 outline-none transition-all text-white placeholder:text-text-muted/50"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-[10px] font-black uppercase tracking-widest text-text-muted",children:"Explorador"}),l.jsx("div",{className:"relative",children:l.jsx("button",{className:"transition-colors hover:text-white text-primary",onClick:()=>g(null),title:"Crear Espacio",children:l.jsx("span",{className:"material-symbols-outlined text-sm",children:"create_new_folder"})})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar p-2 space-y-0.5",children:i.length===0?l.jsxs("div",{className:"p-8 text-center opacity-30",children:[l.jsx("span",{className:"material-symbols-outlined text-3xl mb-2",children:"folder_off"}),l.jsx("p",{className:"text-[10px] uppercase font-bold",children:"Biblia Vaca"})]}):i.map(k=>l.jsx(Tg,{folder:k,onCreateSubfolder:g,onRename:x,onDeleteFolder:v,onDeleteEntity:v,onCreateTemplate:()=>{},onMoveEntity:(z,E,C)=>console.log("move",z,E,C),onCreateEntity:h,onConfirmCreate:b},k.uiKey||k.id))})]}),l.jsx("main",{className:"flex-1 overflow-hidden relative bg-gradient-to-br from-background-dark to-surface-dark/20",children:l.jsx(Du,{context:{...s,handleCreateEntity:h,handleOpenCreateModal:g}})}),l.jsx(uE,{isOpen:u,onClose:()=>d(!1),onCreate:N,parentFolder:f})]})},fE=()=>{const{username:e,projectName:t}=Dt(),{handleOpenCreateModal:n}=_l(),[r,s]=y.useState([]),[i,a]=y.useState(!0);y.useEffect(()=>{o()},[t]);const o=async()=>{a(!0);try{const c=await X.get("/world-bible/folders");s(c)}catch(c){console.error("Error loading root:",c)}finally{a(!1)}};return i?l.jsx("div",{className:"p-20 text-center animate-pulse text-text-muted",children:"Loading World Bible..."}):l.jsxs("div",{className:"flex-1 p-8 max-w-[1600px] mx-auto w-full h-full overflow-y-auto",children:[l.jsxs("header",{className:"mb-8 flex items-end justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 text-xs font-black uppercase tracking-widest text-primary italic mb-2",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"auto_stories"}),"World Bible"]}),l.jsx("h1",{className:"text-4xl font-black text-white tracking-tighter",children:"Root Index"}),l.jsx("p",{className:"text-text-muted mt-2 max-w-lg text-sm",children:"The central archive of your world. Organize characters, locations, timelines, and maps."})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("button",{onClick:()=>n(null),className:"px-6 py-2 bg-primary hover:bg-primary-light text-white rounded-xl text-xs font-bold flex items-center gap-2 transition-all shadow-lg shadow-primary/20",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"map"})," Nuevo Mapa"]})})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:r.map(c=>l.jsx(Ds,{item:c,type:"folder",linkTo:`/${e}/${t}/bible/folder/${c.slug||c.id}`},c.id))}),r.length===0&&l.jsxs("div",{className:"p-20 text-center border-2 border-dashed border-glass-border rounded-[3rem] opacity-30 mt-8",children:[l.jsx("span",{className:"material-symbols-outlined text-6xl mb-4 text-text-muted",children:"library_books"}),l.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-widest",children:"Archivo Vaco"}),l.jsx("p",{className:"text-text-muted mt-2",children:"Comienza creando espacios para organizar tu mundo."}),l.jsx("button",{onClick:()=>n(null),className:"mt-6 px-6 py-3 bg-primary text-white rounded-2xl font-bold hover:shadow-lg hover:shadow-primary/20 transition-all",children:"Crear Primer Mapa"})]})]})};function pE(){return l.jsx(Ab,{children:l.jsxs(Cb,{children:[l.jsx(ve,{path:"/",element:l.jsx(Sw,{})}),l.jsxs(ve,{element:l.jsx(bw,{}),children:[l.jsx(ve,{path:"/dashboard",element:l.jsx(kw,{})}),l.jsx(ve,{path:"/settings",element:l.jsx(Pf,{})}),l.jsxs(ve,{path:"/:username/:projectName",element:l.jsx(zw,{}),children:[l.jsx(ve,{index:!0,element:l.jsx(Ew,{})}),l.jsx(ve,{path:"writing",element:l.jsx(Gw,{})}),l.jsx(ve,{path:"entities/:type/:entityId",element:l.jsx(Iw,{})}),l.jsx(ve,{path:"settings",element:l.jsx(Pf,{})}),l.jsxs(ve,{path:"bible",element:l.jsx(dE,{}),children:[l.jsx(ve,{index:!0,element:l.jsx(fE,{})}),l.jsx(ve,{path:"folder/:folderSlug/entity/new/:type",element:l.jsx(Ts,{mode:"creation"})}),l.jsx(ve,{path:"folder/:folderSlug",element:l.jsx(aE,{})}),l.jsx(ve,{path:"entity/:entitySlug",element:l.jsx(Ts,{})}),l.jsx(ve,{path:"folder/:folderSlug/entity/:entitySlug",element:l.jsx(Ts,{})}),l.jsx(ve,{path:"folder/:folderSlug/map/:entitySlug",element:l.jsx(Ts,{})}),l.jsx(ve,{path:"folder/:folderSlug/timeline/:entitySlug",element:l.jsx(Ts,{})})]}),l.jsx(ve,{path:"map",element:l.jsx(Bw,{})}),l.jsx(ve,{path:"timeline",element:l.jsx(Aw,{})}),l.jsx(ve,{path:"languages",element:l.jsx(Ww,{})}),l.jsx(ve,{path:"trash",element:l.jsx(Yw,{})}),l.jsx(ve,{path:"graph",element:l.jsx(Tw,{})})]})]})]})})}const _p=document.getElementById("root");_p?zo.createRoot(_p).render(l.jsx(D.StrictMode,{children:l.jsx(pE,{})})):console.error("React root element not found (looked for #root)");
